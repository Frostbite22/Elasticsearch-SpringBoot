!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.CamundaTasklistUi=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g||b===l?62:b===h||b===m?63:b<i?-1:b<i+10?b-i+26+26:b<k+26?b-k:b<j+26?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;d<g;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;e<g;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(f<<4&63),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(f>>4&63),i+=b(f<<2&63),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0),l="-".charCodeAt(0),m="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],2:[function(require,module,exports){"use strict";var CamundaForm=require("./../../forms/camunda-form"),angular=require("angular"),$=CamundaForm.$,constants=require("./../../forms/constants"),CamundaFormAngular=CamundaForm.extend({renderForm:function(){function a(a,b){var c=$(b);if(!c.attr("ng-model")){var d=c.attr(constants.DIRECTIVE_CAM_VARIABLE_NAME);d&&c.attr("ng-model",d)}}var b=this;this.formElement=angular.element(this.formElement),CamundaForm.prototype.renderForm.apply(this,arguments);for(var c=0;c<this.formFieldHandlers.length;c++){var d=this.formFieldHandlers[c],e=d.selector;$(e,b.formElement).each(a)}this.formElement=angular.element(this.formElement);var f=b.formElement.injector();if(f){var g=b.formElement.scope();f.invoke(["$compile",function(a){a(b.formElement)(g)}]),g.camForm=this}},executeFormScript:function(script){this.formElement=angular.element(this.formElement);var moment=require("moment"),injector=this.formElement.injector(),scope=this.formElement.scope();!function(camForm,$scope,moment){var inject=function(a){if(!angular.isFunction(a)&&!angular.isArray(a))throw new Error("Must call inject(array|fn)");injector.instantiate(a,{$scope:scope})};eval(script)}(this,scope,moment)},fireEvent:function(){this.formElement=angular.element(this.formElement);var a=this,b=arguments,c=this.formElement.scope(),d=function(){CamundaForm.prototype.fireEvent.apply(a,b)},e=a.formElement.injector();e&&e.invoke(["$rootScope",function(a){var b=a.$$phase;"$apply"!==b&&"$digest"!==b?c.$apply(function(){d()}):d()}])}});module.exports=CamundaFormAngular},{"./../../forms/camunda-form":38,"./../../forms/constants":39,angular:"angular",moment:"moment"}],3:[function(a,b,c){"use strict";var d=a("angular"),e=a("./camunda-form-angular"),f=a("./../../forms/type-util").isType,g=d.module("cam.embedded.forms",[]);g.directive("camVariableName",["$rootScope",function(a){return{require:"ngModel",link:function(b,c,d,e){c.on("camFormVariableApplied",function(c,d){var f=a.$$phase;"$apply"!==f&&"$digest"!==f?b.$apply(function(){e.$setViewValue(d)}):e.$setViewValue(d)})}}}]),g.directive("camVariableType",[function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){var e=c.camVariableType;return d.$setValidity("camVariableType",!0),(a||a===!1||"Bytes"===e)&&(d.$pristine&&(d.$pristine=!1,d.$dirty=!0,b.addClass("ng-dirty"),b.removeClass("ng-pristine")),["Boolean","String","Bytes"].indexOf(e)!==-1||f(a,e)||d.$setValidity("camVariableType",!1),"file"===c.type&&"Bytes"===e&&b[0].files&&b[0].files[0]&&b[0].files[0].size>(c.camMaxFilesize||5e6)&&d.$setValidity("camVariableType",!1)),a};d.$parsers.unshift(e),d.$formatters.push(e),c.$observe("camVariableType",function(){return e(d.$viewValue)}),b.bind("change",function(){e(d.$viewValue),a.$apply()})}}}]),b.exports=e},{"./../../forms/type-util":45,"./camunda-form-angular":2,angular:"angular"}],4:[function(a,b,c){b.exports={Client:a("./../api-client"),Form:a("./forms"),utils:a("./../utils")}},{"./../api-client":8,"./../utils":47,"./forms":3}],5:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../events"),g=a("./../base-class"),h=g.extend({initialize:function(){this.http=this.constructor.http}},{path:"",http:{},create:function(){},list:function(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d;var c=this,f={count:0,items:[]},g=e.defer(),h=!1,i=!1,j=function(){i&&h&&(c.trigger("loaded",f),g.resolve(f),b(null,f))};return c.count(a,function(a,d){a?(c.trigger("error",a),g.reject(a),b(a)):(f.count=d,h=!0,j())}),c.http.get(c.path,{data:a,done:function(d,e){d?(c.trigger("error",d),g.reject(d),b(d)):(f.items=e,f.firstResult=parseInt(a.firstResult||0,10),f.maxResults=f.firstResult+parseInt(a.maxResults||10,10),i=!0,j())}}),g.promise},count:function(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d;var c=this,f=e.defer();return this.http.get(this.path+"/count",{data:a,done:function(a,d){a?(c.trigger("error",a),f.reject(a),b(a)):(f.resolve(d.count),b(null,d.count))}}),f.promise},update:function(){},"delete":function(){}});f.attach(h),b.exports=h},{"./../base-class":36,"./../events":37,q:"q"}],6:[function(a,b,c){c.createSimpleGetQueryFunction=function(a){return function(b,c){var d=this.path+a;return"function"==typeof b&&(c=b,b={}),this.http.get(d,{data:b,done:c})}}},{}],7:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){return b=b||d,function(d,e){return d||!e.ok&&!e.noContent?(d=d||e.error||new Error("The "+e.req.method+" request on "+e.req.url+" failed"),e&&e.body&&e.body.message&&(d.message=e.body.message),a.trigger("error",d),c&&c.reject(d),b(d)):("application/hal+json"===e.type&&(e.body&&0!==Object.keys(e.body).length||(e.body=JSON.parse(e.text)),e.body=i.solveHALEmbedded(e.body)),c&&c.resolve(e.body?e.body:e.text?e.text:""),void b(null,e.body?e.body:e.text?e.text:""))}}var f=a("superagent"),g=a("q"),h=a("./../events"),i=a("./../utils"),j=function(a){if(a=a||{},a.headers=a.headers||{},a.headers.Accept||(a.headers.Accept="application/hal+json, application/json; q=0.5"),!a.baseUrl)throw new Error("HttpClient needs a `baseUrl` configuration property.");h.attach(this),this.config=a};j.prototype.post=function(a,b){b=b||{};var h=b.done||d,i=this,j=g.defer(),k=this.config.baseUrl+(a?"/"+a:""),l=f.post(k),m=b.headers||this.config.headers;if(m.Accept=m.Accept||this.config.headers.Accept,"undefined"!=typeof c)Object.keys(b.fields||{}).forEach(function(a){l.field(a,b.fields[a])}),(b.attachments||[]).forEach(function(a,b){l.attach("data_"+b,new c(a.content),a.name)});else if(b.fields||b.attachments){var n=new Error("Multipart request is only supported in node.js environement.");return h(n),j.reject(n)}return l.set(m).send(b.data||{}).query(b.query||{}),l.end(e(i,h,j)),j.promise},j.prototype.get=function(a,b){var c=this.config.baseUrl+(a?"/"+a:"");return this.load(c,b)},j.prototype.load=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=b.headers||this.config.headers,k=b.accept||j.Accept||this.config.headers.Accept,l=f.get(a).set(j).set("Accept",k).query(b.data||{});return l.end(e(h,c,i)),i.promise},j.prototype.put=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=b.headers||this.config.headers;k.Accept=k.Accept||this.config.headers.Accept;var l=f.put(j).set(k).send(b.data||{});return l.end(e(h,c,i)),i.promise},j.prototype.del=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=b.headers||this.config.headers;k.Accept=k.Accept||this.config.headers.Accept;var l=f.del(j).set(k).send(b.data||{});return l.end(e(h,c,i)),i.promise},j.prototype.options=function(a,b){b=b||{};var c=b.done||d,h=this,i=g.defer(),j=this.config.baseUrl+(a?"/"+a:""),k=b.headers||this.config.headers;k.Accept=k.Accept||this.config.headers.Accept;var l=f("OPTIONS",j).set(k);return l.end(e(h,c,i)),i.promise},b.exports=j}).call(this,a("buffer").Buffer)},{"./../events":37,"./../utils":47,buffer:130,q:"q",superagent:"superagent"}],8:[function(a,b,c){"use strict";function d(a){if(!a)throw new Error("Needs configuration");if(!a.apiUri)throw new Error("An apiUri is required");e.attach(this),a.engine="undefined"!=typeof a.engine?a.engine:"default",a.mock="undefined"==typeof a.mock||a.mock,a.resources=a.resources||{},this.HttpClient=a.HttpClient||d.HttpClient,this.baseUrl=a.apiUri,a.engine&&(this.baseUrl+="/"!==this.baseUrl.slice(-1)?"/":"",this.baseUrl+="engine/"+a.engine),this.config=a,this.initialize()}var e=a("./../events");d.HttpClient=a("./http-client"),function(b){b.config={};var c={};b.initialize=function(){function b(a){d.trigger("error",a)}c.authorization=a("./resources/authorization"),c.batch=a("./resources/batch"),c.deployment=a("./resources/deployment"),c["external-task"]=a("./resources/external-task"),c.filter=a("./resources/filter"),c.history=a("./resources/history"),c["process-definition"]=a("./resources/process-definition"),c["process-instance"]=a("./resources/process-instance"),c.task=a("./resources/task"),c["task-report"]=a("./resources/task-report"),c.variable=a("./resources/variable"),c["case-execution"]=a("./resources/case-execution"),c["case-instance"]=a("./resources/case-instance"),c["case-definition"]=a("./resources/case-definition"),c.user=a("./resources/user"),c.group=a("./resources/group"),c.tenant=a("./resources/tenant"),c.incident=a("./resources/incident"),c["job-definition"]=a("./resources/job-definition"),c.job=a("./resources/job"),c.metrics=a("./resources/metrics"),c["decision-definition"]=a("./resources/decision-definition"),c.execution=a("./resources/execution"),c.migration=a("./resources/migration"),c.drd=a("./resources/drd"),c.modification=a("./resources/modification"),c.message=a("./resources/message");var d=this;this.http=new this.HttpClient({baseUrl:this.baseUrl,headers:this.config.headers});var e,f,g,h;for(e in c){f={name:e,mock:this.config.mock,baseUrl:this.baseUrl,headers:this.config.headers},g=this.config.resources[e]||{};for(h in g)f[h]=g[h];c[e].http=new this.HttpClient(f),c[e].http.on("error",b)}},b.resource=function(a){return c[a]}}(d.prototype),b.exports=d},{"./../events":37,"./http-client":7,"./resources/authorization":9,"./resources/batch":10,"./resources/case-definition":11,"./resources/case-execution":12,"./resources/case-instance":13,"./resources/decision-definition":14,"./resources/deployment":15,"./resources/drd":16,"./resources/execution":17,"./resources/external-task":18,"./resources/filter":19,"./resources/group":20,"./resources/history":21,"./resources/incident":22,"./resources/job":24,"./resources/job-definition":23,"./resources/message":25,"./resources/metrics":26,"./resources/migration":27,"./resources/modification":28,"./resources/process-definition":29,"./resources/process-instance":30,"./resources/task":32,"./resources/task-report":31,"./resources/tenant":33,"./resources/user":34,"./resources/variable":35}],9:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="authorization",e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},e.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},e.save=function(a,b){return e[a.id?"update":"create"](a,b)},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.check=function(a,b){return this.http.get(this.path+"/check",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],10:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="batch",e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.suspended=function(a,b){return this.http.put(this.path+"/"+a.id+"/suspended",{data:{suspended:!!a.suspended},done:b})},e.statistics=function(a,b){return this.http.get(this.path+"/statistics/",{data:a,done:b})},e.statisticsCount=function(a,b){return this.http.get(this.path+"/statistics/count",{data:a,done:b})},e["delete"]=function(a,b){var c=this.path+"/"+a.id;return a.cascade&&(c+="?cascade=true"),this.http.del(c,{done:b})},b.exports=e},{"./../abstract-client-resource":5}],11:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=e.extend();f.path="case-definition",f.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},f.getByKey=function(a,b){return this.http.get(this.path+"/key/"+a,{done:b})},f.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},f.create=function(a,b){var c=this.path+"/";return a.id?c+=a.id:(c=c+"key/"+a.key,a.tenantId&&(c=c+"/tenant-id/"+a.tenantId)),this.http.post(c+"/create",{data:a,done:b})},f.xml=function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/xml";return this.http.get(c,{done:b||d})},f.updateHistoryTimeToLive=function(a,b,c){var d=this.path+"/"+a+"/history-time-to-live";return this.http.put(d,{data:b,done:c})},b.exports=f},{"./../abstract-client-resource":5}],12:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="case-execution",g.list=function(a,b){return b=b||d,this.http.get(this.path,{data:a,done:b})},g.disable=function(a,b,c){return this.http.post(this.path+"/"+a+"/disable",{data:b,done:c})},g.reenable=function(a,b,c){return this.http.post(this.path+"/"+a+"/reenable",{data:b,done:c})},g.manualStart=function(a,b,c){return this.http.post(this.path+"/"+a+"/manual-start",{data:b,done:c})},g.complete=function(a,b,c){return this.http.post(this.path+"/"+a+"/complete",{data:b,done:c})},g.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+f.escapeUrl(a.varId),{done:b})},g.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},b.exports=g},{"../../utils":47,"./../abstract-client-resource":5}],13:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=a("../../utils"),f=d.extend();f.path="case-instance",f.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},f.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},f.close=function(a,b,c){return this.http.post(this.path+"/"+a+"/close",{data:b,done:c})},f.terminate=function(a,b,c){return this.http.post(this.path+"/"+a+"/terminate",{data:b,done:c})},f.setVariable=function(a,b,c){var d=this.path+"/"+a+"/variables/"+e.escapeUrl(b.name);return this.http.put(d,{data:b,done:c})},b.exports=f},{"../../utils":47,"./../abstract-client-resource":5}],14:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="decision-definition",e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.getXml=function(a,b){return this.http.get(this.path+"/"+a+"/xml",{done:b})},e.evaluate=function(a,b){return this.http.post(this.path+"/"+(a.id?a.id:"key/"+a.key)+"/evaluate",{data:a,done:b})},e.updateHistoryTimeToLive=function(a,b,c){var d=this.path+"/"+a+"/history-time-to-live";return this.http.put(d,{data:b,done:c})},b.exports=e},{"./../abstract-client-resource":5}],15:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="deployment",e.create=function(a,b){var c={"deployment-name":a.deploymentName},d=Array.isArray(a.files)?a.files:[a.files];return a.deploymentSource&&(c["deployment-source"]=a.deploymentSource),a.enableDuplicateFiltering&&(c["enable-duplicate-filtering"]="true"),a.deployChangedOnly&&(c["deploy-changed-only"]="true"),a.tenantId&&(c["tenant-id"]=a.tenantId),this.http.post(this.path+"/create",{data:{},fields:c,attachments:d,done:b})},e["delete"]=function(a,b,c){var d=this.path+"/"+a;if(b){var e=[];for(var f in b){var g=b[f];e.push(f+"="+g)}e.length&&(d+="?"+e.join("&"))}return this.http.del(d,{done:c})},e.list=function(){return d.list.apply(this,arguments)},e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.getResources=function(a,b){return this.http.get(this.path+"/"+a+"/resources",{done:b})},e.getResource=function(a,b,c){return this.http.get(this.path+"/"+a+"/resources/"+b,{done:c})},e.getResourceData=function(a,b,c){return this.http.get(this.path+"/"+a+"/resources/"+b+"/data",{accept:"*/*",done:c})},e.redeploy=function(a,b){var c=a.id;return delete a.id,this.http.post(this.path+"/"+c+"/redeploy",{data:a,done:b||function(){}})},b.exports=e},{"./../abstract-client-resource":5}],16:[function(a,b,c){"use strict";function d(a,b){return a+"/"+g.escapeUrl(b)}function e(a,b,c){var d=a+"/key/"+g.escapeUrl(b);return"function"!=typeof c&&(d+="/tenant-id/"+g.escapeUrl(c)),d}var f=a("../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="decision-requirements-definition",h.count=function(a,b){return"function"==typeof a&&(b=a,a={}),this.http.get(this.path+"/count",{data:a,done:b})},h.list=function(a,b){return"function"==typeof a&&(b=a,a={}),this.http.get(this.path,{data:a,done:b})},h.get=function(a,b){return this.http.get(d(this.path,a),{done:b})},h.getByKey=function(a,b,c){var d=e(this.path,a,b);return"function"==typeof b&&(c=b),this.http.get(d,{done:c})},h.getXML=function(a,b){return this.http.get(d(this.path,a)+"/xml",{done:b})},h.getXMLByKey=function(a,b,c){var d=e(this.path,a,b)+"/xml";return"function"==typeof b&&(c=b),this.http.get(d,{done:c})},b.exports=h},{"../../utils":47,"../abstract-client-resource":5}],17:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=a("../../utils"),f=d.extend();f.path="execution",f.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+e.escapeUrl(a.varId),{done:b})},f.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},b.exports=f},{"../../utils":47,"./../abstract-client-resource":5}],18:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="external-task",e.get=function(a,b){return this.http.get(this.path+"/"+a.id,{data:a,done:b})},e.list=function(a,b){var c=this.path+"/";return c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},e.count=function(a,b){return this.http.post(this.path+"/count",{data:a,done:b})},e.fetchAndLock=function(a,b){return this.http.post(this.path+"/fetchAndLock",{data:a,done:b})},e.complete=function(a,b){return this.http.post(this.path+"/"+a.id+"/complete",{data:a,done:b})},e.failure=function(a,b){return this.http.post(this.path+"/"+a.id+"/failure",{data:a,done:b})},e.unlock=function(a,b){return this.http.post(this.path+"/"+a.id+"/unlock",{data:a,done:b})},e.retries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},e.retriesAsync=function(a,b){return this.http.post(this.path+"/retries-async",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],19:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="filter",e.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},e.list=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.getTasks=function(a,b){var c=this.path+"/";return"string"==typeof a?(c=c+a+"/list",a={}):(c=c+a.id+"/list",delete a.id),c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},e.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},e.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},e.save=function(a,b){return e[a.id?"update":"create"](a,b)},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.authorizations=function(a,b){return 1===arguments.length?this.http.options(this.path,{done:a,headers:{Accept:"application/json"}}):this.http.options(this.path+"/"+a,{done:b,headers:{Accept:"application/json"}})},b.exports=e},{"./../abstract-client-resource":5}],20:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="group",g.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+f.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},g.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b||d})},g.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},g.get=function(a,b){var c="string"==typeof a?a:a.id;return this.http.get(this.path+"/"+f.escapeUrl(c),{data:a,done:b||d})},g.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},g.createMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.deleteMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.update=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g["delete"]=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},b.exports=g},{"../../utils":47,"./../abstract-client-resource":5}],21:[function(a,b,c){"use strict";var d=a("../abstract-client-resource"),e=a("../helpers"),f=d.extend();f.path="history",f.userOperationCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/user-operation/count",{data:a,done:b})},f.userOperation=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/user-operation",{data:a,done:b})},f.processInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/process-instance",{data:c,query:d,done:b})},f.processInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/process-instance/count",{data:a,done:b})},f.deleteProcessInstancesAsync=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/process-instance/delete",{data:a,done:b})},f.decisionInstance=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/decision-instance",{data:a,done:b})},f.decisionInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/decision-instance/count",{data:a,done:b})},f.deleteDecisionInstancesAsync=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/decision-instance/delete",{data:a,done:b})},f.batch=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/batch",{data:a,done:b})},f.singleBatch=function(a,b){return this.http.get(this.path+"/batch/"+a,{done:b})},f.batchCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/batch/count",{data:a,done:b})},f.batchDelete=function(a,b){var c=this.path+"/batch/"+a;return this.http.del(c,{done:b})},f.report=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/process-instance/report",{data:a,done:b})},f.reportAsCsv=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/process-instance/report",{data:a,accept:"text/csv",done:b})},f.task=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/task",{data:c,query:d,done:b})},f.taskCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/task/count",{data:a,done:b})},f.taskDurationReport=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"duration",a.periodUnit=a.periodUnit||"month",this.http.get(this.path+"/task/report",{data:a,done:b})},f.taskReport=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),a.reportType=a.reportType||"count",this.http.get(this.path+"/task/report",{data:a,done:b})},f.caseInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/case-instance",{data:c,query:d,done:b})},f.caseInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/case-instance/count",{data:a,done:b})},f.caseActivityInstance=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/case-activity-instance",{data:a,done:b})},f.caseActivityInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.get(this.path+"/case-activity-instance/count",{data:a,done:b})},f.variableInstance=function(a,b){"function"==typeof a&&(b=arguments[0],a={});var c={},d={},e=["firstResult","maxResults","deserializeValues"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path+"/variable-instance",{data:c,query:d,done:b})},f.variableInstanceCount=function(a,b){return"function"==typeof a&&(b=arguments[0],a={}),this.http.post(this.path+"/variable-instance/count",{data:a,done:b})},f.caseActivityStatistics=function(a,b){var c=a.id||a;return this.http.get(this.path+"/case-definition/"+c+"/statistics",{done:b})},f.drdStatistics=function(a,b,c){var d=this.path+"/decision-requirements-definition/"+a+"/statistics";return"function"==typeof b&&(c=b,b={}),this.http.get(d,{data:b,done:c})},f.cleanupConfiguration=function(a,b){var c=this.path+"/cleanup/configuration";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanupJobs=function(a,b){var c=this.path+"/cleanup/jobs";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanup=function(a,b){var c=this.path+"/cleanup";return"function"==typeof a&&(b=a,a={}),this.http.post(c,{data:a,done:b})},f.cleanableProcessCount=function(a,b){var c=this.path+"/process-definition/cleanable-process-instance-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableProcess=function(a,b){var c=this.path+"/process-definition/cleanable-process-instance-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableCaseCount=function(a,b){var c=this.path+"/case-definition/cleanable-case-instance-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableCase=function(a,b){var c=this.path+"/case-definition/cleanable-case-instance-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableDecisionCount=function(a,b){var c=this.path+"/decision-definition/cleanable-decision-instance-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableDecision=function(a,b){var c=this.path+"/decision-definition/cleanable-decision-instance-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableBatchCount=function(a,b){var c=this.path+"/batch/cleanable-batch-report/count";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.cleanableBatch=function(a,b){var c=this.path+"/batch/cleanable-batch-report";return"function"==typeof a&&(b=a,a={}),this.http.get(c,{data:a,done:b})},f.externalTaskLogList=e.createSimpleGetQueryFunction("/external-task-log"),f.externalTaskLogCount=e.createSimpleGetQueryFunction("/external-task-log/count"),b.exports=f},{"../abstract-client-resource":5,"../helpers":6}],22:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="incident",e.get=function(a,b){return this.http.get(this.path,{data:a,done:b})},e.count=function(a,b){return this.http.get(this.path+"/count",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],23:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="job-definition",e.setRetries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],24:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="job",e.list=function(a,b){var c=this.path;return c+="?firstResult="+(a.firstResult||0),a.maxResults&&(c+="&maxResults="+a.maxResults),this.http.post(c,{data:a,done:b})},e.setRetries=function(a,b){return this.http.put(this.path+"/"+a.id+"/retries",{data:a,done:b})},e["delete"]=function(a,b){return this.http.del(this.path+"/"+a,{done:b})},e.stacktrace=function(a,b){var c=this.path+"/"+a+"/stacktrace";return this.http.get(c,{accept:"text/plain",done:b})},b.exports=e},{"./../abstract-client-resource":5}],25:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="message",e.correlate=function(a,b){var c=this.path+"/";return this.http.post(c,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],26:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="metrics",e.sum=function(a,b){var c=this.path+"/"+a.name+"/sum";return delete a.name,this.http.get(c,{data:a,done:b})},e.byInterval=function(a,b){return this.http.get(this.path,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],27:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="migration",e.generate=function(a,b){var c=this.path+"/generate";return this.http.post(c,{data:a,done:b})},e.execute=function(a,b){var c=this.path+"/execute";return this.http.post(c,{data:a,done:b})},e.executeAsync=function(a,b){var c=this.path+"/executeAsync";return this.http.post(c,{data:a,done:b})},e.validate=function(a,b){var c=this.path+"/validate";return this.http.post(c,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],28:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="modification",e.execute=function(a,b){var c=this.path+"/execute";return this.http.post(c,{data:a,done:b})},e.executeAsync=function(a,b){var c=this.path+"/executeAsync";return this.http.post(c,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],29:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=f.extend({suspend:function(a,b){return"function"==typeof a&&(b=a,a={}),a=a||{},b=b||d,this.http.post(this.path,{done:b})},stats:function(a){return this.http.post(this.path,{done:a||d})},start:function(a){
return this.http.post(this.path,{data:{},done:a})}},{path:"process-definition",get:function(a,b){return this.http.get(this.path+"/"+a,{done:b})},getByKey:function(a,b){return this.http.get(this.path+"/key/"+a,{done:b})},list:function(){return f.list.apply(this,arguments)},count:function(){return f.count.apply(this,arguments)},formVariables:function(a,b){var c="";if(b=b||d,a.key)c="key/"+a.key;else{if(!a.id){var f=new Error("Process definition task variables needs either a key or an id.");return b(f),e.reject(f)}c=a.id}var g={deserializeValues:a.deserializeValues};return a.names&&(g.variableNames=(a.names||[]).join(",")),this.http.get(this.path+"/"+c+"/form-variables",{data:g,done:b})},submitForm:function(a,b){var c="";if(b=b||d,a.key)c="key/"+a.key,a.tenantId&&(c+="/tenant-id/"+a.tenantId);else{if(!a.id)return b(new Error("Process definition task variables needs either a key or an id."));c=a.id}return this.http.post(this.path+"/"+c+"/submit-form",{data:{businessKey:a.businessKey,variables:a.variables},done:b})},"delete":function(a,b){b=b||d;var c="";if(a.key)c="key/"+a.key,a.tenantId&&(c+="/tenant-id/"+a.tenantId),c+="/delete";else{if(!a.id)return b(new Error("Process definition deletion needs either a key or an id."));c=a.id}var e="?",f="cascade";return"boolean"==typeof a[f]&&(e+=f+"="+a[f]),f="skipCustomListeners","boolean"==typeof a[f]&&(e.length>1&&(e+="&"),e+=f+"="+a[f]),this.http.del(this.path+"/"+c+e,{done:b})},startForm:function(a,b){var c=this.path+"/"+(a.key?"key/"+a.key:a.id)+"/startForm";return this.http.get(c,{done:b||d})},xml:function(a,b){var c=this.path+"/"+(a.id?a.id:"key/"+a.key)+"/xml";return this.http.get(c,{done:b||d})},statistics:function(a,b){var c=this.path;return a.id?c+="/"+a.id:a.key&&(c+="/key/"+a.key),c+="/statistics",this.http.get(c,{data:a,done:b||d})},submit:function(a,b){var c=this.path;return c+=a.key?"/key/"+a.key:"/"+a.id,c+="/submit-form",this.http.post(c,{data:a,done:b})},suspend:function(a,b,c){return"function"==typeof b&&(c=b,b={}),b=b||{},c=c||d,a=Array.isArray(a)?a:[a],this.http.post(this.path,{done:c})},start:function(a,b){var c=this.path+"/";return a.id?c+=a.id:(c=c+"key/"+a.key,a.tenantId&&(c=c+"/tenant-id/"+a.tenantId)),this.http.post(c+"/start",{data:a,done:b})},updateHistoryTimeToLive:function(a,b,c){var d=this.path+"/"+a+"/history-time-to-live";return this.http.put(d,{data:b,done:c})},restart:function(a,b,c){var d=this.path+"/"+a+"/restart";return this.http.post(d,{data:b,done:c})},restartAsync:function(a,b,c){var d=this.path+"/"+a+"/restart-async";return this.http.post(d,{data:b,done:c})}});b.exports=g},{"./../abstract-client-resource":5,q:"q"}],30:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=a("../../utils"),f=d.extend({},{path:"process-instance",get:function(a,b){return this.http.get(this.path+"/"+a,{done:b})},create:function(a,b){return this.http.post(a,b)},list:function(a,b){var c=this.path;return c+="?firstResult="+(a.firstResult||0),c+="&maxResults="+(a.maxResults||15),this.http.post(c,{data:a,done:b})},count:function(a,b){var c=this.path+"/count";return this.http.post(c,{data:a,done:b})},modify:function(a,b){return this.http.post(this.path+"/"+a.id+"/modification",{data:{instructions:a.instructions,skipCustomListeners:a.skipCustomListeners,skipIoMappings:a.skipIoMappings},done:b})},modifyAsync:function(a,b){return this.http.post(this.path+"/"+a.id+"/modification-async",{data:{instructions:a.instructions,skipCustomListeners:a.skipCustomListeners,skipIoMappings:a.skipIoMappings},done:b})},deleteAsync:function(a,b){return this.http.post(this.path+"/delete",{data:a,done:b})},deleteAsyncHistoricQueryBased:function(a,b){return this.http.post(this.path+"/delete-historic-query-based",{data:a,done:b})},setJobsRetriesAsync:function(a,b){return this.http.post(this.path+"/job-retries",{data:a,done:b})},setJobsRetriesAsyncHistoricQueryBased:function(a,b){return this.http.post(this.path+"/job-retries-historic-query-based",{data:a,done:b})},suspendAsync:function(a,b){return this.http.post(this.path+"/suspended-async",{data:a,done:b})},setVariable:function(a,b,c){var d=this.path+"/"+a+"/variables/"+e.escapeUrl(b.name);return this.http.put(d,{data:b,done:c})}});b.exports=f},{"../../utils":47,"./../abstract-client-resource":5}],31:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="task/report",e.countByCandidateGroup=function(a){return this.http.get(this.path+"/candidate-group-count",{done:a})},e.countByCandidateGroupAsCsv=function(a){return this.http.get(this.path+"/candidate-group-count",{accept:"text/csv",done:a})},b.exports=e},{"./../abstract-client-resource":5}],32:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="task",h.list=function(a,b){b=b||d;var c=e.defer();return this.http.get(this.path,{data:a,done:function(a,d){if(a)return b(a),c.reject(a);if(d._embedded){var e=d._embedded.task||d._embedded.tasks,f=d._embedded.processDefinition;for(var g in e){var h=e[g];h._embedded=h._embedded||{};for(var i in f)if(f[i].id===h.processDefinitionId){h._embedded.processDefinition=[f[i]];break}}}b(null,d),c.resolve(d)}}),c.promise},h.get=function(a,b){return this.http.get(this.path+"/"+a,{done:b})},h.comments=function(a,b){return this.http.get(this.path+"/"+a+"/comment",{done:b})},h.identityLinks=function(a,b){return this.http.get(this.path+"/"+a+"/identity-links",{done:b})},h.identityLinksAdd=function(a,b,c){return 2===arguments.length&&(c=arguments[1],b=arguments[0],a=b.id),this.http.post(this.path+"/"+a+"/identity-links",{data:b,done:c})},h.identityLinksDelete=function(a,b,c){return 2===arguments.length&&(c=arguments[1],b=arguments[0],a=b.id),this.http.post(this.path+"/"+a+"/identity-links/delete",{data:b,done:c})},h.createComment=function(a,b,c){return this.http.post(this.path+"/"+a+"/comment/create",{data:{message:b},done:c})},h.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b})},h.update=function(a,b){return this.http.put(this.path+"/"+a.id,{data:a,done:b})},h.assignee=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/assignee",{data:d,done:c})},h.delegate=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/delegate",{data:d,done:c})},h.claim=function(a,b,c){var d={userId:b};return 2===arguments.length&&(a=arguments[0].taskId,d.userId=arguments[0].userId,c=arguments[1]),this.http.post(this.path+"/"+a+"/claim",{data:d,done:c})},h.unclaim=function(a,b){return"string"!=typeof a&&(a=a.taskId),this.http.post(this.path+"/"+a+"/unclaim",{done:b})},h.submitForm=function(a,b){if(b=b||d,!a.id){var c=new Error("Task submitForm needs a task id.");return b(c),e.reject(c)}return this.http.post(this.path+"/"+a.id+"/submit-form",{data:{variables:a.variables},done:b})},h.complete=function(a,b){if(b=b||d,!a.id){var c=new Error("Task complete needs a task id.");return b(c),e.reject(c)}return this.http.post(this.path+"/"+a.id+"/complete",{data:{variables:a.variables},done:b})},h.formVariables=function(a,b){b=b||d;var c="";if(a.key)c="key/"+a.key;else{if(!a.id){var f=new Error("Task variables needs either a key or an id.");return b(f),e.reject(f)}c=a.id}var g={deserializeValues:a.deserializeValues};return a.names&&(g.variableNames=a.names.join(",")),this.http.get(this.path+"/"+c+"/form-variables",{data:g,done:b})},h.form=function(a,b){return this.http.get(this.path+"/"+a+"/form",{done:b})},h.localVariable=function(a,b){return this.http.put(this.path+"/"+a.id+"/localVariables/"+a.varId,{data:a,done:b})},h.localVariables=function(a,b){return this.http.get(this.path+"/"+a+"/localVariables",{done:b})},h.modifyVariables=function(a,b){return this.http.post(this.path+"/"+a.id+"/localVariables",{data:a,done:b})},h.deleteVariable=function(a,b){return this.http.del(this.path+"/"+a.id+"/localVariables/"+g.escapeUrl(a.varId),{done:b})},b.exports=h},{"../../utils":47,"./../abstract-client-resource":5,q:"q"}],33:[function(a,b,c){"use strict";function d(){}var e=a("./../abstract-client-resource"),f=a("../../utils"),g=e.extend();g.path="tenant",g.create=function(a,b){return this.http.post(this.path+"/create",{data:a,done:b||d})},g.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},g.get=function(a,b){var c;return"string"==typeof a?(c=a,a={}):(c=a.id,delete a.id),this.http.get(this.path+"/"+f.escapeUrl(c),{data:a,done:b||d})},g.list=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},g.createUserMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/user-members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.createGroupMember=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id)+"/group-members/"+f.escapeUrl(a.groupId),{data:a,done:b||d})},g.deleteUserMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/user-members/"+f.escapeUrl(a.userId),{data:a,done:b||d})},g.deleteGroupMember=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id)+"/group-members/"+f.escapeUrl(a.groupId),{data:a,done:b||d})},g.update=function(a,b){return this.http.put(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g["delete"]=function(a,b){return this.http.del(this.path+"/"+f.escapeUrl(a.id),{data:a,done:b||d})},g.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+f.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},b.exports=g},{"../../utils":47,"./../abstract-client-resource":5}],34:[function(a,b,c){"use strict";function d(){}var e=a("q"),f=a("./../abstract-client-resource"),g=a("../../utils"),h=f.extend();h.path="user",h.options=function(a,b){var c;return 1===arguments.length?(b=a,c=""):(c="string"==typeof a?a:a.id,void 0===c&&(c="")),this.http.options(this.path+"/"+g.escapeUrl(c),{done:b||d,headers:{Accept:"application/json"}})},h.create=function(a,b){a=a||{},b=b||d;var c=["id","firstName","lastName","password"];for(var f in c){var g=c[f];if(!a[g]){var h=new Error("Missing "+g+" option to create user");return b(h),e.reject(h)}}var i={profile:{id:a.id,firstName:a.firstName,lastName:a.lastName},credentials:{password:a.password}};return a.email&&(i.profile.email=a.email),this.http.post(this.path+"/create",{data:i,done:b})},h.list=function(a,b){return"function"==typeof a?(b=a,a={}):a=a||{},this.http.get(this.path,{data:a,done:b||d})},h.count=function(a,b){return 1===arguments.length?(b=a,a={}):a=a||{},this.http.get(this.path+"/count",{data:a,done:b||d})},h.profile=function(a,b){var c="string"==typeof a?a:a.id;return this.http.get(this.path+"/"+g.escapeUrl(c)+"/profile",{done:b||d})},h.updateProfile=function(a,b){if(a=a||{},b=b||d,!a.id){var c=new Error("Missing id option to update user profile");return b(c),e.reject(c)}return this.http.put(this.path+"/"+g.escapeUrl(a.id)+"/profile",{data:a,done:b})},h.updateCredentials=function(a,b){a=a||{},b=b||d;var c;if(!a.id)return c=new Error("Missing id option to update user credentials"),b(c),e.reject(c);if(!a.password)return c=new Error("Missing password option to update user credentials"),b(c),e.reject(c);var f={password:a.password};return a.authenticatedUserPassword&&(f.authenticatedUserPassword=a.authenticatedUserPassword),this.http.put(this.path+"/"+g.escapeUrl(a.id)+"/credentials",{data:f,done:b})},h["delete"]=function(a,b){var c="string"==typeof a?a:a.id;return this.http.del(this.path+"/"+g.escapeUrl(c),{done:b||d})},h.unlock=function(a,b){var c="string"==typeof a?a:a.id;return this.http.get(this.path+"/"+g.escapeUrl(c)+"/unlock",{done:b||d})},b.exports=h},{"../../utils":47,"./../abstract-client-resource":5,q:"q"}],35:[function(a,b,c){"use strict";var d=a("./../abstract-client-resource"),e=d.extend();e.path="variable-instance",e.instances=function(a,b){var c={},d={},e=["firstResult","maxResults","deserializeValues"];for(var f in a)e.indexOf(f)>-1?d[f]=a[f]:c[f]=a[f];return this.http.post(this.path,{data:c,query:d,done:b})},e.count=function(a,b){var c=this.path+"/count";return this.http.post(c,{data:a,done:b})},b.exports=e},{"./../abstract-client-resource":5}],36:[function(a,b,c){"use strict";function d(){}function e(){this.initialize()}var f=a("./events");e.extend=function(a,b){a=a||{},b=b||{};var c,d,e,f,g=this;c=a&&Object.hasOwnProperty.call(g,"constructor")?a.constructor:function(){return g.apply(this,arguments)};for(e in g)c[e]=g[e];for(e in b)c[e]=b[e];d=function(){this.constructor=c},d.prototype=g.prototype,c.prototype=new d;for(f in a)c.prototype[f]=a[f];return c},e.prototype.initialize=d,f.attach(e),b.exports=e},{"./events":37}],37:[function(a,b,c){"use strict";function d(a){var b,c=[];for(b in a)c.push(a[b]);return c}function e(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}function f(a,b){a._events=a._events||{},a._events[b]=a._events[b]||[]}var g={};g.attach=function(a){a.on=this.on,a.once=this.once,a.off=this.off,a.trigger=this.trigger,a._events={}},g.on=function(a,b){return f(this,a),this._events[a].push(b),this},g.once=function(a,b){var c=this,d=e(function(){c.off(a,e),b.apply(this,arguments)});return d._callback=b,this.on(a,d)},g.off=function(a,b){if(f(this,a),!b)return delete this._events[a],this;var c,d=[];for(c in this._events[a])this._events[a][c]!==b&&d.push(this._events[a][c]);return this._events[a]=d,this},g.trigger=function(){var a=d(arguments),b=a.shift();f(this,b);var c;for(c in this._events[b])this._events[b][c](this,a);return this},b.exports=g},{}],38:[function(require,module,exports){"use strict";function extend(a,b){for(var c in b)a[c]=b[c];return a}function CamundaForm(a){if(!a)throw new Error("CamundaForm need to be initialized with options.");var b=a.done=a.done||function(a){if(a)throw a};return a.client?this.client=a.client:this.client=new CamSDK.Client(a.clientConfig||{}),a.taskId||a.processDefinitionId||a.processDefinitionKey?(this.taskId=a.taskId,this.taskId&&(this.taskBasePath=this.client.baseUrl+"/task/"+this.taskId),this.processDefinitionId=a.processDefinitionId,this.processDefinitionKey=a.processDefinitionKey,this.formElement=a.formElement,this.containerElement=a.containerElement,this.formUrl=a.formUrl,this.formElement||this.containerElement?this.formElement||this.formUrl?(this.variableManager=new VariableManager({client:this.client}),this.formFieldHandlers=a.formFieldHandlers||[InputFieldHandler,ChoicesFieldHandler,FileDownloadHandler],this.businessKey=null,this.fields=[],this.scripts=[],this.options=a,Events.attach(this),void this.initialize(b)):b(new Error("Camunda form needs to be intialized with either 'formElement' or 'formUrl'")):b(new Error("CamundaForm needs to be initilized with either 'formElement' or 'containerElement'"))):b(new Error("Cannot initialize Taskform: either 'taskId' or 'processDefinitionId' or 'processDefinitionKey' must be provided"))}var moment=require("moment"),$=require("./dom-lib"),VariableManager=require("./variable-manager"),InputFieldHandler=require("./controls/input-field-handler"),ChoicesFieldHandler=require("./controls/choices-field-handler"),FileDownloadHandler=require("./controls/file-download-handler"),BaseClass=require("./../base-class"),constants=require("./constants"),Events=require("./../events");CamundaForm.prototype.initializeHandler=function(a){var b=this,c=a.selector;$(c,b.formElement).each(function(){b.fields.push(new a(this,b.variableManager))})},CamundaForm.prototype.initialize=function(a){a=a||function(a){if(a)throw a};var b=this;if(this.formUrl)this.client.http.load(this.formUrl,{accept:"*/*",done:function(c,d){if(c)return a(c);try{b.renderForm(d),b.initializeForm(a)}catch(e){a(e)}},data:extend({noCache:Date.now()},this.options.urlParams||{})});else try{this.initializeForm(a)}catch(c){a(c)}},CamundaForm.prototype.renderForm=function(a){$(this.containerElement).html("").append('<div class="injected-form-wrapper">'+a+"</div>");var b=this.formElement=$("form",this.containerElement);if(1!==b.length)throw new Error("Form must provide exaclty one element <form ..>");b.attr("name")||b.attr("name","$$camForm")},CamundaForm.prototype.initializeForm=function(a){var b=this;this.initializeFormScripts(),this.initializeFieldHandlers(),this.executeFormScripts(),this.fireEvent("form-loaded"),this.fetchVariables(function(c,d){if(c)throw c;b.mergeVariables(d),b.storeOriginalValues(d),b.fireEvent("variables-fetched"),b.restore(),b.fireEvent("variables-restored"),b.applyVariables(),b.fireEvent("variables-applied"),a(null,b)})},CamundaForm.prototype.initializeFieldHandlers=function(){for(var a in this.formFieldHandlers)this.initializeHandler(this.formFieldHandlers[a])},CamundaForm.prototype.initializeFormScripts=function(){for(var a=$("script["+constants.DIRECTIVE_CAM_SCRIPT+"]",this.formElement),b=0;b<a.length;b++)this.scripts.push(a[b].text)},CamundaForm.prototype.executeFormScripts=function(){for(var a=0;a<this.scripts.length;a++)this.executeFormScript(this.scripts[a])},CamundaForm.prototype.executeFormScript=function(script){!function(camForm){eval(script)}(this)},CamundaForm.prototype.store=function(a){var b=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!b){if("function"==typeof a)return a(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.storePrevented=!1,this.fireEvent("store"),!this.storePrevented){try{this.retrieveVariables();var c={date:Date.now(),vars:{}};for(var d in this.variableManager.variables)"Bytes"!==this.variableManager.variables[d].type&&(c.vars[d]=this.variableManager.variables[d].value);localStorage.setItem("camForm:"+b,JSON.stringify(c))}catch(e){if("function"==typeof a)return a(e);throw e}this.fireEvent("variables-stored"),"function"==typeof a&&a()}},CamundaForm.prototype.isRestorable=function(){var a=this.taskId||this.processDefinitionId||this.caseInstanceId;if(!a)throw new Error("Cannot determine the storage ID");if(!localStorage.getItem("camForm:"+a))return!1;var b=localStorage.getItem("camForm:"+a);try{b=JSON.parse(b)}catch(c){return!1}return!(!b||!Object.keys(b).length)},CamundaForm.prototype.restore=function(a){var b,c=this.variableManager.variables,d=this.taskId||this.processDefinitionId||this.caseDefinitionId;if(!d){if("function"==typeof a)return a(new Error("Cannot determine the storage ID"));throw new Error("Cannot determine the storage ID")}if(this.isRestorable()){try{b=localStorage.getItem("camForm:"+d),b=JSON.parse(b).vars}catch(e){if("function"==typeof a)return a(e);throw e}for(var f in b)c[f]?c[f].value=b[f]:c[f]={name:f,value:b[f]};"function"==typeof a&&a()}else if("function"==typeof a)return a()},CamundaForm.prototype.submit=function(a){var b=this.taskId||this.processDefinitionId;if(this.submitPrevented=!1,this.fireEvent("submit"),this.submitPrevented){var c=new Error("camForm submission prevented");return this.fireEvent("submit-failed",c),a&&a(c)}try{this.retrieveVariables()}catch(d){return a&&a(d)}var e=this;this.transformFiles(function(){e.submitVariables(function(c,d){return c?(e.fireEvent("submit-failed",c),a&&a(c)):(localStorage.removeItem("camForm:"+b),e.fireEvent("submit-success"),a&&a(null,d))})})},CamundaForm.prototype.transformFiles=function(a){var b=this,c=1,d=function(){0===--c&&a()},e=function(a){if(0===a)return"0 Byte";var b=1e3,c=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],d=Math.floor(Math.log(a)/Math.log(b));return(a/Math.pow(b,d)).toPrecision(3)+" "+c[d]};for(var f in this.fields){var g=this.fields[f].element[0];if("file"===g.getAttribute("type")){var h=b.variableManager.variables[b.fields[f].variableName];if("function"==typeof FileReader&&g.files.length>0){if(g.files[0].size>(parseInt(g.getAttribute("cam-max-filesize"),10)||5e6))throw new Error("Maximum file size of "+e(parseInt(g.getAttribute("cam-max-filesize"),10)||5e6)+" exceeded.");var i=new FileReader;i.onloadend=function(a,b,c){return function(a){for(var e="",f=new Uint8Array(a.target.result),g=f.byteLength,h=0;h<g;h++)e+=String.fromCharCode(f[h]);c.value=btoa(e),"file"===c.type.toLowerCase()&&(c.valueInfo={filename:b.files[0].name,mimeType:b.files[0].type}),d()}}(f,g,h),i.readAsArrayBuffer(g.files[0]),c++}else h.value="",h.valueInfo={filename:""}}}d()},CamundaForm.prototype.fetchVariables=function(a){a=a||function(){};var b=this.variableManager.variableNames();if(b.length){var c={names:b,deserializeValues:!1};this.taskId?(c.id=this.taskId,this.client.resource("task").formVariables(c,a)):(c.id=this.processDefinitionId,c.key=this.processDefinitionKey,this.client.resource("process-definition").formVariables(c,a))}else a()},CamundaForm.prototype.submitVariables=function(a){a=a||function(){};var b=this.variableManager,c=b.variables,d={};for(var e in c)if(b.isDirty(e)){var f=c[e].value;b.isJsonVariable(e)&&(f=JSON.stringify(f)),f&&b.isDateVariable(e)&&(f=moment(f).format("YYYY-MM-DDTHH:mm:ss.SSSZZ")),d[e]={value:f,type:c[e].type,valueInfo:c[e].valueInfo}}var g={variables:d};if(this.taskId)g.id=this.taskId,this.client.resource("task").submitForm(g,a);else{var h=this.businessKey||this.formElement.find('input[type="text"][cam-business-key]').val();h&&(g.businessKey=h),g.id=this.processDefinitionId,g.key=this.processDefinitionKey,this.client.resource("process-definition").submitForm(g,a)}},CamundaForm.prototype.storeOriginalValues=function(a){for(var b in a)this.variableManager.setOriginalValue(b,a[b].value)},CamundaForm.prototype.mergeVariables=function(a){var b=this.variableManager.variables;for(var c in a){if(b[c])for(var d in a[c])b[c][d]=b[c][d]||a[c][d];else b[c]=a[c];this.variableManager.isJsonVariable(c)&&(b[c].value=JSON.parse(a[c].value));var e=b[c].type;!this.taskBasePath||"Bytes"!==e&&"File"!==e||(b[c].contentUrl=this.taskBasePath+"/variables/"+b[c].name+"/data"),this.variableManager.isVariablesFetched=!0}},CamundaForm.prototype.applyVariables=function(){for(var a in this.fields)this.fields[a].applyValue()},CamundaForm.prototype.retrieveVariables=function(){for(var a in this.fields)this.fields[a].getValue()},CamundaForm.prototype.fireEvent=function(a,b){this.trigger(a,b)},CamundaForm.$=$,CamundaForm.VariableManager=VariableManager,CamundaForm.fields={},CamundaForm.fields.InputFieldHandler=InputFieldHandler,CamundaForm.fields.ChoicesFieldHandler=ChoicesFieldHandler,CamundaForm.cleanLocalStorage=function(a){for(var b=0;b<localStorage.length;b++){var c=localStorage.key(b);if(0===c.indexOf("camForm:")){var d=JSON.parse(localStorage.getItem(c));d.date<a&&(localStorage.removeItem(c),b--)}}},CamundaForm.extend=BaseClass.extend,module.exports=CamundaForm},{"./../base-class":36,"./../events":37,"./constants":39,"./controls/choices-field-handler":41,"./controls/file-download-handler":42,"./controls/input-field-handler":43,"./dom-lib":44,"./variable-manager":46,moment:"moment"}],39:[function(a,b,c){"use strict";b.exports={DIRECTIVE_CAM_FORM:"cam-form",DIRECTIVE_CAM_VARIABLE_NAME:"cam-variable-name",DIRECTIVE_CAM_VARIABLE_TYPE:"cam-variable-type",DIRECTIVE_CAM_FILE_DOWNLOAD:"cam-file-download",DIRECTIVE_CAM_CHOICES:"cam-choices",DIRECTIVE_CAM_SCRIPT:"cam-script"}},{}],40:[function(a,b,c){"use strict";function d(){}function e(a,b){this.element=g(a),this.variableManager=b,this.variableName=null,this.initialize()}var f=a("../../base-class"),g=a("./../dom-lib");e.selector=null,e.extend=f.extend,e.prototype.initialize=d,e.prototype.applyValue=d,e.prototype.getValue=d,b.exports=e},{"../../base-class":36,"./../dom-lib":44}],41:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=a("./../dom-lib"),g=e.extend({initialize:function(){var a=this.variableName=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_NAME),b=this.variableType=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE),c=this.choicesVariableName=this.element.attr(d.DIRECTIVE_CAM_CHOICES);this.variableManager.createVariable({name:a,type:b,value:this.element.val()||null}),c&&this.variableManager.fetchVariable(c),this.originalValue=this.element.val()||null,this.previousValue=this.originalValue,this.variableName=a},applyValue:function(){var a=this.element[0].selectedIndex;if(this.choicesVariableName){var b=this.variableManager.variableValue(this.choicesVariableName);if(b)if(b instanceof Array)for(var c=0;c<b.length;c++){var d=b[c];this.element.find('option[text="'+d+'"]').length||this.element.append(f("<option>",{value:d,text:d}))}else for(var e in b)this.element.find('option[value="'+e+'"]').length||this.element.append(f("<option>",{value:e,text:b[e]}))}this.element[0].selectedIndex=a,this.previousValue=this.element.val()||"";var g=this.variableManager.variableValue(this.variableName);return g!==this.previousValue&&(this.element.val(g),this.element.trigger("camFormVariableApplied",g)),this},getValue:function(){var a,b=this.element.prop("multiple");return b?(a=[],this.element.find("option:selected").each(function(){a.push(f(this).val())})):a=this.element.find("option:selected").attr("value"),this.variableManager.variableValue(this.variableName,a),a}},{selector:"select["+d.DIRECTIVE_CAM_VARIABLE_NAME+"]"});b.exports=g},{"./../constants":39,"./../dom-lib":44,"./abstract-form-field":40}],42:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=e.extend({initialize:function(){this.variableName=this.element.attr(d.DIRECTIVE_CAM_FILE_DOWNLOAD),this.variableManager.fetchVariable(this.variableName)},applyValue:function(){var a=this.variableManager.variable(this.variableName);return this.element.attr("href",a.contentUrl),0===this.element.text().trim().length&&this.element.text(a.valueInfo.filename),this}},{selector:"a["+d.DIRECTIVE_CAM_FILE_DOWNLOAD+"]"});b.exports=f},{"./../constants":39,"./abstract-form-field":40}],43:[function(a,b,c){"use strict";var d=a("./../constants"),e=a("./abstract-form-field"),f=a("../type-util").convertToType,g=function(a){return"checkbox"===a.attr("type")&&"Boolean"===a.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE)},h=e.extend({initialize:function(){var a=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_NAME),b=this.element.attr(d.DIRECTIVE_CAM_VARIABLE_TYPE);this.variableManager.createVariable({name:a,type:b}),this.originalValue=this.element.val(),this.previousValue=this.originalValue,this.variableName=a,this.getValue()},applyValue:function(){this.previousValue=this.getValueFromHtmlControl()||"";var a=this.variableManager.variableValue(this.variableName);if(a&&this.variableManager.isDateVariable(this.variableName)){var b=new Date(a);a=f(b,"Date")}return a!==this.previousValue&&(this.applyValueToHtmlControl(a),this.element.trigger("camFormVariableApplied",a)),this},getValue:function(){var a=this.getValueFromHtmlControl();return this.variableManager.variableValue(this.variableName,a),a},getValueFromHtmlControl:function(){return g(this.element)?this.element.prop("checked"):this.element.val()},applyValueToHtmlControl:function(a){g(this.element)?this.element.prop("checked",a):"file"!==this.element[0].type&&this.element.val(a)}},{selector:"input["+d.DIRECTIVE_CAM_VARIABLE_NAME+"],textarea["+d.DIRECTIVE_CAM_VARIABLE_NAME+"]"});b.exports=h},{"../type-util":45,"./../constants":39,"./abstract-form-field":40}],44:[function(a,b,c){(function(a){"use strict";!function(b){b("undefined"!=typeof window?window:a)}(function(a){a=a||{},b.exports=a.jQuery||!!a.angular&&a.angular.element||a.Zepto})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(a,b,c){"use strict";var d=/^-?[\d]+$/,e=/^(0|(-?(((0|[1-9]\d*)\.\d+)|([1-9]\d*))))([eE][-+]?[0-9]+)?$/,f=/^(true|false)$/,g=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,h=a("fast-xml-parser"),i=function(a){return!!a&&h.validate(a)},j=function(a){try{return JSON.parse(a),!0}catch(b){return!1}},k=function(a,b){switch(b){case"Integer":case"Long":case"Short":return d.test(a);case"Float":case"Double":return e.test(a);case"Boolean":return f.test(a);case"Date":return g.test(n(a));case"Xml":return i(a);case"Json":return j(a)}},l=function(a,b){if("string"==typeof a&&(a=a.trim()),"String"===b||"Bytes"===b||"File"===b)return a;if(!k(a,b))throw new Error("Value '"+a+"' is not of type "+b);switch(b){case"Integer":case"Long":case"Short":return parseInt(a,10);case"Float":case"Double":return parseFloat(a);case"Boolean":return"true"===a;case"Date":return n(a)}},m=function(a){return a<10?"0"+a:a},n=function(a){if("object"==typeof a&&"function"==typeof a.getFullYear){var b=a.getFullYear(),c=m(a.getMonth()+1),d=m(a.getDate()),e=m(a.getHours()),f=m(a.getMinutes()),g=m(a.getSeconds());return b+"-"+c+"-"+d+"T"+e+":"+f+":"+g}return a};b.exports={convertToType:l,isType:k,dateToString:n}},{"fast-xml-parser":124}],46:[function(a,b,c){"use strict";function d(){this.variables={},this.isVariablesFetched=!1}var e=a("moment"),f=a("./type-util").convertToType;d.prototype.fetchVariable=function(a){if(this.isVariablesFetched)throw new Error("Illegal State: cannot call fetchVariable(), variables already fetched.");this.createVariable({name:a})},d.prototype.createVariable=function(a){if(this.variables[a.name])throw new Error("Cannot add variable with name "+a.name+": already exists.");this.variables[a.name]=a},d.prototype.destroyVariable=function(a){if(!this.variables[a])throw new Error("Cannot remove variable with name "+a+": variable does not exist.");delete this.variables[a]},d.prototype.setOriginalValue=function(a,b){if(!this.variables[a])throw new Error("Cannot set original value of variable with name "+a+": variable does not exist.");this.variables[a].originalValue=b},d.prototype.variable=function(a){return this.variables[a]},d.prototype.variableValue=function(a,b){var c=this.variable(a);return"undefined"==typeof b||null===b?b=null:""===b&&"String"!==c.type?b=null:"string"==typeof b&&"String"!==c.type&&(b=f(b,c.type)),2===arguments.length&&(c.value=b),c.value},d.prototype.isDirty=function(a){var b=this.variable(a);return this.isJsonVariable(a)?b.originalValue!==JSON.stringify(b.value):this.isDateVariable(a)&&b.originalValue&&b.value?!e(b.originalValue).isSame(b.value):b.originalValue!==b.value||"Object"===b.type},d.prototype.isJsonVariable=function(a){var b=this.variable(a),c=b.type,d=["Object","json","Json"],e=d.indexOf(c);return 0===e?b.valueInfo.serializationDataFormat.indexOf("application/json")!==-1:e!==-1},d.prototype.isDateVariable=function(a){var b=this.variable(a);return"Date"===b.type},d.prototype.variableNames=function(){return Object.keys(this.variables)},b.exports=d},{"./type-util":45,moment:"moment"}],47:[function(a,b,c){"use strict";function d(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()}var e=b.exports={typeUtils:a("./forms/type-util")};e.solveHALEmbedded=function(a){function b(b){if("Id"!==b.slice(-2))return!1;var c=b.slice(0,-2),d=a._embedded;return!(!d[c]||!d[c].length)}function c(a){var c=Object.keys(a);for(var d in c)"_"!==c[d][0]&&b(c[d])||c.splice(d,1);return c}var d=Object.keys(a._embedded||{});for(var e in d){var f=d[e];for(var g in a._embedded[f]){a._embedded[f][g]._embedded=a._embedded[f][g]._embedded||{};var h=c(a._embedded[f][g]);for(var i in h){var j=h[i];if(a._embedded[f][g][j]){var k=a._embedded[j.slice(0,-2)];for(var l in k)k[l].id===a._embedded[f][g][j]&&(a._embedded[f][g]._embedded[j.slice(0,-2)]=[k[l]])}}}}return a},e.series=function(a,b){b=b||function(){};var c={};d(Object.keys(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})},e.escapeUrl=function(a){return encodeURIComponent(a).replace(/\//g,"%2F").replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}},{"./forms/type-util":45}],48:[function(a,b,c){"use strict";b.exports=a("angular");
},{angular:"angular"}],49:[function(a,b,c){"use strict";b.exports=a("moment")},{moment:"moment"}],50:[function(a,b,c){(function(a){"use strict";function c(a,b){return b={exports:{}},a(b,b.exports),b.exports}function d(a){return void 0===a}function e(a){return void 0!==a}function f(a){return"[object Array]"===le.call(a)}function g(a){return"[object Object]"===le.call(a)}function h(a){return"[object Number]"===le.call(a)}function i(a){return"[object Function]"===le.call(a)}function j(a){return"[object String]"===le.call(a)}function k(a,b){return me.call(a,b)}function l(a,b){b=t(b);var c;return n(a,function(a,d){if(b(a,d))return c=a,!1}),c}function m(a,b){var c=[];return n(a,function(a,d){b(a,d)&&c.push(a)}),c}function n(a,b){if(!d(a)){var c=f(a)?v:u;for(var e in a)if(k(a,e)){var g=a[e],h=b(g,c(e));if(h===!1)return}}}function o(a,b,c){return n(a,function(a,d){c=b(c,a,d)}),c}function p(a,b){return o(a,function(a,c,d){return a&&b(c,d)},!0)}function q(a,b){return!!l(a,b)}function r(a,b){var c=[];return n(a,function(a,d){c.push(b(a,d))}),c}function s(a){return function(b){return p(a,function(a,c){return b[c]===a})}}function t(a){return i(a)?a:function(b){return b===a}}function u(a){return a}function v(a){return Number(a)}function w(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function x(a,b){var c;return function(){var d=ne.call(arguments);c&&clearTimeout(c),c=setTimeout(function(){a.apply(void 0,w(d))},b)}}function y(a,b){return a.bind(b)}function z(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return oe.apply(void 0,[a].concat(c))}function A(a,b){var c={},d=Object(a);return n(b,function(b){b in d&&(c[b]=a[b])}),c}function B(a,b){var c={},d=Object(a);return n(d,function(a,d){b.indexOf(d)===-1&&(c[d]=a)}),c}function C(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}function D(a){return new E(a)}function E(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function F(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}function G(a,b){if(ve)return ve.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}function H(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=Ke[d]||Ke._default,g=f[0],h=f[1],i=f[2],e=b.createElement("div");for(e.innerHTML=h+a+i;g--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var j=b.createDocumentFragment();e.firstChild;)j.appendChild(e.removeChild(e.firstChild));return j}function I(a,b){if(!a||1!==a.nodeType)return!1;if(Me)return Me.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;d++)if(c[d]==a)return!0;return!1}function J(a,b){return b=b||document,b.querySelector(a)}function K(a){a.parentNode&&a.parentNode.removeChild(a)}function L(a,b){if(a.ownerDocument!==b.ownerDocument)try{return b.ownerDocument.importNode(a,!0)}catch(c){}return a}function M(a,b){return b.appendChild(L(a,b))}function N(a,b){return M(b,a),a}function O(a,b){return Pe[b]?a.style[b]:a.getAttributeNS(null,b)}function P(a,b,c){var d=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=Pe[d];e?(e===Oe&&"number"==typeof c&&(c=String(c)+"px"),a.style[d]=c):a.setAttributeNS(null,b,c)}function Q(a,b){var c,d,e=Object.keys(b);for(c=0,d;d=e[c];c++)P(a,d,b[d])}function R(a,b,c){if("string"==typeof b){if(void 0===c)return O(a,b);P(a,b,c)}else Q(a,b);return a}function S(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function T(a){return"undefined"!=typeof a}function U(a){return new V(a)}function V(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function W(a){var b=a.parentNode;return b&&b.removeChild(a),a}function X(a){for(var b;b=a.firstChild;)W(b);return a}function Y(a){var b=!1;"<svg"===a.substring(0,4)?a.indexOf(Se.svg)===-1&&(a=Te+a.substring(4)):(a=Te+">"+a+"</svg>",b=!0);var c=Z(a);if(!b)return c;for(var d=document.createDocumentFragment(),e=c.firstChild;e.firstChild;)d.appendChild(e.firstChild);return d}function Z(a){var b;return b=new DOMParser,b.async=!1,b.parseFromString(a,"text/xml")}function $(a,b){var c;return"<"===a.charAt(0)?(c=Y(a).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(Se.svg,a),b&&R(c,b),c}function _(a,b){var c,d,e=Object.keys(b);for(c=0;d=e[c];c++)a[d]=b[d];return a}function aa(a,b,c,d,e,f){var g=Ue.createSVGMatrix();switch(arguments.length){case 0:return g;case 6:a={a:a,b:b,c:c,d:d,e:e,f:f}}return _(g,a)}function ba(a){return a?Ue.createSVGTransformFromMatrix(a):Ue.createSVGTransform()}function ca(a,b){function c(a,b){return Xe[b]||b}return a.replace(b,c)}function da(a,b){var c,d,e,f,g;switch(a.nodeType){case 3:b.push(ca(a.textContent,Ve));break;case 1:if(b.push("<",a.tagName),a.hasAttributes())for(e=a.attributes,c=0,d=e.length;c<d;++c)f=e.item(c),b.push(" ",f.name,'="',ca(f.value,We),'"');if(a.hasChildNodes()){for(b.push(">"),g=a.childNodes,c=0,d=g.length;c<d;++c)da(g.item(c),b);b.push("</",a.tagName,">")}else b.push("/>");break;case 8:b.push("<!--",ca(a.nodeValue,Ve),"-->");break;case 4:b.push("<![CDATA[",a.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+a.nodeType)}return b}function ea(a,b){var c=Y(b);if(X(a),b){ga(c)||(c=c.documentElement);for(var d=ia(c.childNodes),e=0;e<d.length;e++)M(d[e],a)}}function fa(a){for(var b=a.firstChild,c=[];b;)da(b,c),b=b.nextSibling;return c.join("")}function ga(a){return"#document-fragment"===a.nodeName}function ha(a,b){if(void 0!==b){try{ea(a,b)}catch(c){throw new Error("error parsing SVG: "+c.message)}return a}return fa(a)}function ia(a){return Array.prototype.slice.call(a)}function ja(a,b){return b instanceof SVGMatrix?a.createSVGTransformFromMatrix(b):b}function ka(a,b){var c,d;for(a.clear(),c=0;d=b[c];c++)a.appendItem(ja(a,d));a.consolidate()}function la(a,b){var c=a.transform.baseVal;return 1===arguments.length?c.consolidate():void(b.length?ka(c,b):c.initialize(ja(c,b)))}function ma(a){return Ze.test(a.toString())}function na(a){return"[object Array]"===Object.prototype.toString.call(a)}function oa(){var a=Array.prototype.slice.call(arguments);1===a.length&&na(a[0])&&(a=a[0]);var b=a.pop();return b.$inject=a,b}function pa(a){if("function"!=typeof a)throw new Error('Cannot annotate "'+a+'". Expected a function!');var b=a.toString().match(ma(a)?$e:_e);return b?b[1]&&b[1].split(",").map(function(a){return b=a.match(af),b?b[1].trim():a.trim()})||[]:[]}function qa(){var a=[];this.factory=function(b,c){return a.push([b,"factory",c]),this},this.value=function(b,c){return a.push([b,"value",c]),this},this.type=function(b,c){return a.push([b,"type",c]),this},this.forEach=function(b){a.forEach(b)}}function ra(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function sa(a,b){b=b||{get:function(a,b){if(c.push(a),b===!1)return null;throw g('No provider for "'+a+'"!')}};var c=[],d=this._providers=Object.create(b._providers||null),e=this._instances=Object.create(null),f=e.injector=this,g=function(a){var b=c.join(" -> ");return c.length=0,new Error(b?a+" (Resolving: "+b+")":a)},h=function o(a,f){if(!d[a]&&a.indexOf(".")!==-1){for(var h=a.split("."),i=o(h.shift());h.length;)i=i[h.shift()];return i}if(ta(e,a))return e[a];if(ta(d,a)){if(c.indexOf(a)!==-1)throw c.push(a),g("Cannot resolve circular dependency!");return c.push(a),e[a]=d[a][0](d[a][1]),c.pop(),e[a]}return b.get(a,f)},i=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof a){if(!na(a))throw new Error('Cannot invoke "'+a+'". Expected a function!');a=oa(a.slice())}var c=a.$inject||pa(a),d=c.map(function(a){return ta(b,a)?b[a]:h(a)});return{fn:a,dependencies:d}},j=function(a){var b=i(a),c=b.dependencies,d=b.fn;return new(Function.prototype.bind.apply(d,[null].concat(ra(c))))},k=function(a,b,c){var d=i(a,c),e=d.dependencies,f=d.fn;return f.call.apply(f,[b].concat(ra(e)))},l=function(a){return oa(function(b){return a.get(b)})},m=function(a,b){if(b&&b.length){var c,e,g,h,i=Object.create(null),j=Object.create(null),k=[],m=[],n=[];for(var o in d)c=d[o],b.indexOf(o)!==-1&&("private"===c[2]?(e=k.indexOf(c[3]),e===-1?(g=c[3].createChild([],b),h=l(g),k.push(c[3]),m.push(g),n.push(h),i[o]=[h,o,"private",g]):i[o]=[n[e],o,"private",m[e]]):i[o]=[c[2],c[1]],j[o]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||b.forEach(function(a){c[1].$scope.indexOf(a)!==-1&&(i[o]=[c[2],c[1]],j[a]=!0)});b.forEach(function(a){if(!j[a])throw new Error('No provider for "'+a+'". Cannot use provider from the parent!')}),a.unshift(i)}return new sa(a,f)},n={factory:k,type:j,value:function(a){return a}};a.forEach(function(a){function b(a,b){return"value"!==a&&na(b)&&(b=oa(b.slice())),b}if(a instanceof qa)a.forEach(function(a){var c=a[0],e=a[1],f=a[2];d[c]=[n[e],b(e,f),e]});else if("object"===("undefined"==typeof a?"undefined":bf(a)))if(a.__exports__){var c=Object.keys(a).reduce(function(b,c){return"__"!==c.substring(0,2)&&(b[c]=a[c]),b},Object.create(null)),e=new sa((a.__modules__||[]).concat([c]),f),g=oa(function(a){return e.get(a)});a.__exports__.forEach(function(a){d[a]=[g,a,"private",e]})}else Object.keys(a).forEach(function(c){if("private"===a[c][2])return void(d[c]=a[c]);var e=a[c][0],f=a[c][1];d[c]=[n[e],b(e,f),e]})}),this.get=h,this.invoke=k,this.instantiate=j,this.createChild=m}function ta(a,b){return Object.hasOwnProperty.call(a,b)}function ua(a,b){var c=this;b=b||cf,a.on(["render.shape","render.connection"],b,function(a,b){var d=a.type,e=b.element,f=b.gfx;if(c.canRender(e))return"render.shape"===d?c.drawShape(f,e):c.drawConnection(f,e)}),a.on(["render.getShapePath","render.getConnectionPath"],b,function(a,b){if(c.canRender(b))return"render.getShapePath"===a.type?c.getShapePath(b):c.getConnectionPath(b)})}function va(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")}function wa(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}function xa(a,b){var c=$("polyline");return R(c,{points:wa(a)}),b&&R(c,b),c}function ya(a,b){return R(a,{points:wa(b)}),a}function za(a,b){ua.call(this,a,df),this.CONNECTION_STYLE=b.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=b.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}function Aa(){var a={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},b=this;this.cls=function(a,b,c){var d=this.style(b,c);return z(d,{"class":a})},this.style=function(b,c){f(b)||c||(c=b,b=[]);var d=o(b,function(b,c){return z(b,a[c]||{})},{});return c?z(d,c):d},this.computeStyle=function(a,c,d){return f(c)||(d=c,c=[]),b.style(c||[],z({},d,a||{}))}}function Ba(a,b){if(!a||!b)return-1;var c=a.indexOf(b);return c!==-1&&a.splice(c,1),c}function Ca(a,b,c){if(a&&b){"number"!=typeof c&&(c=-1);var d=a.indexOf(b);if(d!==-1){if(d===c)return;if(c===-1)return;a.splice(d,1)}c!==-1?a.splice(c,0,b):a.push(b)}}function Da(a,b){b=!!b,f(a)||(a=[a]);var c,d,e,g;return n(a,function(a){var f=a;a.waypoints&&!b&&(f=Da(a.waypoints,!0));var h=f.x,i=f.y,j=f.height||0,k=f.width||0;(h<c||void 0===c)&&(c=h),(i<d||void 0===d)&&(d=i),(h+k>e||void 0===e)&&(e=h+k),(i+j>g||void 0===g)&&(g=i+j)}),{x:c,y:d,height:g-d,width:e-c}}function Ea(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}function Fa(a,b){return Math.round(a*b)/b}function Ga(a){return h(a)?a+"px":a}function Ha(a){a=z({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","djs-container"),z(c.style,{position:"relative",overflow:"hidden",width:Ga(a.width),height:Ga(a.height)}),b.appendChild(c),c}function Ia(a,b,c){var d=$("g");U(d).add(b);var e=void 0!==c?c:a.childNodes.length-1;return a.insertBefore(d,a.childNodes[e]||null),d}function Ja(a,b,c,d){this._eventBus=b,this._elementRegistry=d,this._graphicsFactory=c,this._init(a||{})}function Ka(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}function La(a){this._elements={},this._eventBus=a}function Ma(a,b,c,d){var e=c.inverse;return Object.defineProperty(a,"remove",{value:function(a){var c=this.indexOf(a);return c!==-1&&(this.splice(c,1),b.unset(a,e,d)),a}}),Object.defineProperty(a,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(a,"add",{value:function(a,c){var f=this.indexOf(a);if("undefined"==typeof c){if(f!==-1)return;c=this.length}f!==-1&&this.splice(f,1),this.splice(c,0,a),f===-1&&b.set(a,e,d)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function Na(a){return a.__refs_collection===!0}function Oa(a,b){return Object.prototype.hasOwnProperty.call(a,b.name||b)}function Pa(a,b,c){var d=mf.extend(c[b.name]||[],a,b,c);Object.defineProperty(c,b.name,{enumerable:b.enumerable,value:d}),d.length&&d.forEach(function(d){a.set(d,b.inverse,c)})}function Qa(a,b,c){var d=b.inverse,e=c[b.name];Object.defineProperty(c,b.name,{configurable:b.configurable,enumerable:b.enumerable,get:function(){return e},set:function(b){if(b!==e){var f=e;e=null,f&&a.unset(f,d,c),e=b,a.set(e,d,c)}}})}function Ra(a,b){return this instanceof Ra?(a.inverse=b,b.inverse=a,this.props={},this.props[a.name]=a,void(this.props[b.name]=b)):new Ra(a,b)}function Sa(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(a){var b=this.label,c=this.labels;!a&&b?c.remove(b):c.add(a,0)}}),qf.bind(this,"parent"),rf.bind(this,"labels"),tf.bind(this,"outgoing"),uf.bind(this,"incoming")}function Ta(){Sa.call(this),qf.bind(this,"children"),sf.bind(this,"host"),sf.bind(this,"attachers")}function Ua(){Ta.call(this)}function Va(){Ta.call(this),rf.bind(this,"labelTarget")}function Wa(){Sa.call(this),tf.bind(this,"source"),uf.bind(this,"target")}function Xa(a,b){var c=vf[a];if(!c)throw new Error("unknown type: <"+a+">");return z(new c,b)}function Ya(){this._uid=12}function Za(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function $a(){}function _a(a,b){return a.apply(null,b)}function ab(a){return J(".djs-visual",a)}function bb(a){return a.parentNode.childNodes[1]}function cb(a,b,c,d,e){var f=ba();f.setTranslate(b,c);var g=ba();g.setRotate(d,0,0);var h=ba();h.setScale(e||1,e||1),la(a,[f,g,h])}function db(a,b,c){var d=ba();d.setTranslate(b,c),la(a,d)}function eb(a,b){var c=ba();c.setRotate(b,0,0),la(a,c)}function fb(a,b){this._eventBus=a,this._elementRegistry=b}function gb(a,b,c){b.insertBefore(a,c||b.firstChild)}function hb(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new sa(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function ib(a){a=a||{};var b={config:["value",a]},c=[b,Af].concat(a.modules||[]);return hb(c)}function jb(a,b){this.injector=b=b||ib(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("diagram.init")}function kb(){}function lb(a,b){this.model=a,this.properties=b}function mb(a,b){var c=Df[a];return c?c(b):b}function nb(a){return!!Cf[a]}function ob(a){return!!Df[a]}function pb(a,b){var c,d,e=a.split(/:/);if(1===e.length)c=a,d=b;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+a);c=e[1],d=e[0]}return a=(d?d+":":"")+c,{name:a,prefix:d,localName:c}}function qb(a){this.ns=a,this.name=a.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function rb(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,n(a,y(this.registerPackage,this))}function sb(a,b,c){var d=b[c];if(d in a)throw new Error("package with "+c+" <"+d+"> already defined")}function tb(a){this.model=a}function ub(a){return"undefined"==typeof a}function vb(a,b,c){Object.defineProperty(a,b.name,{enumerable:!b.isReference,writable:!0,value:c,configurable:!0})}function wb(a){this.properties=new tb(this),this.factory=new lb(this,this.properties),this.registry=new rb(a,this.properties),this.typeCache={}}function xb(a,b,c,d){return d?Hf.call(Jf,d)?Jf[d]:"&"+d+";":Gf(b?b:parseInt(c,16))}function yb(a){return a.length>3&&a.indexOf("&")!==-1?a.replace(If,xb):a}function zb(a){return new Error(a)}function Ab(a){return"missing namespace for prefix <"+a+">"}function Bb(a){return{get:a,enumerable:!0}}function Cb(a){var b,c={};for(b in a)c[b]=a[b];return c}function Db(a){return a+"$uri"}function Eb(a){var b,c,d={};for(b in a)c=a[b],d[c]=c,d[Db(c)]=b;return d}function Fb(){return{line:0,column:0}}function Gb(a){throw a}function Hb(a){function b(a){a instanceof Error||(a=zb(a)),s=a,o(a,p)}function c(a){i&&(a instanceof Error||(a=zb(a)),i(a,p))}function d(a){function d(){if(null!==B)return B;var a,b,d,e,f,g,h,i,j,k,l,n=r&&D.xmlns,o=r&&q?[]:null,p=L,s=K,t=s.length,u={},v={};a:for(;p<t;p++)if(j=!1,k=s.charCodeAt(p),!(32===k||k<14&&k>8)){for((k<65||k>122||k>90&&k<97)&&95!==k&&58!==k&&(c("illegal first char attribute name"),j=!0),l=p+1;l<t;l++)if(k=s.charCodeAt(l),!(k>96&&k<123||k>64&&k<91||k>47&&k<59||46===k||45===k||95===k)){if(32===k||k<14&&k>8){c("missing attribute value"),p=l;continue a}if(61===k)break;c("illegal attribute name char"),j=!0}if(i=s.substring(p,l),"xmlns:xmlns"===i&&(c("illegal declaration of xmlns"),j=!0),k=s.charCodeAt(l+1),34===k)l=s.indexOf('"',p=l+2),l===-1&&(l=s.indexOf("'",p),l!==-1&&(c("attribute value quote missmatch"),j=!0));else if(39===k)l=s.indexOf("'",p=l+2),l===-1&&(l=s.indexOf('"',p),l!==-1&&(c("attribute value quote missmatch"),j=!0));else for(c("missing attribute value quotes"),j=!0,l+=1;l<t&&(k=s.charCodeAt(l+1),!(32===k||k<14&&k>8));l++);for(l===-1&&(c("missing closing quotes"),l=t,j=!0),j||(g=s.substring(p,l)),p=l;l+1<t&&(k=s.charCodeAt(l+1),!(32===k||k<14&&k>8));l++)p===l&&(c("illegal character after attribute end"),j=!0);if(p=l+1,!j)if(i in v)c("attribute <"+i+"> already defined");else if(v[i]=!0,r)if(q){if(f="xmlns"===i?"xmlns":120===i.charCodeAt(0)&&"xmlns:"===i.substr(0,6)?i.substr(6):null,null!==f){if(a=yb(g),b=Db(f),h=m[a],!h){if("xmlns"===f||b in D&&D[b]!==a){do h="ns"+F++;while("undefined"!=typeof D[h])}else h=f;m[a]=h}D[f]!==h&&(e||(D=Cb(D),e=!0),D[f]=h,"xmlns"===f&&(D[Db(h)]=a,n=h),D[b]=a),u[i]=g;continue}o.push(i,g)}else k=i.indexOf(":"),k!==-1?(d=D[i.substring(0,k)])?(i=n===d?i.substr(k+1):d+i.substr(k),i===Mf&&(k=g.indexOf(":"),k!==-1?(d=g.substring(0,k),d=D[d]||d,g=d+g.substring(k)):g=n+":"+g),u[i]=g):c(Ab(i.substring(0,k))):u[i]=g;else u[i]=g}if(q)for(p=0,t=o.length;p<t;p++){if(i=o[p++],g=o[p],k=i.indexOf(":"),k!==-1){if(!(d=D[i.substring(0,k)])){c(Ab(i.substring(0,k)));continue}i=n===d?i.substr(k+1):d+i.substr(k),i===Mf&&(k=g.indexOf(":"),k!==-1?(d=g.substring(0,k),d=D[d]||d,g=d+g.substring(k)):g=n+":"+g)}u[i]=g}return B=u}function i(){for(var b,c,d=/(\r\n|\r|\n)/g,e=0,f=0,g=0,h=J;I>=g&&(b=d.exec(a))&&(h=b[0].length+b.index,!(h>I));)e+=1,g=h;return I==-1?(f=h,c=a.substring(J)):0===J?(console.log(I-g),c=a.substring(J,I)):(f=I-g,c=J==-1?a.substring(I):a.substring(I,J+1)),{data:c,line:e,column:f}}var o,s,u,v,w,x,y,z,A,B,C=r?[]:null,D=r?Eb(m):null,E=[],F=0,G=!1,H=!1,I=0,J=0,K="",L=0;for(p=i,n&&(A=Object.create({},{name:Bb(function(){return y}),originalName:Bb(function(){return z}),attrs:Bb(d),ns:Bb(function(){return D})}));J!==-1;){if(I=60===a.charCodeAt(J)?J:a.indexOf("<",J),I===-1)return E.length?b("unexpected end of file"):0===J?b("missing start tag"):void(J<a.length&&a.substring(J).trim()&&c(Nf));if(J!==I)if(E.length){if(e&&(e(a.substring(J,I),yb,p),t))return}else if(a.substring(J,I).trim()&&(c(Nf),t))return;if(w=a.charCodeAt(I+1),33!==w)if(63!==w){if(J=a.indexOf(">",I+1),J==-1)return b("unclosed tag");if(B={},47===w){if(G=!1,H=!0,!E.length)return b("missing open tag");if(s=y=E.pop(),v=I+2+s.length,a.substring(I+2,v)!==s)return b("closing tag mismatch");for(;v<J;v++)if(w=a.charCodeAt(v),!(32===w||w>8&&w<14))return b("close tag")}else{if(47===a.charCodeAt(J-1)?(s=y=a.substring(I+1,J-1),G=!0,H=!0):(s=y=a.substring(I+1,J),G=!0,H=!1),!(w>96&&w<123||w>64&&w<91||95===w||58===w))return b("illegal first char nodeName");for(v=1,u=s.length;v<u;v++)if(w=s.charCodeAt(v),!(w>96&&w<123||w>64&&w<91||w>47&&w<59||45===w||95===w||46==w)){if(32===w||w<14&&w>8){y=s.substring(0,v),B=null;break}return b("invalid nodeName")}H||E.push(y)}if(r){if(o=D,G&&(H||C.push(o),null===B&&(q=s.indexOf("xmlns",v)!==-1)&&(L=v,K=s,d(),q=!1)),z=y,w=y.indexOf(":"),w!==-1){if(x=D[y.substring(0,w)],!x)return b("missing namespace on <"+z+">");y=y.substr(w+1)}else x=D.xmlns;x&&(y=x+":"+y)}if(G&&(L=v,K=s,f&&(n?f(A,yb,H,p):f(y,d,yb,H,p),t)))return;if(H){if(g&&(g(n?A:y,yb,G,p),t))return;r&&(D=G?o:C.pop())}J+=1}else{if(J=a.indexOf("?>",I),J===-1)return b("unclosed question");if(k&&(k(a.substring(I,J+2),p),t))return;J+=2}else{if(w=a.charCodeAt(I+2),91===w&&"CDATA["===a.substr(I+3,6)){if(J=a.indexOf("]]>",I),J===-1)return b("unclosed cdata");if(h&&(h(a.substring(I+9,J),p),t))return;J+=3;continue}if(45===w&&45===a.charCodeAt(I+3)){if(J=a.indexOf("-->",I),J===-1)return b("unclosed comment");if(j&&(j(a.substring(I+4,J),yb,p),t))return;J+=3;continue}if(J=a.indexOf(">",I+1),J===-1)return b("unclosed tag");if(l&&(l(a.substring(I,J+1),yb,p),t))return;J+=1}}}if(!this)return new Hb(a);var e,f,g,h,i,j,k,l,m,n=a&&a.proxy,o=Gb,p=Fb,q=!1,r=!1,s=null,t=!1;this.on=function(a,b){if("function"!=typeof b)throw zb("required args <name, cb>");switch(a){case"openTag":f=b;break;case"text":e=b;break;case"closeTag":g=b;break;case"error":o=b;break;case"warn":i=b;break;case"cdata":h=b;break;case"attention":l=b;break;case"question":k=b;break;case"comment":j=b;break;default:throw zb("unsupported event: "+a)}return this},this.ns=function(a){if("undefined"==typeof a&&(a={}),"object"!==("undefined"==typeof a?"undefined":Ff(a)))throw zb("required args <nsMap={}>");var b,c={};for(b in a)c[b]=a[b];return c[Kf]=Lf,r=!0,m=c,this},this.parse=function(a){if("string"!=typeof a)throw zb("required args <xml=string>");return s=null,d(a),p=Fb,t=!1,s},this.stop=function(){t=!0}}function Ib(a){return a.xml&&"lowerCase"===a.xml.tagAlias}function Jb(a){return a.xml&&a.xml.serialize}function Kb(a){return Jb(a)===Pf}function Lb(a){return"property"===Jb(a)}function Mb(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Nb(a,b){return Ib(b)?a.prefix+":"+Mb(a.localName):a.name}function Ob(a,b){var c=a.name,d=a.localName,e=b.xml&&b.xml.typePrefix;return e&&0===d.indexOf(e)?a.prefix+":"+d.slice(e.length):c}function Pb(a,b){var c=pb(a),d=b.getPackage(c.prefix);return Ob(c,d)}function Qb(a){return new Error(a)}function Rb(a){return a.$descriptor}function Sb(a){setTimeout(a,0)}function Tb(a){z(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw Qb("expected element");var b,c=this.elementsById,d=Rb(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(c[b])throw Qb("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function Ub(){}function Vb(){}function Wb(){}function Xb(a,b){this.property=a,this.context=b}function Yb(a,b){this.element=b,this.propertyDesc=a}function Zb(){}function $b(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function _b(a,b,c){$b.call(this,a,b,c)}function ac(a,b,c){this.model=a,this.context=c}function bc(a){a instanceof wb&&(a={model:a}),z(this,{lax:!1},a)}function cc(a){var b={},c={},d={},e=[],f=[];this.byUri=function(b){return c[b]||a&&a.byUri(b)},this.add=function(a,b){c[a.uri]=a,b?e.push(a):f.push(a),this.mapPrefix(a.prefix,a.uri)},this.uriByPrefix=function(a){return b[a||"xmlns"]},this.mapPrefix=function(a,c){b[a||"xmlns"]=c},this.logUsed=function(a){var b=a.uri;d[b]=this.byUri(b)},this.getUsed=function(a){function b(a){return d[a.uri]}var c=[].concat(e,f);return c.filter(b)}}function dc(a){return a.charAt(0).toLowerCase()+a.slice(1)}function ec(a,b){return Ib(b)?dc(a):a}function fc(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}function gc(a){return j(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function hc(a){return r(a.getUsed(),function(a){var b="xmlns"+(a.prefix?":"+a.prefix:"");return{name:b,value:a.uri}})}function ic(a,b){return b.isGeneric?z({localName:b.ns.localName},a):z({localName:ec(b.ns.localName,b.$pkg)},a)}function jc(a,b){return z({localName:b.ns.localName},a)}function kc(a){var b=a.$descriptor;return m(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d!==b["default"]&&(null!==d&&(!b.isMany||d.length))})}function lc(a,b,c){return a=j(a)?a:""+a,a.replace(b,function(a){return"&"+c[a]+";"})}function mc(a){return lc(a,Rf,Tf)}function nc(a){return lc(a,Sf,Uf)}function oc(a){return m(a,function(a){return a.isAttr})}function pc(a){return m(a,function(a){return!a.isAttr})}function qc(a){this.tagName=a}function rc(){}function sc(a){this.tagName=a}function tc(a,b){this.body=[],this.attrs=[],this.parent=a,this.propertyDescriptor=b}function uc(a,b){tc.call(this,a,b)}function vc(){this.value="",this.write=function(a){this.value+=a}}function wc(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function xc(a){function b(b,c){var d=c||new vc,e=new wc(d,a.format);if(a.preamble&&e.append(Qf),(new tc).build(b).serializeTo(e),!c)return d.value}return a=z({format:!1,preamble:!0},a||{}),{toXML:b}}function yc(a,b){wb.call(this,a,b)}function zc(a,b){var c=z({},Cg,a);return new yc(c,b)}function Ac(a){return a?"<"+a.$type+(a.id?' id="'+a.id:"")+'" />':"<null>"}function Bc(a,b){return a.$instanceOf(b)}function Cc(a){return l(a.rootElements,function(a){return Bc(a,"bpmn:Process")||Bc(a,"bpmn:Collaboration")})}function Dc(a,b){function c(a,b){return function(c){a(c,b)}}function d(a){O[a.id]=a}function e(a){return O[a.id]}function f(c,d){var e=c.gfx;if(e)throw new Error(b("already rendered {element}",{element:Ac(c)}));return a.element(c,d)}function g(b,c){return a.root(b,c)}function h(a,c){try{var e=a.di&&f(a,c);return d(a),e}catch(g){i(g.message,{element:a,error:g}),console.error(b("failed to import {element}",{element:Ac(a)})),console.error(g)}}function i(b,c){a.error(b,c)}function j(a){var c=a.bpmnElement;c?c.di?i(b("multiple DI elements defined for {element}",{element:Ac(c)}),{element:c}):(Dg.bind(c,"di"),c.di=a):i(b("no bpmnElement referenced in {element}",{element:Ac(a)}),{element:a})}function k(a){l(a.plane)}function l(a){j(a),n(a.planeElement,o)}function o(a){j(a)}function p(a,c){var d=a.diagrams;if(c&&d.indexOf(c)===-1)throw new Error(b("diagram not part of bpmn:Definitions"));if(!c&&d&&d.length&&(c=d[0]),!c)throw new Error(b("no diagram to display"));k(c);var e=c.plane;if(!e)throw new Error(b("no plane for {element}",{element:Ac(c)}));var f=e.bpmnElement;if(!f){if(f=Cc(a),!f)throw new Error(b("no process or collaboration to display"));i(b("correcting missing bpmnElement on {plane} to {rootElement}",{plane:Ac(e),rootElement:Ac(f)})),e.bpmnElement=f,j(e)}var h=g(f,e);if(Bc(f,"bpmn:Process"))r(f,h);else{if(!Bc(f,"bpmn:Collaboration"))throw new Error(b("unsupported bpmnElement for {plane}: {rootElement}",{plane:Ac(e),rootElement:Ac(f)}));M(f,h),s(a.rootElements,h)}q(P)}function q(){for(var a;P.length;)(a=P.shift())()}function r(a,b){J(a,b),A(a.ioSpecification,b),z(a.artifacts,b),d(a)}function s(a){var b=m(a,function(a){return!e(a)&&Bc(a,"bpmn:Process")&&a.laneSets});b.forEach(c(r))}function t(a,b){h(a,b)}function u(a,b){n(a,c(t,b))}function v(a,b){h(a,b)}function w(a,b){h(a,b)}function x(a,b){h(a,b)}function y(a,b){h(a,b)}function z(a,b){n(a,function(a){Bc(a,"bpmn:Association")?P.push(function(){y(a,b)}):y(a,b)})}function A(a,b){a&&(n(a.dataInputs,c(w,b)),n(a.dataOutputs,c(x,b)))}function B(a,b){J(a,b),z(a.artifacts,b)}function C(a,b){var d=h(a,b);Bc(a,"bpmn:SubProcess")&&B(a,d||b),Bc(a,"bpmn:Activity")&&A(a.ioSpecification,b),P.push(function(){n(a.dataInputAssociations,c(v,b)),n(a.dataOutputAssociations,c(v,b))})}function D(a,b){h(a,b)}function E(a,b){h(a,b)}function F(a,b){h(a,b)}function G(a,b){P.push(function(){var c=h(a,b);a.childLaneSet&&H(a.childLaneSet,c||b),N(a)})}function H(a,b){n(a.lanes,c(G,b))}function I(a,b){n(a,c(H,b))}function J(a,b){K(a.flowElements,b),a.laneSets&&I(a.laneSets,b)}function K(a,c){n(a,function(a){Bc(a,"bpmn:SequenceFlow")?P.push(function(){D(a,c)}):Bc(a,"bpmn:BoundaryEvent")?P.unshift(function(){F(a,c)}):Bc(a,"bpmn:FlowNode")?C(a,c):Bc(a,"bpmn:DataObject")||(Bc(a,"bpmn:DataStoreReference")?E(a,c):Bc(a,"bpmn:DataObjectReference")?E(a,c):i(b("unrecognized flowElement {element} in context {context}",{element:Ac(a),context:c?Ac(c.businessObject):"null"}),{element:a,context:c}))})}function L(a,b){var c=h(a,b),d=a.processRef;d&&r(d,c||b)}function M(a){n(a.participants,c(L)),z(a.artifacts),P.push(function(){u(a.messageFlows)})}function N(a){n(a.flowNodeRef,function(b){var c=b.get("lanes");c&&c.push(a)})}var O={},P=[];return{handleDeferred:q,handleDefinitions:p,handleSubProcess:B,registerDi:j}}function Ec(a,b,c){function d(a){var b={root:function(a){return e.add(a)},element:function(a,b){return e.add(a,b)},error:function(a,b){i.push({message:a,context:b})}},c=new Dc(b,g);c.handleDefinitions(a)}var e,f,g,h,i=[];try{e=a.get("bpmnImporter"),f=a.get("eventBus"),g=a.get("translate"),f.fire("import.render.start",{definitions:b}),d(b),f.fire("import.render.complete",{error:h,warnings:i})}catch(j){h=j}c(h,i)}function Fc(a,b){var c=Gc(a);return c&&"function"==typeof c.$instanceOf&&c.$instanceOf(b)}function Gc(a){return a&&a.businessObject||a}function Hc(a){return!Fc(a,"bpmn:CallActivity")&&(Fc(a,"bpmn:SubProcess")?!!Gc(a).di.isExpanded:!Fc(a,"bpmn:Participant")||!!Gc(a).processRef)}function Ic(a){return a&&!!Gc(a).triggeredByEvent}function Jc(a,b,c){function d(a,b){return p(b,function(b,c){return a[c]==b})}return q(a.eventDefinitions,function(e){return e.$type===b&&d(a,c)})}function Kc(a){return"bpmn:IntermediateThrowEvent"===a.$type||"bpmn:EndEvent"===a.$type}function Lc(a){var b=a.dataObjectRef;return a.isCollection||b&&b.isCollection}function Mc(a){return a.businessObject.di}function Nc(a){return a.businessObject}function Oc(a,b){return Mc(a).get("bioc:fill")||b||"white"}function Pc(a,b){return Mc(a).get("bioc:stroke")||b||"black"}function Qc(a){var b=a.x+a.width/2,c=a.y+a.height/2,d=a.width/2,e=[["M",b,c],["m",0,-d],["a",d,d,0,1,1,0,2*d],["a",d,d,0,1,1,0,-2*d],["z"]];return va(e)}function Rc(a,b){var c=a.x,d=a.y,e=a.width,f=a.height,g=[["M",c+b,d],["l",e-2*b,0],["a",b,b,0,0,1,b,b],["l",0,f-2*b],["a",b,b,0,0,1,-b,b],["l",2*b-e,0],["a",b,b,0,0,1,-b,-b],["l",0,2*b-f],["a",b,b,0,0,1,b,-b],["z"]];return va(g)}function Sc(a){var b=a.width,c=a.height,d=a.x,e=a.y,f=b/2,g=c/2,h=[["M",d+f,e],["l",f,g],["l",-f,g],["l",-f,-g],["z"]];return va(h)}function Tc(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]];return va(f)}function Uc(a){return this instanceof Uc?(a=a||[128,36,1],void(this._seed=a.length?Eg.rack(a[0],a[1],a[2]):a)):new Uc(a)}function Vc(a,b,c,d,e,f,h){function i(a,b){var c=z({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},b.attrs),d=b.ref||{x:0,y:0},f=b.scale||1;"none"===c.strokeDasharray&&(c.strokeDasharray=[1e4,1]);var g=$("marker");R(b.element,c),N(g,b.element),R(g,{id:a,viewBox:"0 0 20 20",refX:d.x,refY:d.y,markerWidth:20*f,
markerHeight:20*f,orient:"auto"});var h=J("defs",e._svg);h||(h=$("defs"),N(e._svg,h)),N(h,g),G[a]=g}function j(a,b,c){var d=a+"-"+b+"-"+c+"-"+F;return G[d]||k(a,b,c),"url(#"+d+")"}function k(a,b,c){var d=a+"-"+b+"-"+c+"-"+F;if("sequenceflow-end"===a){var e=$("path");R(e,{d:"M 1 5 L 11 10 L 1 15 Z"}),i(d,{element:e,ref:{x:11,y:10},scale:.5,attrs:{fill:c,stroke:c}})}if("messageflow-start"===a){var f=$("circle");R(f,{cx:6,cy:6,r:3.5}),i(d,{element:f,attrs:{fill:b,stroke:c},ref:{x:6,y:6}})}if("messageflow-end"===a){var g=$("path");R(g,{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z"}),i(d,{element:g,attrs:{fill:b,stroke:c,strokeLinecap:"butt"},ref:{x:8.5,y:5}})}if("association-start"===a){var h=$("path");R(h,{d:"M 11 5 L 1 10 L 11 15"}),i(d,{element:h,attrs:{fill:"none",stroke:c,strokeWidth:1.5},ref:{x:1,y:10},scale:.5})}if("association-end"===a){var j=$("path");R(j,{d:"M 1 5 L 11 10 L 1 15"}),i(d,{element:j,attrs:{fill:"none",stroke:c,strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}if("conditional-flow-marker"===a){var k=$("path");R(k,{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z"}),i(d,{element:k,attrs:{fill:b,stroke:c},ref:{x:-1,y:10},scale:.5})}if("conditional-default-flow-marker"===a){var l=$("path");R(l,{d:"M 6 4 L 10 16"}),i(d,{element:l,attrs:{stroke:c},ref:{x:0,y:10},scale:.5})}}function l(a,b,c,d,e){g(d)&&(e=d,d=0),d=d||0,e=H(e,{stroke:"black",strokeWidth:2,fill:"white"}),"none"===e.fill&&delete e.fillOpacity;var f=b/2,h=c/2,i=$("circle");return R(i,{cx:f,cy:h,r:Math.round((b+c)/4-d)}),R(i,e),N(a,i),i}function m(a,b,c,d,e,f){g(e)&&(f=e,e=0),e=e||0,f=H(f,{stroke:"black",strokeWidth:2,fill:"white"});var h=$("rect");return R(h,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),R(h,f),N(a,h),h}function o(a,b,c,d){var e=b/2,f=c/2,g=[{x:e,y:0},{x:b,y:f},{x:e,y:c},{x:0,y:f}],h=g.map(function(a){return a.x+","+a.y}).join(" ");d=H(d,{stroke:"black",strokeWidth:2,fill:"white"});var i=$("polygon");return R(i,{points:h}),R(i,d),N(a,i),i}function p(a,b,c){c=H(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var d=xa(b,c);return N(a,d),d}function q(a,b,c){c=H(c,["no-fill"],{strokeWidth:2,stroke:"black"});var d=$("path");return R(d,{d:b}),R(d,c),N(a,d),d}function r(a,b,c,d){return q(b,c,z({"data-marker":a},d))}function s(a){return function(b,c){return I[a](b,c)}}function t(a){return I[a]}function u(a,b){var c=Nc(a),d=Kc(c);return Jc(c,"bpmn:MessageEventDefinition")?t("bpmn:MessageEventDefinition")(b,a,d):Jc(c,"bpmn:TimerEventDefinition")?t("bpmn:TimerEventDefinition")(b,a,d):Jc(c,"bpmn:ConditionalEventDefinition")?t("bpmn:ConditionalEventDefinition")(b,a):Jc(c,"bpmn:SignalEventDefinition")?t("bpmn:SignalEventDefinition")(b,a,d):Jc(c,"bpmn:CancelEventDefinition")&&Jc(c,"bpmn:TerminateEventDefinition",{parallelMultiple:!1})?t("bpmn:MultipleEventDefinition")(b,a,d):Jc(c,"bpmn:CancelEventDefinition")&&Jc(c,"bpmn:TerminateEventDefinition",{parallelMultiple:!0})?t("bpmn:ParallelMultipleEventDefinition")(b,a,d):Jc(c,"bpmn:EscalationEventDefinition")?t("bpmn:EscalationEventDefinition")(b,a,d):Jc(c,"bpmn:LinkEventDefinition")?t("bpmn:LinkEventDefinition")(b,a,d):Jc(c,"bpmn:ErrorEventDefinition")?t("bpmn:ErrorEventDefinition")(b,a,d):Jc(c,"bpmn:CancelEventDefinition")?t("bpmn:CancelEventDefinition")(b,a,d):Jc(c,"bpmn:CompensateEventDefinition")?t("bpmn:CompensateEventDefinition")(b,a,d):Jc(c,"bpmn:TerminateEventDefinition")?t("bpmn:TerminateEventDefinition")(b,a,d):null}function v(a,b,c){c=z({size:{width:100}},c);var d=f.createText(b||"",c);return U(d).add("djs-label"),N(a,d),d}function w(a,b,c){var d=Nc(b);return v(a,d.name,{box:b,align:c,padding:5,style:{fill:Pc(b,E)}})}function x(a,b){var c=Nc(b),d={width:90,height:30,x:b.width/2+b.x,y:b.height/2+b.y};return v(a,c.name,{box:d,fitBox:!0,style:z({},f.getExternalStyle(),{fill:Pc(b,E)})})}function y(a,b,c){var d=v(a,b,{box:{height:30,width:c.height},align:"center-middle",style:{fill:Pc(c,E)}}),e=-1*c.height;cb(d,0,-e,270)}function A(a){for(var b=a.waypoints,c="m  "+b[0].x+","+b[0].y,d=1;d<b.length;d++)c+="L"+b[d].x+","+b[d].y+" ";return c}function B(a,b,c){var d,e=Nc(b),f=c&&c.indexOf("SubProcessMarker")!==-1;d=f?{seq:-21,parallel:-22,compensation:-42,loop:-18,adhoc:10}:{seq:-3,parallel:-6,compensation:-27,loop:0,adhoc:10},n(c,function(c){t(c)(a,b,d)}),e.isForCompensation&&t("CompensationMarker")(a,b,d),"bpmn:AdHocSubProcess"===e.$type&&t("AdhocMarker")(a,b,d);var g=e.loopCharacteristics,h=g&&g.isSequential;g&&(void 0===h&&t("LoopMarker")(a,b,d),h===!1&&t("ParallelMarker")(a,b,d),h===!0&&t("SequentialMarker")(a,b,d))}function C(a,b){var c=(b.height-16)/b.height,e=d.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.451,my:c}});q(a,e,{strokeWidth:2})}ua.call(this,b,h);var D=a&&a.defaultFillColor,E=a&&a.defaultStrokeColor,F=Gg.next(),G={},H=c.computeStyle,I=this.handlers={"bpmn:Event":function(a,b,c){return"fillOpacity"in c||(c.fillOpacity=Jg),l(a,b.width,b.height,c)},"bpmn:StartEvent":function(a,b){var c={fill:Oc(b,D),stroke:Pc(b,E)},d=Nc(b);d.isInterrupting||(c={strokeDasharray:"6",strokeLinecap:"round",fill:Oc(b,D),stroke:Pc(b,E)});var e=t("bpmn:Event")(a,b,c);return u(b,a),e},"bpmn:MessageEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:b.width,containerHeight:b.height,position:{mx:.235,my:.315}}),f=c?Pc(b,E):Oc(b,D),g=c?Oc(b,D):Pc(b,E),h=q(a,e,{strokeWidth:1,fill:f,stroke:g});return h},"bpmn:TimerEventDefinition":function(a,b){var c=l(a,b.width,b.height,.2*b.height,{strokeWidth:2,fill:Oc(b,D),stroke:Pc(b,E)}),e=d.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}});q(a,e,{strokeWidth:2,strokeLinecap:"square",stroke:Pc(b,E)});for(var f=0;f<12;f++){var g=d.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}}),h=b.width/2,i=b.height/2;q(a,g,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*f+","+i+","+h+")",stroke:Pc(b,E)})}return c},"bpmn:EscalationEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.2}}),f=c?Pc(b,E):"none";return q(a,e,{strokeWidth:1,fill:f,stroke:Pc(b,E)})},"bpmn:ConditionalEventDefinition":function(a,b){var c=d.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.222}});return q(a,c,{strokeWidth:1,stroke:Pc(b,E)})},"bpmn:LinkEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.57,my:.263}}),f=c?Pc(b,E):"none";return q(a,e,{strokeWidth:1,fill:f,stroke:Pc(b,E)})},"bpmn:ErrorEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:b.width,containerHeight:b.height,position:{mx:.2,my:.722}}),f=c?Pc(b,E):"none";return q(a,e,{strokeWidth:1,fill:f,stroke:Pc(b,E)})},"bpmn:CancelEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.638,my:-.055}}),f=c?Pc(b,E):"none",g=q(a,e,{strokeWidth:1,fill:f,stroke:Pc(b,E)});return eb(g,45),g},"bpmn:CompensateEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.22,my:.5}}),f=c?Pc(b,E):"none";return q(a,e,{strokeWidth:1,fill:f,stroke:Pc(b,E)})},"bpmn:SignalEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.2}}),f=c?Pc(b,E):"none";return q(a,e,{strokeWidth:1,fill:f,stroke:Pc(b,E)})},"bpmn:MultipleEventDefinition":function(a,b,c){var e=d.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:b.width,containerHeight:b.height,position:{mx:.222,my:.36}}),f=c?Pc(b,E):"none";return q(a,e,{strokeWidth:1,fill:f})},"bpmn:ParallelMultipleEventDefinition":function(a,b){var c=d.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:b.width,containerHeight:b.height,position:{mx:.458,my:.194}});return q(a,c,{strokeWidth:1,fill:Pc(b,E),stroke:Pc(b,E)})},"bpmn:EndEvent":function(a,b){var c=t("bpmn:Event")(a,b,{strokeWidth:4,fill:Oc(b,D),stroke:Pc(b,E)});return u(b,a,!0),c},"bpmn:TerminateEventDefinition":function(a,b){var c=l(a,b.width,b.height,8,{strokeWidth:4,fill:Pc(b,E),stroke:Pc(b,E)});return c},"bpmn:IntermediateEvent":function(a,b){var c=t("bpmn:Event")(a,b,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)});return l(a,b.width,b.height,Ig,{strokeWidth:1,fill:Oc(b,"none"),stroke:Pc(b,E)}),u(b,a),c},"bpmn:IntermediateCatchEvent":s("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":s("bpmn:IntermediateEvent"),"bpmn:Activity":function(a,b,c){return c=c||{},"fillOpacity"in c||(c.fillOpacity=Jg),m(a,b.width,b.height,Hg,c)},"bpmn:Task":function(a,b){var c={fill:Oc(b,D),stroke:Pc(b,E)},d=t("bpmn:Activity")(a,b,c);return w(a,b,"center-middle"),B(a,b),d},"bpmn:ServiceTask":function(a,b){var c=t("bpmn:Task")(a,b),e=d.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});q(a,e,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)});var f=d.getScaledPath("TASK_TYPE_SERVICE_FILL",{abspos:{x:17.2,y:18}});q(a,f,{strokeWidth:0,fill:Oc(b,D)});var g=d.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return q(a,g,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)}),c},"bpmn:UserTask":function(a,b){var c=t("bpmn:Task")(a,b),e=15,f=12,g=d.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:e,y:f}});q(a,g,{strokeWidth:.5,fill:Oc(b,D),stroke:Pc(b,E)});var h=d.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:e,y:f}});q(a,h,{strokeWidth:.5,fill:Oc(b,D),stroke:Pc(b,E)});var i=d.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:e,y:f}});return q(a,i,{strokeWidth:.5,fill:Pc(b,E),stroke:Pc(b,E)}),c},"bpmn:ManualTask":function(a,b){var c=t("bpmn:Task")(a,b),e=d.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return q(a,e,{strokeWidth:.5,fill:Oc(b,D),stroke:Pc(b,E)}),c},"bpmn:SendTask":function(a,b){var c=t("bpmn:Task")(a,b),e=d.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return q(a,e,{strokeWidth:1,fill:Pc(b,E),stroke:Oc(b,D)}),c},"bpmn:ReceiveTask":function(a,b){var c,e=Nc(b),f=t("bpmn:Task")(a,b);return e.instantiate?(l(a,28,28,4.4,{strokeWidth:1}),c=d.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):c=d.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),q(a,c,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)}),f},"bpmn:ScriptTask":function(a,b){var c=t("bpmn:Task")(a,b),e=d.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return q(a,e,{strokeWidth:1,stroke:Pc(b,E)}),c},"bpmn:BusinessRuleTask":function(a,b){var c=t("bpmn:Task")(a,b),e=d.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),f=q(a,e);R(f,{strokeWidth:1,fill:Oc(b,"#aaaaaa"),stroke:Pc(b,E)});var g=d.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),h=q(a,g);return R(h,{strokeWidth:1,stroke:Pc(b,E)}),c},"bpmn:SubProcess":function(a,b,c){c=z({fill:Oc(b,D),stroke:Pc(b,E)},c);var d=t("bpmn:Activity")(a,b,c),e=Hc(b);return Ic(b)&&R(d,{strokeDasharray:"1,2"}),w(a,b,e?"center-top":"center-middle"),e?B(a,b):B(a,b,["SubProcessMarker"]),d},"bpmn:AdHocSubProcess":function(a,b){return t("bpmn:SubProcess")(a,b)},"bpmn:Transaction":function(a,b){var d=t("bpmn:SubProcess")(a,b),e=c.style(["no-fill","no-events"],{stroke:Pc(b,E)});return m(a,b.width,b.height,Hg-2,Ig,e),d},"bpmn:CallActivity":function(a,b){return t("bpmn:SubProcess")(a,b,{strokeWidth:5})},"bpmn:Participant":function(a,b){var c={fillOpacity:Jg,fill:Oc(b,D),stroke:Pc(b,E)},d=t("bpmn:Lane")(a,b,c),e=Hc(b);if(e){p(a,[{x:30,y:0},{x:30,y:b.height}],{stroke:Pc(b,E)});var f=Nc(b).name;y(a,f,b)}else{var g=Nc(b).name;v(a,g,{box:b,align:"center-middle",style:{fill:Pc(b,E)}})}var h=!!Nc(b).participantMultiplicity;return h&&t("ParticipantMultiplicityMarker")(a,b),d},"bpmn:Lane":function(a,b,c){var d=m(a,b.width,b.height,0,z({fill:Oc(b,D),fillOpacity:Kg,stroke:Pc(b,E)},c)),e=Nc(b);if("bpmn:Lane"===e.$type){var f=e.name;y(a,f,b)}return d},"bpmn:InclusiveGateway":function(a,b){var c=t("bpmn:Gateway")(a,b);return l(a,b.width,b.height,.24*b.height,{strokeWidth:2.5,fill:Oc(b,D),stroke:Pc(b,E)}),c},"bpmn:ExclusiveGateway":function(a,b){var c=t("bpmn:Gateway")(a,b),e=d.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:b.width,containerHeight:b.height,position:{mx:.32,my:.3}});return Mc(b).isMarkerVisible&&q(a,e,{strokeWidth:1,fill:Pc(b,E),stroke:Pc(b,E)}),c},"bpmn:ComplexGateway":function(a,b){var c=t("bpmn:Gateway")(a,b),e=d.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:b.width,containerHeight:b.height,position:{mx:.46,my:.26}});return q(a,e,{strokeWidth:1,fill:Pc(b,E),stroke:Pc(b,E)}),c},"bpmn:ParallelGateway":function(a,b){var c=t("bpmn:Gateway")(a,b),e=d.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:b.width,containerHeight:b.height,position:{mx:.46,my:.2}});return q(a,e,{strokeWidth:1,fill:Pc(b,E),stroke:Pc(b,E)}),c},"bpmn:EventBasedGateway":function(a,b){function c(){var c=d.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:b.width,containerHeight:b.height,position:{mx:.36,my:.44}}),e={strokeWidth:2,fill:Oc(b,"none"),stroke:Pc(b,E)};q(a,c,e)}var e=Nc(b),f=t("bpmn:Gateway")(a,b);l(a,b.width,b.height,.2*b.height,{strokeWidth:1,fill:"none",stroke:Pc(b,E)});var g=e.eventGatewayType,h=!!e.instantiate;if("Parallel"===g){var i=d.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:b.width,containerHeight:b.height,position:{mx:.474,my:.296}}),j=q(a,i);R(j,{strokeWidth:1,fill:"none"})}else if("Exclusive"===g){if(!h){var k=l(a,b.width,b.height,.26*b.height);R(k,{strokeWidth:1,fill:"none",stroke:Pc(b,E)})}c()}return f},"bpmn:Gateway":function(a,b){var c={fill:Oc(b,D),fillOpacity:Jg,stroke:Pc(b,E)};return o(a,b.width,b.height,c)},"bpmn:SequenceFlow":function(a,b){var c,d=A(b),e=Oc(b,D),f=Pc(b,E),g={strokeLinejoin:"round",markerEnd:j("sequenceflow-end",e,f),stroke:Pc(b,E)},h=q(a,d,g),i=Nc(b);return b.source&&(c=b.source.businessObject,i.conditionExpression&&c.$instanceOf("bpmn:Activity")&&R(h,{markerStart:j("conditional-flow-marker",e,f)}),c["default"]&&(c.$instanceOf("bpmn:Gateway")||c.$instanceOf("bpmn:Activity"))&&c["default"]===i&&R(h,{markerStart:j("conditional-default-flow-marker",e,f)})),h},"bpmn:Association":function(a,b,c){var d=Nc(b),e=Oc(b,D),f=Pc(b,E);return c=z({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",stroke:Pc(b,E)},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=j("association-end",e,f)),"Both"===d.associationDirection&&(c.markerStart=j("association-start",e,f)),p(a,b.waypoints,c)},"bpmn:DataInputAssociation":function(a,b){var c=Oc(b,D),d=Pc(b,E);return t("bpmn:Association")(a,b,{markerEnd:j("association-end",c,d)})},"bpmn:DataOutputAssociation":function(a,b){var c=Oc(b,D),d=Pc(b,E);return t("bpmn:Association")(a,b,{markerEnd:j("association-end",c,d)})},"bpmn:MessageFlow":function(a,b){var c=Nc(b),e=Mc(b),f=Oc(b,D),g=Pc(b,E),h=A(b),i={markerEnd:j("messageflow-end",f,g),markerStart:j("messageflow-start",f,g),strokeDasharray:"10, 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5px",stroke:Pc(b,E)},k=q(a,h,i);if(c.messageRef){var l=k.getPointAtLength(k.getTotalLength()/2),m=d.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:l.x,y:l.y}}),n={strokeWidth:1};"initiating"===e.messageVisibleKind?(n.fill="white",n.stroke="black"):(n.fill="#888",n.stroke="white"),q(a,m,n)}return k},"bpmn:DataObject":function(a,b){var c=d.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.474,my:.296}}),e=q(a,c,{fill:Oc(b,D),fillOpacity:Jg,stroke:Pc(b,E)}),f=Nc(b);return Lc(f)&&C(a,b),e},"bpmn:DataObjectReference":s("bpmn:DataObject"),"bpmn:DataInput":function(a,b){var c=d.getRawPath("DATA_ARROW"),e=t("bpmn:DataObject")(a,b);return q(a,c,{strokeWidth:1}),e},"bpmn:DataOutput":function(a,b){var c=d.getRawPath("DATA_ARROW"),e=t("bpmn:DataObject")(a,b);return q(a,c,{strokeWidth:1,fill:"black"}),e},"bpmn:DataStoreReference":function(a,b){var c=d.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:.133}}),e=q(a,c,{strokeWidth:2,fill:Oc(b,D),fillOpacity:Jg,stroke:Pc(b,E)});return e},"bpmn:BoundaryEvent":function(a,b){var c=Nc(b),d=c.cancelActivity,e={strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)};d||(e.strokeDasharray="6",e.strokeLinecap="round");var f=z({},e,{fillOpacity:1}),g=z({},e,{fill:"none"}),h=t("bpmn:Event")(a,b,f);return l(a,b.width,b.height,Ig,g),u(b,a),h},"bpmn:Group":function(a,b){var c=Nc(b),d=Mc(b),e=m(a,b.width,b.height,Hg,{strokeWidth:1,strokeDasharray:"8,3,1,3",fill:"none",pointerEvents:"none"}),f=c.categoryValueRef||{};if(f.value){var g=d.label?d.label.bounds:b;v(a,f.value,{box:g,style:{fill:Pc(b,E)}})}return e},label:function(a,b){return x(a,b)},"bpmn:TextAnnotation":function(a,b){var c={fill:"none",stroke:"none"},e=m(a,b.width,b.height,0,0,c),f=d.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:0}});q(a,f,{stroke:Pc(b,E)});var g=Nc(b).text||"";return v(a,g,{box:b,align:"left-top",padding:5,style:{fill:Pc(b,E)}}),e},ParticipantMultiplicityMarker:function(a,b){var c=d.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:b.width/2/b.width,my:(b.height-15)/b.height}});r("participant-multiplicity",a,c,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)})},SubProcessMarker:function(a,b){var c=m(a,14,14,0,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)});db(c,b.width/2-7.5,b.height-20);var e=d.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-7.5)/b.width,my:(b.height-20)/b.height}});r("sub-process",a,e,{fill:Oc(b,D),stroke:Pc(b,E)})},ParallelMarker:function(a,b,c){var e=d.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+c.parallel)/b.width,my:(b.height-20)/b.height}});r("parallel",a,e,{fill:Oc(b,D),stroke:Pc(b,E)})},SequentialMarker:function(a,b,c){var e=d.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+c.seq)/b.width,my:(b.height-19)/b.height}});r("sequential",a,e,{fill:Oc(b,D),stroke:Pc(b,E)})},CompensationMarker:function(a,b,c){var e=d.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+c.compensation)/b.width,my:(b.height-13)/b.height}});r("compensation",a,e,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E)})},LoopMarker:function(a,b,c){var e=d.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+c.loop)/b.width,my:(b.height-7)/b.height}});r("loop",a,e,{strokeWidth:1,fill:Oc(b,D),stroke:Pc(b,E),strokeLinecap:"round",strokeMiterlimit:.5})},AdhocMarker:function(a,b,c){var e=d.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+c.adhoc)/b.width,my:(b.height-15)/b.height}});r("adhoc",a,e,{strokeWidth:1,fill:Pc(b,E),stroke:Pc(b,E)})}};this._drawPath=q}function Wc(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function Xc(a){return g(a)?z({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function Yc(a,b){b.textContent=a;var c;try{var d,e=""===a;return b.textContent=e?"dummy":a,c=b.getBBox(),d={width:c.width+2*c.x,height:c.height},e&&(d.width=0),d}catch(f){return{width:0,height:0}}}function Zc(a,b,c){for(var d,e=a.shift(),f=e;;){if(d=Yc(f,c),d.width=f?d.width:0," "===f||""===f||d.width<Math.round(b)||f.length<2)return $c(a,f,e,d);f=ad(f,d.width,b)}}function $c(a,b,c,d){if(b.length<c.length){var e=c.slice(b.length).trim();a.unshift(e)}return{width:d.width,height:d.height,text:b}}function _c(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function ad(a,b,c){var d=Math.max(a.length*(c/b),1),e=_c(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function bd(){var a=document.getElementById("helper-svg");return a||(a=$("svg"),R(a,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(a)),a}function cd(a){this._config=z({},{size:Mg,padding:Lg,style:{},align:"center-top"},a||{})}function dd(a){if("fontSize"in a&&"lineHeight"in a)return a.lineHeight*parseInt(a.fontSize,10)}function ed(a){var b=z({fontFamily:"Arial, sans-serif",fontSize:Ng,fontWeight:"normal",lineHeight:Og},a&&a.defaultStyle||{}),c=parseInt(b.fontSize,10)-1,d=z({},b,{fontSize:c},a&&a.externalStyle||{}),e=new cd({style:b});this.getExternalLabelBounds=function(a,b){var c=e.getDimensions(b,{box:{width:90,height:30,x:a.width/2+a.x,y:a.height/2+a.y},style:d});return{x:Math.round(a.x+a.width/2-c.width/2),y:Math.round(a.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}},this.getTextAnnotationBounds=function(a,c){var d=e.getDimensions(c,{box:a,style:b,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(Pg,Math.round(d.height))}},this.createText=function(a,b){return e.createText(a,b||{})},this.getDefaultStyle=function(){return b},this.getExternalStyle=function(){return d}}function fd(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m {mx}, {my} m  0 15  l 0 -15 m  4 15  l 0 -15 m  4 15  l 0 -15 ",height:61,width:51,heightElements:[12],widthElements:[1,6,12,15]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"
},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var f={};if(b.position){for(var g=b.containerHeight/e.height*b.yScaleFactor,h=b.containerWidth/e.width*b.xScaleFactor,i=0;i<e.heightElements.length;i++)f["y"+i]=e.heightElements[i]*g;for(var j=0;j<e.widthElements.length;j++)f["x"+j]=e.widthElements[j]*h}var k=hd(e.d,{mx:c,my:d,e:f});return k}}function gd(a,b,c){var d=c;return b.replace(Rg,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function hd(a,b){return String(a).replace(Qg,function(a,c){return gd(a,c,b)})}function id(a,b){return b=b||{},a.replace(/{([^}]+)}/g,function(a,c){return b[c]||"{"+c+"}"})}function jd(a){return Fc(a,"bpmn:Event")||Fc(a,"bpmn:Gateway")||Fc(a,"bpmn:DataStoreReference")||Fc(a,"bpmn:DataObjectReference")||Fc(a,"bpmn:SequenceFlow")||Fc(a,"bpmn:MessageFlow")}function kd(a){var b=a.length/2-1,c=a[Math.floor(b)],d=a[Math.ceil(b+.01)],e=ld(a),f=Math.atan((d.y-c.y)/(d.x-c.x)),g=e.x,h=e.y;return Math.abs(f)<Math.PI/2?h-=Vg:g+=Vg,{x:g,y:h}}function ld(a){var b=a.length/2-1,c=a[Math.floor(b)],d=a[Math.ceil(b+.01)];return{x:c.x+(d.x-c.x)/2,y:c.y+(d.y-c.y)/2}}function md(a){return a.waypoints?kd(a.waypoints):{x:a.x+a.width/2,y:a.y+a.height+Ug.height/2}}function nd(a,b){var c,d,e,f=a.di,g=f.label;return g&&g.bounds?(e=g.bounds,d={width:Math.max(Ug.width,e.width),height:e.height},c={x:e.x+e.width/2,y:e.y+e.height/2}):(c=md(b),d=Ug),z({x:c.x-d.width/2,y:c.y-d.height/2},d)}function od(a){return{x:Math.round(a.x),y:Math.round(a.y)}}function pd(a){return od({x:a.x+(a.width||0)/2,y:a.y+(a.height||0)/2})}function qd(a,b){return z({id:a.id,type:a.$type,businessObject:a},b)}function rd(a){return r(a,function(a){return{x:a.x,y:a.y}})}function sd(a,b,c,d){return new Error(a("element {element} referenced by {referenced}#{property} not yet drawn",{element:Ac(c),referenced:Ac(b),property:d}))}function td(a,b,c,d,e,f){this._eventBus=a,this._canvas=b,this._elementFactory=c,this._elementRegistry=d,this._translate=e,this._textRenderer=f}function ud(a,b){var c=b.x,d=b.y;return c>=a.x&&c<=a.x+a.width&&d>=a.y&&d<=a.y+a.height}function vd(a){return a.originalEvent||a.srcEvent}function wd(a){return a.pointers&&a.pointers.length&&(a=a.pointers[0]),a.touches&&a.touches.length&&(a=a.touches[0]),a?{x:a.clientX,y:a.clientY}:null}function xd(){return/mac/i.test(navigator.platform)}function yd(a){return!(vd(a)||a).button}function zd(a){var b=vd(a)||a;return!!yd(a)&&(xd()?b.metaKey:b.ctrlKey)}function Ad(a){return!0}function Bd(a,b,c){function d(c,d,e){if(!f(c,d)){var g,h,i;e?h=b.getGraphics(e):(g=d.delegateTarget||d.target,g&&(h=g,e=b.get(h))),h&&e&&(i=a.fire(c,{element:e,gfx:h,originalEvent:d}),i===!1&&(d.stopPropagation(),d.preventDefault()))}}function e(a){return m[a]}function f(a,b){var c=p[a]||yd;return!c(b)}function g(a,b,c){var e=o[a];if(!e)throw new Error("unmapped DOM event name <"+a+">");return d(e,b,c)}function h(a,b,c,e){var f=m[c]=function(a){d(c,a)};e&&(p[c]=e),f.$delegate=He.bind(a,q,b,f)}function i(a,b,c){var d=e(c);d&&He.unbind(a,b,d.$delegate)}function j(a){n(o,function(b,c){h(a,c,b)})}function k(a){n(o,function(b,c){i(a,c,b)})}var l=c.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),m={},o={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},p={"element.contextmenu":Ad},q="svg, .djs-element";a.on("canvas.destroy",function(a){k(a.svg)}),a.on("canvas.init",function(a){j(a.svg)}),a.on(["shape.added","connection.added"],function(a){var b,c=a.element,d=a.gfx;c.waypoints?b=xa(c.waypoints):(b=$("rect"),R(b,{x:0,y:0,width:c.width,height:c.height})),R(b,l),N(d,b)}),a.on("shape.changed",Zg,function(a){var b=a.element,c=a.gfx,d=J(".djs-hit",c);R(d,{width:b.width,height:b.height})}),a.on("connection.changed",function(a){var b=a.element,c=a.gfx,d=J(".djs-hit",c);ya(d,b.waypoints)}),this.fire=d,this.triggerMouseEvent=g,this.mouseHandler=e,this.registerEvent=h,this.unregisterEvent=i}function Cd(a,b,c){function d(a,b){var c=$("rect");return R(c,z({x:10,y:10,width:100,height:100},e)),N(a,c),c}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),f=this;a.on(["shape.added","shape.changed"],_g,function(a){var b=a.element,c=a.gfx,e=J(".djs-outline",c);e||(e=d(c,b)),f.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=J(".djs-outline",c);e||(e=d(c,b)),f.updateConnectionOutline(e,b)})}function Dd(a){this._eventBus=a,this._selectedElements=[];var b=this;a.on(["shape.remove","connection.remove"],function(a){var c=a.element;b.deselect(c)}),a.on(["diagram.clear"],function(a){b.select(null)})}function Ed(a,b,c,d){function e(a,c){b.addMarker(a,c)}function f(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){e(a.element,bh)}),a.on("element.out",function(a){f(a.element,bh)}),a.on("selection.changed",function(a){function b(a){f(a,ch)}function c(a){e(a,ch)}var d=a.oldSelection,g=a.newSelection;n(d,function(a){g.indexOf(a)===-1&&b(a)}),n(g,function(a){d.indexOf(a)===-1&&c(a)})})}function Fd(a,b,c,d){a.on("create.end",500,function(a){a.context.canExecute&&b.select(a.context.shape)}),a.on("connect.end",500,function(a){a.context.canExecute&&a.context.target&&b.select(a.context.target)}),a.on("shape.move.end",500,function(a){var c=a.previousSelection||[],e=d.get(a.context.shape.id),f=l(c,function(a){return e.id===a.id});f||b.select(e)}),a.on("element.click",function(a){var d=a.element;d===c.getRootElement()&&(d=null);var e=b.isSelected(d),f=b.get().length>1,g=zd(a);return e&&f?g?b.deselect(d):b.select(d):void(e?b.deselect(d):b.select(d,g))})}function Gd(a){this._counter=0,this._prefix=(a?a+"-":"")+Math.floor(1e9*Math.random())+"-"}function Hd(a,b,c,d){this._eventBus=b,this._canvas=c,this._elementRegistry=d,this._ids=eh,this._overlayDefaults=z({show:null,scale:!0},a&&a.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=Id(c.getContainer()),this._init()}function Id(a){var b=Ie('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function Jd(a,b,c){z(a.style,{left:b+"px",top:c+"px"})}function Kd(a,b){a.style.display=b===!1?"none":""}function Ld(a,b){a.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(c){a.style[c+"transform"]=b})}function Md(a){return a.join(";")}function Nd(){gh||(gh=Ie(oh),He.bind(gh,".backdrop","click",function(a){document.body.removeChild(gh)})),document.body.appendChild(gh)}function Od(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+c[2]),a}function Pd(a){return a+(h(a)?"px":"")}function Qd(a){a=z({},ph,a),this._moddle=this._createModdle(a),this._container=this._createContainer(a),Rd(this._container),this._init(this._container,this._moddle,a)}function Rd(a){var b=kh,c='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+b+"</a>",d=Ie(c);a.appendChild(d),De.bind(d,"click",function(a){Nd(),a.preventDefault()})}function Sd(a){return a.ctrlKey||a.metaKey||a.shiftKey||a.altKey}function Td(a){return!a.altKey&&(a.ctrlKey||a.metaKey)}function Ud(a,b){return a=f(a)?a:[a],a.indexOf(b.key)>-1}function Vd(a){return a.shiftKey}function Wd(a,b){var c=this;this._config=a||{},this._eventBus=b,this._keyHandler=this._keyHandler.bind(this),b.on("diagram.destroy",function(){c._fire("destroy"),c.unbind()}),b.on("diagram.init",function(){c._fire("init")}),b.on("attach",function(){a&&a.bindTo&&c.bind(a.bindTo)}),b.on("detach",function(){c.unbind()})}function Xd(a){return a&&(Ne(a,"input, textarea")||"true"===a.contentEditable)}function Yd(a,b){var c=this;a.on("editorActions.init",sh,function(a){var d=a.editorActions;c.registerBindings(b,d)})}function Zd(a,b,c){function d(a){var c=a.keyEvent,d=e._config;if(b.isCmd(c)&&b.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],c)){var f,g=b.isShift(c)?d.moveSpeedAccelerated:d.moveSpeed;switch(c.key){case"ArrowLeft":case"Left":f="left";break;case"ArrowUp":case"Up":f="up";break;case"ArrowRight":case"Right":f="right";break;case"ArrowDown":case"Down":f="down"}return e.moveCanvas({speed:g,direction:f}),!0}}var e=this;this._config=z({},uh,a||{}),b.addListener(d),this.moveCanvas=function(a){var b=0,d=0,e=a.speed,f=e/Math.min(Math.sqrt(c.viewbox().scale),1);switch(a.direction){case"left":b=f;break;case"up":d=f;break;case"right":b=-f;break;case"down":d=-f}c.scroll({dx:b,dy:d})}}function $d(a){var b=D(document.body);b.removeMatching(wh),a&&b.add("djs-cursor-"+a)}function _d(){$d(null)}function ae(a,b){function c(){return!1}return b=b||"element.click",a.once(b,xh,c),function(){a.off(b,c)}}function be(a,b){return{x:a.x-b.x,y:a.y-b.y}}function ce(a,b){function c(c){var d=f.start,e=wd(c),g=be(e,d);if(!f.dragging&&de(g)>yh&&(f.dragging=!0,ae(a),$d("grab")),f.dragging){var h=f.last||f.start;g=be(e,h),b.scroll({dx:g.x,dy:g.y}),f.last=e}c.preventDefault()}function d(a){De.unbind(document,"mousemove",c),De.unbind(document,"mouseup",d),f=null,_d()}function e(a){if(!xe(a.target,".djs-draggable")&&!(a.button||a.ctrlKey||a.shiftKey||a.altKey))return f={start:wd(a)},De.bind(document,"mousemove",c),De.bind(document,"mouseup",d),!0}var f;a.on("element.mousedown",500,function(a){return e(a.originalEvent)})}function de(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function ee(a){return Math.log(a)/Math.log(10)}function fe(a,b){var c=ee(a.min),d=ee(a.max),e=Math.abs(c)+Math.abs(d);return e/b}function ge(a,b){return Math.max(a.min,Math.min(a.max,b))}function he(a,b,c){a=a||{},this._enabled=!1,this._canvas=c,this._container=c._container,this._handleWheel=y(this._handleWheel,this),this._totalDelta=0,this._scale=a.scale||Eh;var d=this;b.on("canvas.init",function(b){d._init(a.enabled!==!1)})}function ie(a){Qd.call(this,a)}var je="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:{},ke=c(function(a){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}),le=Object.prototype.toString,me=Object.prototype.hasOwnProperty,ne=Array.prototype.slice,oe=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},pe=[].indexOf,qe=function(a,b){if(pe)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},re=/\s+/,se=Object.prototype.toString;E.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=qe(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},E.prototype.remove=function(a){if("[object RegExp]"==se.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=qe(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},E.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},E.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},E.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(re);return""===c[0]&&c.shift(),c},E.prototype.has=E.prototype.contains=function(a){return this.list?this.list.contains(a):!!~qe(this.array(),a)};var te,ue=Element.prototype,ve=ue.matchesSelector||ue.webkitMatchesSelector||ue.mozMatchesSelector||ue.msMatchesSelector||ue.oMatchesSelector,we=G,xe=function(a,b,c){for(var d=c?a:a.parentNode;d&&d!==document;){if(we(d,b))return d;d=d.parentNode}},ye=window.addEventListener?"addEventListener":"attachEvent",ze=window.removeEventListener?"removeEventListener":"detachEvent",Ae="addEventListener"!==ye?"on":"",Be=function(a,b,c,d){return a[ye](Ae+b,c,d||!1),c},Ce=function(a,b,c,d){return a[ze](Ae+b,c,d||!1),c},De={bind:Be,unbind:Ce},Ee=["focus","blur"],Fe=function(a,b,c,d,e){return Ee.indexOf(c)!==-1&&(e=!0),De.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=xe(e,b,!0,a),c.delegateTarget&&d.call(a,c)},e)},Ge=function(a,b,c,d){Ee.indexOf(b)!==-1&&(d=!0),De.unbind(a,b,c,d)},He={bind:Fe,unbind:Ge},Ie=H,Je=!1;"undefined"!=typeof document&&(te=document.createElement("div"),te.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',Je=!te.getElementsByTagName("link").length,te=void 0);var Ke={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:Je?[1,"X<div>","</div>"]:[0,"",""]};Ke.td=Ke.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],Ke.option=Ke.optgroup=[1,'<select multiple="multiple">',"</select>"],Ke.thead=Ke.tbody=Ke.colgroup=Ke.caption=Ke.tfoot=[1,"<table>","</table>"],Ke.polyline=Ke.ellipse=Ke.polygon=Ke.circle=Ke.text=Ke.line=Ke.path=Ke.rect=Ke.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Le="undefined"!=typeof Element?Element.prototype:{},Me=Le.matches||Le.matchesSelector||Le.webkitMatchesSelector||Le.mozMatchesSelector||Le.msMatchesSelector||Le.oMatchesSelector,Ne=I,Oe=2,Pe={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Oe,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Oe,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1},Qe=/\s+/,Re=Object.prototype.toString;V.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=S(b,a);return~c||b.push(a),T(this.el.className.baseVal)?this.el.className.baseVal=b.join(" "):this.el.className=b.join(" "),this},V.prototype.remove=function(a){if("[object RegExp]"===Re.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=S(b,a);return~c&&b.splice(c,1),this.el.className.baseVal=b.join(" "),this},V.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},V.prototype.toggle=function(a,b){return this.list?(T(b)?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(T(b)?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},V.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(Qe);return""===c[0]&&c.shift(),c},V.prototype.has=V.prototype.contains=function(a){return this.list?this.list.contains(a):!!~S(this.array(),a)};var Se={svg:"http://www.w3.org/2000/svg"},Te='<svg xmlns="'+Se.svg+'"',Ue=$("svg"),Ve=/([&<>]{1})/g,We=/([\n\r"]{1})/g,Xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"},Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ze=/^class /,$e=/constructor\s*[^(]*\(\s*([^)]*)\)/m,_e=/^function\s*[^(]*\(\s*([^)]*)\)/m,af=/\/\*([^*]*)\*\//m,bf="function"==typeof Symbol&&"symbol"===Ye(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":Ye(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":Ye(a)},cf=1e3;ua.prototype.canRender=function(){},ua.prototype.drawShape=function(){},ua.prototype.drawConnection=function(){},ua.prototype.getShapePath=function(){},ua.prototype.getConnectionPath=function(){};var df=1;ke(za,ua),za.prototype.canRender=function(){return!0},za.prototype.drawShape=function(a,b){var c=$("rect");return R(c,{x:0,y:0,width:b.width||0,height:b.height||0}),R(c,this.SHAPE_STYLE),N(a,c),c},za.prototype.drawConnection=function(a,b){var c=xa(b.waypoints,this.CONNECTION_STYLE);return N(a,c),c},za.prototype.getShapePath=function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]];return va(f)},za.prototype.getConnectionPath=function(a){var b,c,d=a.waypoints,e=[];for(b=0;c=d[b];b++)c=c.original||c,e.push([0===b?"M":"L",c.x,c.y]);return va(e)},za.$inject=["eventBus","styles"];var ef={__init__:["defaultRenderer"],defaultRenderer:["type",za],styles:["type",Aa]},ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gf="base",hf={shape:["x","y","width","height"],connection:["waypoints"]};Ja.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Ja.prototype._init=function(a){var b=this._eventBus,c=this._container=Ha(a),d=this._svg=$("svg");R(d,{width:"100%",height:"100%"}),N(c,d);var e=this._viewport=Ia(d,"viewport");this._layers={},a.deferUpdate!==!1&&(this._viewboxChanged=x(y(this._viewboxChanged,this),300)),b.on("diagram.init",function(){b.fire("canvas.init",{svg:d,viewport:e})},this),b.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),b.on("diagram.destroy",500,this._destroy,this),b.on("diagram.clear",500,this._clear,this)},Ja.prototype._destroy=function(a){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var b=this._container.parentNode;b&&b.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},Ja.prototype._clear=function(){var a=this,b=this._elementRegistry.getAll();b.forEach(function(b){var c=Ea(b);"root"===c?a.setRootElement(null,!0):a._removeElement(b,c)}),delete this._cachedViewbox},Ja.prototype.getDefaultLayer=function(){return this.getLayer(gf,0)},Ja.prototype.getLayer=function(a,b){if(!a)throw new Error("must specify a name");var c=this._layers[a];if(c||(c=this._layers[a]=this._createLayer(a,b)),"undefined"!=typeof b&&c.index!==b)throw new Error("layer <"+a+"> already created at index <"+b+">");return c.group},Ja.prototype._createLayer=function(a,b){b||(b=0);var c=o(this._layers,function(a,c){return b>=c.index&&a++,a},0);return{group:Ia(this._viewport,"layer-"+a,c),index:b}},Ja.prototype.getContainer=function(){return this._container},Ja.prototype._updateMarker=function(a,b,c){var d;a.id||(a=this._elementRegistry.get(a)),d=this._elementRegistry._elements[a.id],d&&(n([d.gfx,d.secondaryGfx],function(a){a&&(c?U(a).add(b):U(a).remove(b))}),this._eventBus.fire("element.marker.update",{element:a,gfx:d.gfx,marker:b,add:!!c}))},Ja.prototype.addMarker=function(a,b){this._updateMarker(a,b,!0)},Ja.prototype.removeMarker=function(a,b){this._updateMarker(a,b,!1)},Ja.prototype.hasMarker=function(a,b){a.id||(a=this._elementRegistry.get(a));var c=this.getGraphics(a);return U(c).has(b)},Ja.prototype.toggleMarker=function(a,b){this.hasMarker(a,b)?this.removeMarker(a,b):this.addMarker(a,b)},Ja.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},Ja.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootElement,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootElement already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootElement=a,a},Ja.prototype._ensureValid=function(a,b){if(!b.id)throw new Error("element must have an id");if(this._elementRegistry.get(b.id))throw new Error("element with id "+b.id+" already exists");var c=hf[a],d=p(c,function(a){return"undefined"!=typeof b[a]});if(!d)throw new Error("must supply { "+c.join(", ")+" } with "+a)},Ja.prototype._setParent=function(a,b,c){Ca(b.children,a,c),a.parent=b},Ja.prototype._addElement=function(a,b,c,d){c=c||this.getRootElement();var e=this._eventBus,f=this._graphicsFactory;this._ensureValid(a,b),e.fire(a+".add",{element:b,parent:c}),this._setParent(b,c,d);var g=f.create(a,b,d);return this._elementRegistry.add(b,g),f.update(a,b,g),e.fire(a+".added",{element:b,gfx:g}),b},Ja.prototype.addShape=function(a,b,c){return this._addElement("shape",a,b,c)},Ja.prototype.addConnection=function(a,b,c){return this._addElement("connection",a,b,c)},Ja.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),Ba(a.parent&&a.parent.children,a),a.parent=null,e.fire(b+".removed",{element:a}),c.remove(a),a},Ja.prototype.removeShape=function(a){return this._removeElement(a,"shape")},Ja.prototype.removeConnection=function(a){return this._removeElement(a,"connection")},Ja.prototype.getGraphics=function(a,b){return this._elementRegistry.getGraphics(a,b)},Ja.prototype._changeViewbox=function(a){this._eventBus.fire("canvas.viewbox.changing"),a.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Ja.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Ja.prototype.viewbox=function(a){if(void 0===a&&this._cachedViewbox)return this._cachedViewbox;var b,c,d,e,f,g,h=this._viewport,i=this.getSize();return a?(this._changeViewbox(function(){e=Math.min(i.width/a.width,i.height/a.height);var b=this._svg.createSVGMatrix().scale(e).translate(-a.x,-a.y);la(h,b)}),a):(b=this.getDefaultLayer().getBBox(),d=la(h),c=d?d.matrix:aa(),e=Fa(c.a,1e3),f=Fa(-c.e||0,1e3),g=Fa(-c.f||0,1e3),a=this._cachedViewbox={x:f?f/e:0,y:g?g/e:0,width:i.width/e,height:i.height/e,scale:e,inner:{width:b.width,height:b.height,x:b.x,y:b.y},outer:i})},Ja.prototype.scroll=function(a){var b=this._viewport,c=b.getCTM();return a&&this._changeViewbox(function(){a=z({dx:0,dy:0},a||{}),c=this._svg.createSVGMatrix().translate(a.dx,a.dy).multiply(c),Ka(b,c)}),{x:c.e,y:c.f}},Ja.prototype.zoom=function(a,b){if(!a)return this.viewbox(a).scale;if("fit-viewport"===a)return this._fitViewport(b);var c,d;return this._changeViewbox(function(){"object"!==("undefined"==typeof b?"undefined":ff(b))&&(c=this.viewbox().outer,b={x:c.width/2,y:c.height/2}),d=this._setZoom(a,b)}),Fa(d.a,1e3)},Ja.prototype._fitViewport=function(a){var b,c,d=this.viewbox(),e=d.outer,f=d.inner;return f.x>=0&&f.y>=0&&f.x+f.width<=e.width&&f.y+f.height<=e.height&&!a?c={x:0,y:0,width:Math.max(f.width+f.x,e.width),height:Math.max(f.height+f.y,e.height)}:(b=Math.min(1,e.width/f.width,e.height/f.height),c={x:f.x+(a?f.width/2-e.width/b/2:0),y:f.y+(a?f.height/2-e.height/b/2:0),width:e.width/b,height:e.height/b}),this.viewbox(c),this.viewbox(!1).scale},Ja.prototype._setZoom=function(a,b){var c,d,e,f,g,h=this._svg,i=this._viewport,j=h.createSVGMatrix(),k=h.createSVGPoint();e=i.getCTM();var l=e.a;return b?(c=z(k,b),d=c.matrixTransform(e.inverse()),f=j.translate(d.x,d.y).scale(1/l*a).translate(-d.x,-d.y),g=e.multiply(f)):g=j.scale(a),Ka(this._viewport,g),g},Ja.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Ja.prototype.getAbsoluteBBox=function(a){var b,c=this.viewbox();if(a.waypoints){var d=this.getGraphics(a);b=d.getBBox()}else b=a;var e=b.x*c.scale-c.x*c.scale,f=b.y*c.scale-c.y*c.scale,g=b.width*c.scale,h=b.height*c.scale;return{x:e,y:f,width:g,height:h}},Ja.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var jf="data-element-id";La.$inject=["eventBus"],La.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),R(b,jf,d),c&&R(c,jf,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},La.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(R(d.gfx,jf,""),d.secondaryGfx&&R(d.secondaryGfx,jf,""),delete b[c])},La.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a)),this._eventBus.fire("element.updateId",{element:a,newId:b});var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},La.prototype.get=function(a){var b;b="string"==typeof a?a:a&&R(a,jf);var c=this._elements[b];return c&&c.element},La.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},La.prototype.getAll=function(){return this.filter(function(a){return a})},La.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},La.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},La.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")};var kf=Ma,lf=Na,mf={extend:kf,isExtended:lf};Ra.prototype.bind=function(a,b){if("string"==typeof b){if(!this.props[b])throw new Error("no property <"+b+"> in ref");b=this.props[b]}b.collection?Pa(this,b,a):Qa(this,b,a)},Ra.prototype.ensureRefsCollection=function(a,b){var c=a[b.name];return mf.isExtended(c)||Pa(this,b,a),c},Ra.prototype.ensureBound=function(a,b){Oa(a,b)||this.bind(a,b)},Ra.prototype.unset=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).remove(c):a[b.name]=void 0)},Ra.prototype.set=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).add(c):a[b.name]=c)};var nf=Ra,of=nf,pf=mf;of.Collection=pf;var qf=new of({name:"children",enumerable:!0,collection:!0},{name:"parent"}),rf=new of({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),sf=new of({name:"attachers",collection:!0},{name:"host"}),tf=new of({name:"outgoing",collection:!0},{name:"source"}),uf=new of({name:"incoming",collection:!0},{name:"target"});ke(Ta,Sa),ke(Ua,Ta),ke(Va,Ta),ke(Wa,Sa);var vf={connection:Wa,shape:Ta,label:Va,root:Ua};Ya.prototype.createRoot=function(a){return this.create("root",a)},Ya.prototype.createLabel=function(a){return this.create("label",a)},Ya.prototype.createShape=function(a){return this.create("shape",a)},Ya.prototype.createConnection=function(a){return this.create("connection",a)},Ya.prototype.create=function(a,b){return b=z({},b||{}),b.id||(b.id=a+"_"+this._uid++),Xa(a,b)};var wf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},xf="__fn",yf=1e3,zf=Array.prototype.slice;Za.prototype.on=function(a,b,c,d){if(a=f(a)?a:[a],i(b)&&(d=c,c=b,b=yf),!h(b))throw new Error("priority must be a number");var e=c;d&&(e=y(c,d),e[xf]=c[xf]||c);var g=this,j={priority:b,callback:e};a.forEach(function(a){g._addListener(a,j)})},Za.prototype.once=function(a,b,c,d){function e(){return f.off(a,e),c.apply(d,arguments)}var f=this;if(i(b)&&(d=c,c=b,b=yf),!h(b))throw new Error("priority must be a number");e[xf]=c,this.on(a,b,e)},Za.prototype.off=function(a,b){a=f(a)?a:[a];var c=this;a.forEach(function(a){c._removeListener(a,b)})},Za.prototype.createEvent=function(a){var b=new $a;return b.init(a),b},Za.prototype.fire=function(a,b){var c,d,e,f;if(f=zf.call(arguments),"object"===("undefined"==typeof a?"undefined":wf(a))&&(c=a,a=c.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){c=b instanceof $a?b:this.createEvent(b),f[0]=c;var g=c.type;a!==g&&(c.type=a);try{e=this._invokeListeners(c,f,d)}finally{a!==g&&(c.type=g)}return void 0===e&&c.defaultPrevented&&(e=!1),e}},Za.prototype.handleError=function(a){return this.fire("error",{error:a})===!1},Za.prototype._destroy=function(){this._listeners={}},Za.prototype._invokeListeners=function(a,b,c){var d,e,f;for(d=0;(e=c[d])&&!a.cancelBubble;d++)f=this._invokeListener(a,b,e);return f},Za.prototype._invokeListener=function(a,b,c){var d;try{d=_a(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),d===!1&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},Za.prototype._addListener=function(a,b){var c,d,e=this._getListeners(a);for(d=0;c=e[d];d++)if(c.priority<b.priority)return void e.splice(d,0,b);e.push(b)},Za.prototype._getListeners=function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b},Za.prototype._removeListener=function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)d=c.callback,d!==b&&d[xf]!==b||f.splice(e,1);else f.length=0},$a.prototype.stopPropagation=function(){this.cancelBubble=!0},$a.prototype.preventDefault=function(){this.defaultPrevented=!0},$a.prototype.init=function(a){z(this,a||{})},fb.$inject=["eventBus","elementRegistry"],fb.prototype._getChildren=function(a){var b,c=this._elementRegistry.getGraphics(a);return a.parent?(b=bb(c),b||(b=$("g"),U(b).add("djs-children"),N(c.parentNode,b))):b=c,b},fb.prototype._clear=function(a){var b=ab(a);return F(b),b},fb.prototype._createContainer=function(a,b,c){var d=$("g");U(d).add("djs-group"),"undefined"!=typeof c?gb(d,b,b.childNodes[c]):N(b,d);var e=$("g");U(e).add("djs-element"),U(e).add("djs-"+a),N(d,e);var f=$("g");return U(f).add("djs-visual"),N(e,f),e},fb.prototype.create=function(a,b,c){var d=this._getChildren(b.parent);return this._createContainer(a,d,c)},fb.prototype.updateContainments=function(a){var b,c=this,d=this._elementRegistry;b=o(a,function(a,b){return b.parent&&(a[b.parent.id]=b.parent),a},{}),n(b,function(a){var b=a.children;if(b){var e=c._getChildren(a);n(b.slice().reverse(),function(a){var b=d.getGraphics(a);gb(b.parentNode,e)})}})},fb.prototype.drawShape=function(a,b){var c=this._eventBus;return c.fire("render.shape",{gfx:a,element:b})},fb.prototype.getShapePath=function(a){var b=this._eventBus;return b.fire("render.getShapePath",a)},fb.prototype.drawConnection=function(a,b){var c=this._eventBus;return c.fire("render.connection",{gfx:a,element:b})},fb.prototype.getConnectionPath=function(a){var b=this._eventBus;return b.fire("render.getConnectionPath",a)},fb.prototype.update=function(a,b,c){if(b.parent){var d=this._clear(c);if("shape"===a)this.drawShape(d,b),db(c,b.x,b.y);else{if("connection"!==a)throw new Error("unknown type: "+a);this.drawConnection(d,b)}b.hidden?R(c,"display","none"):R(c,"display","block")}},fb.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);W(b.parentNode)};var Af={__depends__:[ef],__init__:["canvas"],
canvas:["type",Ja],elementRegistry:["type",La],elementFactory:["type",Ya],eventBus:["type",Za],graphicsFactory:["type",fb]};jb.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},jb.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};var Bf=jb;kb.prototype.get=function(a){return this.$model.properties.get(this,a)},kb.prototype.set=function(a,b){this.$model.properties.set(this,a,b)},lb.prototype.createType=function(a){function b(a){d.define(this,"$type",{value:f,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),n(a,y(function(a,b){this.set(b,a)},this))}var c=this.model,d=this.properties,e=Object.create(kb.prototype);n(a.properties,function(a){a.isMany||void 0===a["default"]||(e[a.name]=a["default"])}),d.defineModel(e,c),d.defineDescriptor(e,a);var f=a.ns.name;return b.prototype=e,b.hasType=e.$instanceOf=this.model.hasType,d.defineModel(b,c),d.defineDescriptor(b,a),b};var Cf={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Df={String:function(a){return a},Boolean:function(a){return"true"===a},Integer:function(a){return parseInt(a,10)},Real:function(a){return parseFloat(a,10)}};qb.prototype.build=function(){return A(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},qb.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,c!==!1);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},qb.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(h===-1)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},qb.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=pb(e[0],d),g=pb(e[1],f.prefix).name,h=this.propertiesByName[g];if(!h)throw new Error("refined property <"+g+"> not found");this.replaceProperty(h,a,c),delete a.redefines},qb.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},qb.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},qb.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},qb.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},qb.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},qb.prototype.hasProperty=function(a){return this.propertiesByName[a]},qb.prototype.addTrait=function(a,b){var c=this.allTypesByName,d=this.allTypes,e=a.name;e in c||(n(a.properties,y(function(c){c=z({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this)),d.push(a),c[e]=a)},rb.prototype.getPackage=function(a){return this.packageMap[a]},rb.prototype.getPackages=function(){return this.packages},rb.prototype.registerPackage=function(a){a=z({},a);var b=this.packageMap;sb(b,a,"prefix"),sb(b,a,"uri"),n(a.types,y(function(b){this.registerType(b,a)},this)),b[a.uri]=b[a.prefix]=a,this.packages.push(a)},rb.prototype.registerType=function(a,b){a=z({},a,{superClass:(a.superClass||[]).slice(),"extends":(a["extends"]||[]).slice(),properties:(a.properties||[]).slice(),meta:z(a.meta||{})});var c=pb(a.name,b.prefix),d=c.name,e={};n(a.properties,y(function(a){var b=pb(a.name,c.prefix),d=b.name;nb(a.type)||(a.type=pb(a.type,b.prefix).name),z(a,{ns:b,name:d}),e[d]=a},this)),z(a,{ns:c,name:d,propertiesByName:e}),n(a["extends"],y(function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this)),this.definePackage(a,b),this.typeMap[d]=a},rb.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=pb(c,nb(c)?"":a.prefix);g.mapTypes(e,b,d)}var f=nb(a.name)?{name:a.name}:this.typeMap[a.name],g=this;if(!f)throw new Error("unknown type <"+a.name+">");n(f.superClass,c?d:e),b(f,!c),n(f.traits,d)},rb.prototype.getEffectiveDescriptor=function(a){var b=pb(a),c=new qb(b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},rb.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})},tb.prototype.set=function(a,b,c){var d=this.model.getPropertyDescriptor(a,b),e=d&&d.name;ub(c)?d?delete a[e]:delete a.$attrs[b]:d?e in a?a[e]=c:vb(a,d,c):a.$attrs[b]=c},tb.prototype.get=function(a,b){var c=this.model.getPropertyDescriptor(a,b);if(!c)return a.$attrs[b];var d=c.name;return!a[d]&&c.isMany&&vb(a,c,[]),a[d]},tb.prototype.define=function(a,b,c){Object.defineProperty(a,b,c)},tb.prototype.defineDescriptor=function(a,b){this.define(a,"$descriptor",{value:b})},tb.prototype.defineModel=function(a,b){this.define(a,"$model",{value:b})},wb.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},wb.prototype.getType=function(a){var b=this.typeCache,c=j(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},wb.prototype.createAny=function(a,b,c){var d=pb(a),e={$type:a,$instanceOf:function(a){return a===this.$type}},f={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,f),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),n(c,function(a,b){g(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},wb.prototype.getPackage=function(a){return this.registry.getPackage(a)},wb.prototype.getPackages=function(){return this.registry.getPackages()},wb.prototype.getElementDescriptor=function(a){return a.$descriptor},wb.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return b in c.allTypesByName},wb.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]},wb.prototype.getTypeDescriptor=function(a){return this.registry.typeMap[a]};var Ef=c(function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(b){function e(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new(Function.prototype.bind.apply(f,[null].concat(b)))}var f=function(){function a(){c(this,a);for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];this.data=[null].concat(d),this.top=this.data.length-1}return d(a,[{key:"clear",value:function(){return this.data.length=1,this.top=0,this}},{key:"empty",value:function(){return 0===this.top}},{key:"length",value:function(){return this.top}},{key:"peek",value:function(){return this.data[this.top]}},{key:"pop",value:function(){var a=void 0;return this.top>0&&(a=this.data.pop(),this.top--),a}},{key:"push",value:function(a){return this.data[++this.top]=a,this}},{key:"search",value:function(a){var b=this.data.indexOf(a);return b===-1?-1:this.data.length-b}}]),a}();a.exports=e}("undefined"!=typeof window?window:je)}),Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Gf=String.fromCharCode,Hf=Object.prototype.hasOwnProperty,If=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Jf={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(Jf).forEach(function(a){Jf[a.toUpperCase()]=Jf[a]});var Kf="http://www.w3.org/2001/XMLSchema-instance",Lf="xsi",Mf="xsi:type",Nf="non-whitespace outside of root node",Of={xsi:"http://www.w3.org/2001/XMLSchema-instance"},Pf="xsi:type";Ub.prototype.handleEnd=function(){},Ub.prototype.handleText=function(){},Ub.prototype.handleNode=function(){},Vb.prototype=Object.create(Ub.prototype),Vb.prototype.handleNode=function(){return this},Wb.prototype=Object.create(Ub.prototype),Wb.prototype.handleText=function(a){this.body=(this.body||"")+a},Xb.prototype=Object.create(Wb.prototype),Xb.prototype.handleNode=function(a){if(this.element)throw Qb("expected no sub nodes");return this.element=this.createReference(a),this},Xb.prototype.handleEnd=function(){this.element.id=this.body},Xb.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},Yb.prototype=Object.create(Wb.prototype),Yb.prototype.handleEnd=function(){var a=this.body||"",b=this.element,c=this.propertyDesc;a=mb(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},Zb.prototype=Object.create(Wb.prototype),Zb.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},$b.prototype=Object.create(Zb.prototype),$b.prototype.addReference=function(a){this.context.addReference(a)},$b.prototype.handleEnd=function(){var a=this.body,b=this.element,c=Rb(b),d=c.bodyProperty;d&&void 0!==a&&(a=mb(d.type,a),b.set(d.name,a))},$b.prototype.createElement=function(a){var b,c=a.attributes,d=this.type,e=Rb(d),f=this.context,g=new d({}),h=this.model;return n(c,function(a,c){var d,i=e.propertiesByName[c];i&&i.isReference?i.isMany?(d=a.split(" "),n(d,function(a){f.addReference({element:g,property:i.ns.name,id:a})})):f.addReference({element:g,property:i.ns.name,id:a}):(i?a=mb(i.type,a):"xmlns"!==c&&(b=pb(c,e.ns.prefix),h.getPackage(b.prefix)&&f.addWarning({message:"unknown attribute <"+c+">",element:g,property:c,value:a})),g.set(c,a))}),g},$b.prototype.getPropertyForNode=function(a){var b,c,d=a.name,e=pb(d),f=this.type,g=this.model,h=Rb(f),i=e.name,j=h.propertiesByName[i];if(j)return Kb(j)&&(b=a.attributes[Pf])?(b=Pb(b,g),c=g.getType(b),z({},j,{effectiveType:Rb(c).name})):j;var k=g.getPackage(e.prefix);if(k){if(b=Nb(e,k),c=g.getType(b),j=l(h.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return z({},j,{effectiveType:Rb(c).name})}else if(j=l(h.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return j;throw Qb("unrecognized element <"+e.name+">")},$b.prototype.toString=function(){return"ElementDescriptor["+Rb(this.type).name+"]"},$b.prototype.valueHandler=function(a,b){return new Yb(a,b)},$b.prototype.referenceHandler=function(a){return new Xb(a,this.context)},$b.prototype.handler=function(a){return"Element"===a?new ac(this.model,a,this.context):new $b(this.model,a,this.context)},$b.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,ob(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?(z(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},_b.prototype=Object.create($b.prototype),_b.prototype.createElement=function(a){var b=a.name,c=pb(b),d=this.model,e=this.type,f=d.getPackage(c.prefix),g=f&&Nb(c,f)||b;if(!e.hasType(g))throw Qb("unexpected element <"+a.originalName+">");return $b.prototype.createElement.call(this,a)},ac.prototype=Object.create(Zb.prototype),ac.prototype.createElement=function(a){var b=a.name,c=pb(b),d=c.prefix,e=a.ns[d+"$uri"],f=a.attributes;return this.model.createAny(b,e,f)},ac.prototype.handleChild=function(a){var b,c=new ac(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},ac.prototype.handleText=function(a){this.body=this.body||""+a},ac.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},bc.prototype.fromXML=function(a,b,c){function d(a,b,c){var d=b(),e=d.line,f=d.column,g=d.data;"<"===g.charAt(0)&&g.indexOf(" ")!==-1&&(g=g.slice(0,g.indexOf(" "))+">");var h="unparsable content "+(g?g+" ":"")+"detected\n\tline: "+e+"\n\tcolumn: "+f+"\n\tnested error: "+a.message;if(c)return o.addWarning({message:h,error:a}),console.warn("could not parse node"),console.warn(a),!0;throw console.error("could not parse document"),console.error(a),Qb(h)}function e(a,b){return d(a,b,!0)}function f(){var a,b,c=o.elementsById,d=o.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=Rb(e).propertiesByName[b.property];if(f||o.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var h=e.get(g.name),i=h.indexOf(b);i===-1&&(i=h.length),f?h[i]=f:h.splice(i,1)}else e.set(g.name,f)}}function g(){q.pop().handleEnd()}function h(a){if(r.test(a)){var b=s.exec(a),c=b&&b[1];c&&!t.test(c)&&o.addWarning({message:"unsupported document encoding <"+c+">, falling back to UTF-8"})}}function i(a,b){var c=q.peek();try{q.push(c.handleNode(a))}catch(e){d(e,b,n)&&q.push(new Vb)}}function j(a){q.peek().handleText(a)}function k(a){a=a.trim(),a&&q.peek().handleText(a)}var l=b.rootHandler;b instanceof $b?(l=b,b={}):"string"==typeof b?(l=this.handler(b),b={}):"string"==typeof l&&(l=this.handler(l));var m=this.model,n=this.lax,o=new Tb(z({},b,{rootHandler:l})),p=new Hb({proxy:!0}),q=new Ef;l.context=o,q.push(l);var r=/^<\?xml /i,s=/ encoding="([^"]+)"/i,t=/^utf-8$/i,u=m.getPackages().reduce(function(a,b){return a[b.uri]=b.prefix,a},{});p.ns(u).on("openTag",function(a,b,c,d){var e=a.attrs||{},f=Object.keys(e).reduce(function(a,c){var d=b(e[c]);return a[c]=d,a},{}),g={name:a.name,originalName:a.originalName,attributes:f,ns:a.ns};i(g,d)}).on("question",h).on("closeTag",g).on("cdata",j).on("text",function(a,b){k(b(a))}).on("error",d).on("warn",e),Sb(function(){var b;try{p.parse(a),f()}catch(d){b=d}var e=l.element;b||e||(b=Qb("failed to parse document as <"+l.type.$descriptor.name+">")),c(b,b?void 0:e,o)})},bc.prototype.handler=function(a){return new _b(this.model,a)};var Qf='<?xml version="1.0" encoding="UTF-8"?>\n',Rf=/<|>|'|"|&|\n\r|\n/g,Sf=/<|>|&/g,Tf={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Uf={"<":"lt",">":"gt","&":"amp"};qc.prototype.build=function(a){return this.element=a,this},qc.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},rc.prototype.serializeValue=rc.prototype.serializeTo=function(a){a.append(this.escape?nc(this.value):this.value)},rc.prototype.build=function(a,b){return this.value=b,"String"===a.type&&b.search(Sf)!==-1&&(this.escape=!0),this},fc(sc,rc),sc.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"),this.serializeValue(a),a.append("</"+this.tagName+">").appendNewLine()},tc.prototype.build=function(a){this.element=a;var b,c,d=a.$descriptor,e=this.propertyDescriptor,f=d.isGeneric;return b=f?this.parseGeneric(a):this.parseNsAttributes(a),e?this.ns=this.nsPropertyTagName(e):this.ns=this.nsTagName(d),this.tagName=this.addTagName(this.ns),f||(c=kc(a),this.parseAttributes(oc(c)),this.parseContainments(pc(c))),this.parseGenericAttributes(a,b),this},tc.prototype.nsTagName=function(a){var b=this.logNamespaceUsed(a.ns);return ic(b,a)},tc.prototype.nsPropertyTagName=function(a){var b=this.logNamespaceUsed(a.ns);return jc(b,a)},tc.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},tc.prototype.nsAttributeName=function(a){var b;if(b=j(a)?pb(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.getNamespaces().logUsed(c),this.isLocalNs(c)?{localName:b.localName}:z({localName:b.localName},c)},tc.prototype.parseGeneric=function(a){var b=this,c=this.body,d=[];return n(a,function(e,f){var g;"$body"===f?c.push((new rc).build({type:"String"},e)):"$children"===f?n(e,function(a){c.push(new tc(b).build(a))}):0!==f.indexOf("$")&&(g=b.parseNsAttribute(a,f,e),g&&d.push({name:f,value:e}))}),d},tc.prototype.parseNsAttribute=function(a,b,c){var d,e=a.$model,f=pb(b);if("xmlns"===f.prefix&&(d={prefix:f.localName,uri:c}),f.prefix||"xmlns"!==f.localName||(d={uri:c}),!d)return{name:b,value:c};if(e&&e.getPackage(c))this.logNamespace(d,!0,!0);else{var g=this.logNamespaceUsed(d,!0);this.getNamespaces().logUsed(g)}},tc.prototype.parseNsAttributes=function(a,b){var c=this,d=a.$attrs,e=[];return n(d,function(b,d){var f=c.parseNsAttribute(a,d,b);f&&e.push(f)}),e},tc.prototype.parseGenericAttributes=function(a,b){var c=this;n(b,function(b){if(b.name!==Pf)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},tc.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;n(a,function(a){var e=d.get(a.name),f=a.isReference,g=a.isMany;if(g||(e=[e]),a.isBody)c.push((new rc).build(a,e[0]));else if(ob(a.type))n(e,function(d){c.push(new sc(b.addTagName(b.nsPropertyTagName(a))).build(a,d))});else if(f)n(e,function(d){c.push(new qc(b.addTagName(b.nsPropertyTagName(a))).build(d))});else{var h=Kb(a),i=Lb(a);n(e,function(d){var e;e=h?new uc(b,a):i?new tc(b,a):new tc(b),c.push(e.build(d))})}})},tc.prototype.getNamespaces=function(a){var b,c=this.namespaces,d=this.parent;return c||(b=d&&d.getNamespaces(),a||!b?this.namespaces=c=new cc(b):c=b),c},tc.prototype.logNamespace=function(a,b,c){var d=this.getNamespaces(c),e=a.uri,f=a.prefix,g=d.byUri(e);return g||d.add(a,b),d.mapPrefix(f,e),a},tc.prototype.logNamespaceUsed=function(a,b){var c,d,e,f=this.element,g=f.$model,h=this.getNamespaces(b),i=a.prefix,j=a.uri;if(!i&&!j)return{localName:a.localName};if(e=Of[i]||g&&(g.getPackage(i)||{}).uri,j=j||e||h.uriByPrefix(i),!j)throw new Error("no namespace uri given for prefix <"+i+">");if(a=h.byUri(j),!a){for(c=i,d=1;h.uriByPrefix(c);)c=i+"_"+d++;a=this.logNamespace({prefix:c,uri:j},e===j)}return i&&h.mapPrefix(i,j),a},tc.prototype.parseAttributes=function(a){var b=this,c=this.element;n(a,function(a){var d=c.get(a.name);if(a.isReference)if(a.isMany){var e=[];n(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},tc.prototype.addTagName=function(a){var b=this.logNamespaceUsed(a);return this.getNamespaces().logUsed(b),gc(a)},tc.prototype.addAttribute=function(a,b){var c=this.attrs;j(b)&&(b=mc(b)),c.push({name:a,value:b})},tc.prototype.serializeAttributes=function(a){var b=this.attrs,c=this.namespaces;c&&(b=hc(c).concat(b)),n(b,function(b){a.append(" ").append(gc(b.name)).append('="').append(b.value).append('"')})},tc.prototype.serializeTo=function(a){var b=this.body[0],c=b&&b.constructor!==rc;a.appendIndent().append("<"+this.tagName),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),n(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+this.tagName+">")),a.appendNewLine()},fc(uc,tc),uc.prototype.parseNsAttributes=function(a){var b=tc.prototype.parseNsAttributes.call(this,a),c=a.$descriptor;if(c.name===this.propertyDescriptor.type)return b;var d=this.typeNs=this.nsTagName(c);this.getNamespaces().logUsed(this.typeNs);var e=a.$model.getPackage(d.uri),f=e.xml&&e.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Pf),(d.prefix?d.prefix+":":"")+f+c.ns.localName),b},uc.prototype.isLocalNs=function(a){return a.uri===(this.typeNs||this.ns).uri},yc.prototype=Object.create(wb.prototype),yc.prototype.fromXML=function(a,b,c,d){j(b)||(d=c,c=b,b="bpmn:Definitions"),i(c)&&(d=c,c={});var e=new bc(z({model:this,lax:!0},c)),f=e.handler(b);e.fromXML(a,f,d)},yc.prototype.toXML=function(a,b,c){i(b)&&(c=b,b={});var d,e,f=new xc(b);try{d=f.toXML(a)}catch(g){e=g}return c(e,d)};var Vf="BPMN20",Wf="http://www.omg.org/spec/BPMN/20100524/MODEL",Xf=[],Yf=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",type:"String",isAttr:!0}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",type:"LaneSet",isMany:!0,replaces:"FlowElementsContainer#laneSets"},{name:"flowElements",type:"FlowElement",isMany:!0,replaces:"FlowElementsContainer#flowElements"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection","default":"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate","default":!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,"default":"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand","default":!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference","default":!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting","default":!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean","default":!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity","default":!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean","default":!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isAttr:!0,isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"assignment",type:"Assignment",isMany:!0},{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{
name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited","default":!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRefs",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",type:"String",isBody:!0}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"isCollection","default":!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isVirtual:!0,isMany:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum","default":0,isAttr:!0,type:"Integer"},{name:"maximum","default":1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRefs",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType","default":"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["FlowElementsContainer","Collaboration"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isVirtual:!0,isMany:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation","default":!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity","default":1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity","default":1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent","default":!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential","default":!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior","default":"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore","default":!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate","default":!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances","default":!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage","default":"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage","default":"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],Zf=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],$f="bpmn",_f={tagAlias:"lowerCase",typePrefix:"t"},ag={name:Vf,uri:Wf,associations:Xf,types:Yf,enumerations:Zf,prefix:$f,xml:_f},bg="BPMNDI",cg="http://www.omg.org/spec/BPMN/20100524/DI",dg=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,"default":"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],eg=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],fg=[],gg="bpmndi",hg={name:bg,uri:cg,types:dg,enumerations:eg,associations:fg,prefix:gg},ig="DC",jg="http://www.omg.org/spec/DD/20100524/DC",kg=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],lg="dc",mg=[],ng={name:ig,uri:jg,types:kg,prefix:lg,associations:mg},og="DI",pg="http://www.omg.org/spec/DD/20100524/DI",qg=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isVirtual:!0,isMany:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isVirtual:!0,isMany:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],rg=[],sg="di",tg={tagAlias:"lowerCase"},ug={name:og,uri:pg,types:qg,associations:rg,prefix:sg,xml:tg},vg="bpmn.io colors for BPMN",wg="http://bpmn.io/schema/bpmn/biocolor/1.0",xg="bioc",yg=[{name:"ColoredShape","extends":["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge","extends":["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],zg=[],Ag=[],Bg={name:vg,uri:wg,prefix:xg,types:yg,enumerations:zg,associations:Ag},Cg={bpmn:ag,bpmndi:hg,dc:ng,di:ug,bioc:Bg},Dg=new of({name:"bpmnElement",enumerable:!0},{name:"di",configurable:!0}),Eg=c(function(a){var b=a.exports=function(a,c){if(c||(c=16),void 0===a&&(a=128),a<=0)return"0";for(var d=Math.log(Math.pow(2,a))/Math.log(c),e=2;d===1/0;e*=2)d=Math.log(Math.pow(2,a/e))/Math.log(c)*e;for(var f=d-Math.floor(d),g="",e=0;e<Math.floor(d);e++){var h=Math.floor(Math.random()*c).toString(c);g=h+g}if(f){var i=Math.pow(c,f),h=Math.floor(Math.random()*i).toString(c);g=h+g}var j=parseInt(g,c);return j!==1/0&&j>=Math.pow(2,a)?b(a,c):g};b.rack=function(a,c,d){var e=function(e){var g=0;do{if(g++>10){if(!d)throw new Error("too many ID collisions, use more bits");a+=d}var h=b(a,c)}while(Object.hasOwnProperty.call(f,h));return f[h]=e,h},f=e.hats={};return e.get=function(a){return e.hats[a]},e.set=function(a,b){return e.hats[a]=b,e},e.bits=a||128,e.base=c||16,e}}),Fg=Uc;Uc.prototype.next=function(a){return this._seed(a||!0)},Uc.prototype.nextPrefixed=function(a,b){var c;do c=a+this.next(!0);while(this.assigned(c));return this.claim(c,b),c},Uc.prototype.claim=function(a,b){this._seed.set(a,b||!0)},Uc.prototype.assigned=function(a){return this._seed.get(a)||!1},Uc.prototype.unclaim=function(a){delete this._seed.hats[a]},Uc.prototype.clear=function(){var a,b=this._seed.hats;for(a in b)this.unclaim(a)};var Gg=new Fg,Hg=10,Ig=3,Jg=.95,Kg=.35;ke(Vc,ua),Vc.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"],Vc.prototype.canRender=function(a){return Fc(a,"bpmn:BaseElement")},Vc.prototype.drawShape=function(a,b){var c=b.type,d=this.handlers[c];return d(a,b)},Vc.prototype.drawConnection=function(a,b){var c=b.type,d=this.handlers[c];return d(a,b)},Vc.prototype.getShapePath=function(a){return Fc(a,"bpmn:Event")?Qc(a):Fc(a,"bpmn:Activity")?Rc(a,Hg):Fc(a,"bpmn:Gateway")?Sc(a):Tc(a)};var Lg=0,Mg={width:150,height:50};cd.prototype.createText=function(a,b){return this.layoutText(a,b).element},cd.prototype.getDimensions=function(a,b){return this.layoutText(a,b).dimensions},cd.prototype.layoutText=function(a,b){var c=z({},this._config.size,b.box),d=z({},this._config.style,b.style),e=Wc(b.align||this._config.align),f=Xc(void 0!==b.padding?b.padding:this._config.padding),g=b.fitBox||!1,h=dd(d),i=a.split(/\r?\n/g),j=[],k=c.width-f.left-f.right,l=$("text");R(l,{x:0,y:0}),R(l,d);var m=bd();for(N(m,l);i.length;)j.push(Zc(i,k,l));"middle"===e.vertical&&(f.top=f.bottom=0);var p=o(j,function(a,b,c){return a+(h||b.height)},0)+f.top+f.bottom,q=o(j,function(a,b,c){return b.width>a?b.width:a},0),r=f.top;"middle"===e.vertical&&(r+=(c.height-p)/2),r-=(h||j[0].height)/4;var s=$("text");R(s,d),n(j,function(a){var b;switch(r+=h||a.height,e.horizontal){case"left":b=f.left;break;case"right":b=(g?q:k)-f.right-a.width;break;default:b=Math.max(((g?q:k)-a.width)/2+f.left,0)}var c=$("tspan");R(c,{x:b,y:r}),c.textContent=a.text,N(s,c)}),W(l);var t={width:q,height:p};return{dimensions:t,element:s}};var Ng=12,Og=1.2,Pg=30;ed.$inject=["config.textRenderer"];var Qg=/\{([^}]+)\}/g,Rg=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,Sg={__init__:["bpmnRenderer"],bpmnRenderer:["type",Vc],textRenderer:["type",ed],pathMap:["type",fd]},Tg={translate:["value",id]},Ug={width:90,height:20},Vg=15,Wg=Math;Wg.PI;td.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"],td.prototype.add=function(a,b){var c,d,e,f=a.di,g=this._translate;if(Fc(f,"bpmndi:BPMNPlane"))c=this._elementFactory.createRoot(qd(a)),this._canvas.setRootElement(c);else if(Fc(f,"bpmndi:BPMNShape")){var h=!Hc(a);d=b&&(b.hidden||b.collapsed);var i=a.di.bounds;c=this._elementFactory.createShape(qd(a,{collapsed:h,hidden:d,x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)})),Fc(a,"bpmn:BoundaryEvent")&&this._attachBoundary(a,c),Fc(a,"bpmn:Lane")&&(e=0),Fc(a,"bpmn:DataStoreReference")&&(ud(b,pd(i))||(b=this._canvas.getRootElement())),this._canvas.addShape(c,b,e)}else{if(!Fc(f,"bpmndi:BPMNEdge"))throw new Error(g("unknown di {di} for element {semantic}",{di:Ac(f),semantic:Ac(a)}));var j=this._getSource(a),k=this._getTarget(a);d=b&&(b.hidden||b.collapsed),c=this._elementFactory.createConnection(qd(a,{hidden:d,source:j,target:k,waypoints:rd(a.di.waypoint)})),Fc(a,"bpmn:DataAssociation")&&(b=null),Fc(a,"bpmn:SequenceFlow")&&(e=0),this._canvas.addConnection(c,b,e)}return jd(a)&&a.name&&this.addLabel(a,c),this._eventBus.fire("bpmnElement.added",{element:c}),c},td.prototype._attachBoundary=function(a,b){var c=this._translate,d=a.attachedToRef;if(!d)throw new Error(c("missing {semantic}#attachedToRef",{semantic:Ac(a)}));var e=this._elementRegistry.get(d.id),f=e&&e.attachers;if(!e)throw sd(c,a,d,"attachedToRef");b.host=e,f||(e.attachers=f=[]),f.indexOf(b)===-1&&f.push(b)},td.prototype.addLabel=function(a,b){var c,d,e;return c=nd(a,b),d=a.name,d&&(c=this._textRenderer.getExternalLabelBounds(c,d)),e=this._elementFactory.createLabel(qd(a,{id:a.id+"_label",labelTarget:b,type:"label",hidden:b.hidden||!a.name,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)})),this._canvas.addShape(e,b.parent)},td.prototype._getEnd=function(a,b){var c,d,e=a.$type,f=this._translate;if(d=a[b+"Ref"],"source"===b&&"bpmn:DataInputAssociation"===e&&(d=d&&d[0]),("source"===b&&"bpmn:DataOutputAssociation"===e||"target"===b&&"bpmn:DataInputAssociation"===e)&&(d=a.$parent),c=d&&this._getElement(d))return c;throw d?sd(f,a,d,b+"Ref"):new Error(f("{semantic}#{side} Ref not specified",{semantic:Ac(a),side:b}))},td.prototype._getSource=function(a){return this._getEnd(a,"source")},td.prototype._getTarget=function(a){return this._getEnd(a,"target")},td.prototype._getElement=function(a){return this._elementRegistry.get(a.id)};var Xg={__depends__:[Tg],bpmnImporter:["type",td]},Yg={__depends__:[Sg,Xg]},Zg=500;Bd.$inject=["eventBus","elementRegistry","styles"];var $g={__init__:["interactionEvents"],interactionEvents:["type",Bd]},_g=500;Cd.prototype.updateShapeOutline=function(a,b){R(a,{x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},Cd.prototype.updateConnectionOutline=function(a,b){var c=Da(b);R(a,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},Cd.$inject=["eventBus","styles","elementRegistry"];var ah={__init__:["outline"],outline:["type",Cd]};Dd.$inject=["eventBus"],Dd.prototype.deselect=function(a){var b=this._selectedElements,c=b.indexOf(a);if(c!==-1){var d=b.slice();b.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:b})}},Dd.prototype.get=function(){return this._selectedElements},Dd.prototype.isSelected=function(a){return this._selectedElements.indexOf(a)!==-1},Dd.prototype.select=function(a,b){var c=this._selectedElements,d=c.slice();f(a)||(a=a?[a]:[]),b?n(a,function(a){c.indexOf(a)===-1&&c.push(a)}):this._selectedElements=c=a.slice(),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:c})};var bh="hover",ch="selected";Ed.$inject=["eventBus","canvas","selection","styles"],Fd.$inject=["eventBus","selection","canvas","elementRegistry"];var dh={__init__:["selectionVisuals","selectionBehavior"],__depends__:[$g,ah],selection:["type",Dd],selectionVisuals:["type",Ed],selectionBehavior:["type",Fd]};Gd.prototype.next=function(){return this._prefix+ ++this._counter};var eh=new Gd("ov"),fh=500;Hd.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Hd.prototype.get=function(a){if(j(a)&&(a={id:a}),j(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?m(b.overlays,s({type:a.type})):b.overlays.slice():[]}return a.type?m(this._overlays,s({type:a.type})):a.id?this._overlays[a.id]:null},Hd.prototype.add=function(a,b,c){if(g(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=z({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},Hd.prototype.remove=function(a){var b=this.get(a)||[];f(b)||(b=[b]);var c=this;n(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&(K(a.html),K(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);d!==-1&&b.overlays.splice(d,1)}})},Hd.prototype.show=function(){Kd(this._overlayRoot)},Hd.prototype.hide=function(){Kd(this._overlayRoot,!1)},Hd.prototype.clear=function(){this._overlays={},this._overlayContainers=[],F(this._overlayRoot)},Hd.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,e=b.y;if(b.waypoints){var f=Da(b);d=f.x,e=f.y}Jd(c,d,e),C(a.html,"data-container-id",b.id)},Hd.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,e=b.left,f=b.top;if(void 0!==b.right){var g;g=d.waypoints?Da(d).width:d.width,e=b.right*-1+g}if(void 0!==b.bottom){var h;h=d.waypoints?Da(d).height:d.height,f=b.bottom*-1+h}Jd(c,e||0,f||0)},Hd.prototype._createOverlayContainer=function(a){var b=Ie('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);
var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},Hd.prototype._updateRoot=function(a){var b=a.scale||1,c="matrix("+[b,0,0,b,-1*a.x*b,-1*a.y*b].join(",")+")";Ld(this._overlayRoot,c)},Hd.prototype._getOverlayContainer=function(a,b){var c=l(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a)},Hd.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&f.constructor.prototype.jquery&&(f=f.get(0)),j(f)&&(f=Ie(f)),c=this._getOverlayContainer(e),b=Ie('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&D(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},Hd.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=c&&c.minZoom,f=c&&c.maxZoom,g=a.htmlContainer,h=!0;c&&((e(d)&&d>b.scale||e(f)&&f<b.scale)&&(h=!1),Kd(g,h)),this._updateOverlayScale(a,b)},Hd.prototype._updateOverlayScale=function(a,b){var c,d,f,g=a.scale,h=a.htmlContainer,i="";g!==!0&&(g===!1?(c=1,d=1):(c=g.min,d=g.max),e(c)&&b.scale<c&&(f=(1/b.scale||1)*c),e(d)&&b.scale>d&&(f=(1/b.scale||1)*d)),e(f)&&(i="scale("+f+","+f+")"),Ld(h,i)},Hd.prototype._updateOverlaysVisibilty=function(a){var b=this;n(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},Hd.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});n(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){K(e.html);var f=c._overlayContainers.indexOf(e);f!==-1&&c._overlayContainers.splice(f,1)}}),b.on("element.changed",fh,function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&(n(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&D(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)};var gh,hh={__init__:["overlays"],overlays:["type",Hd]},ih='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>',jh="data:image/svg+xml,"+encodeURIComponent(ih),kh='<img width="52" height="52" src="'+jh+'" />',lh=Md(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),mh=Md(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),nh=Md(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),oh='<div class="bjs-powered-by-lightbox" style="'+lh+'"><div class="backdrop" style="'+mh+'"></div><div class="notice" style="'+nh+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+kh+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>',ph={width:"100%",height:"100%",position:"relative"};ke(Qd,Bf),Qd.prototype.importXML=function(a,b){b=b||function(){};var c=this;a=this._emit("import.parse.start",{xml:a})||a,this._moddle.fromXML(a,"bpmn:Definitions",function(a,d,e){d=c._emit("import.parse.complete",{error:a,definitions:d,context:e})||d;var f=e.warnings;return a?(a=Od(a),c._emit("import.done",{error:a,warnings:f}),b(a,f)):void c.importDefinitions(d,function(a,d){var e=[].concat(f,d||[]);c._emit("import.done",{error:a,warnings:e}),b(a,e)})})},Qd.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this,d=this._definitions;return d?(d=this._emit("saveXML.start",{definitions:d})||d,void this._moddle.toXML(d,a,function(a,d){try{d=c._emit("saveXML.serialized",{error:a,xml:d})||d,c._emit("saveXML.done",{error:a,xml:d})}catch(e){console.error("error in saveXML life-cycle listener",e)}b(a,d)})):b(new Error("no definitions loaded"))},Qd.prototype.saveSVG=function(a,b){b||(b=a,a={}),this._emit("saveSVG.start");var c,d;try{var e=this.get("canvas"),f=e.getDefaultLayer(),g=J("defs",e._svg),h=ha(f),i=g?"<defs>"+ha(g)+"</defs>":"",j=f.getBBox();c='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with bpmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+j.width+'" height="'+j.height+'" viewBox="'+j.x+" "+j.y+" "+j.width+" "+j.height+'" version="1.1">'+i+h+"</svg>"}catch(k){d=k}this._emit("saveSVG.done",{error:d,svg:c}),b(d,c)},Qd.prototype.importDefinitions=function(a,b){try{this._definitions&&this.clear(),this._definitions=a}catch(c){return b(c)}return Ec(this,a,b)},Qd.prototype.getModules=function(){return this._modules},Qd.prototype.destroy=function(){Bf.prototype.destroy.call(this),K(this._container)},Qd.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},Qd.prototype.off=function(a,b){this.get("eventBus").off(a,b)},Qd.prototype.attachTo=function(a){if(!a)throw new Error("parentNode required");this.detach(),a.get&&a.constructor.prototype.jquery&&(a=a.get(0)),"string"==typeof a&&(a=J(a)),a.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},Qd.prototype.getDefinitions=function(){return this._definitions},Qd.prototype.detach=function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),b.removeChild(a))},Qd.prototype._init=function(a,b,c){var d=c.modules||this.getModules(),e=c.additionalModules||[],f=[{bpmnjs:["value",this],moddle:["value",b]}],g=[].concat(f,d,e),h=z(B(c,["additionalModules"]),{canvas:z({},c.canvas,{container:a}),modules:g});Bf.call(this,h),c&&c.container&&this.attachTo(c.container)},Qd.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},Qd.prototype._createContainer=function(a){var b=Ie('<div class="bjs-container"></div>');return z(b.style,{width:Pd(a.width),height:Pd(a.height),position:a.position}),b},Qd.prototype._createModdle=function(a){var b=z({},this._moddleExtensions,a.moddleExtensions);return new zc(b)},Qd.prototype._modules=[Yg,Tg,dh,hh],Qd.prototype._moddleExtensions={};var qh="keyboard.keydown",rh=1e3;Wd.$inject=["config.keyboard","eventBus"],Wd.prototype._keyHandler=function(a){var b,c=a.target;if(!Xd(c)){var d={keyEvent:a};b=this._eventBus.fire(qh,d),b&&a.preventDefault()}},Wd.prototype.bind=function(a){this.unbind(),this._node=a,De.bind(a,"keydown",this._keyHandler,!0),this._fire("bind")},Wd.prototype.getBinding=function(){return this._node},Wd.prototype.unbind=function(){var a=this._node;a&&(this._fire("unbind"),De.unbind(a,"keydown",this._keyHandler,!0)),this._node=null},Wd.prototype._fire=function(a){this._eventBus.fire("keyboard."+a,{node:this._node})},Wd.prototype.addListener=function(a,b){i(a)&&(b=a,a=rh),this._eventBus.on(qh,a,b)},Wd.prototype.hasModifier=Sd,Wd.prototype.isCmd=Td,Wd.prototype.isShift=Vd,Wd.prototype.isKey=Ud;var sh=500;Yd.$inject=["eventBus","keyboard"],Yd.prototype.registerBindings=function(a,b){function c(c,d){b.isRegistered(c)&&a.addListener(d)}c("undo",function(a){var c=a.keyEvent;if(Td(c)&&!Vd(c)&&Ud(["z","Z"],c))return b.trigger("undo"),!0}),c("redo",function(a){var c=a.keyEvent;if(Td(c)&&(Ud(["y","Y"],c)||Ud(["z","Z"],c)&&Vd(c)))return b.trigger("redo"),!0}),c("copy",function(a){var c=a.keyEvent;if(Td(c)&&Ud(["c","C"],c))return b.trigger("copy"),!0}),c("paste",function(a){var c=a.keyEvent;if(Td(c)&&Ud(["v","V"],c))return b.trigger("paste"),!0}),c("stepZoom",function(a){var c=a.keyEvent;if(Ud(["+","Add"],c)&&Td(c))return b.trigger("stepZoom",{value:1}),!0}),c("stepZoom",function(a){var c=a.keyEvent;if(Ud(["-","Subtract"],c)&&Td(c))return b.trigger("stepZoom",{value:-1}),!0}),c("zoom",function(a){var c=a.keyEvent;if(Ud("0",c)&&Td(c))return b.trigger("zoom",{value:1}),!0}),c("removeSelection",function(a){var c=a.keyEvent;if(Ud(["Delete","Del"],c))return b.trigger("removeSelection"),!0})};var th={__init__:["keyboard","keyboardBindings"],keyboard:["type",Wd],keyboardBindings:["type",Yd]},uh={moveSpeed:50,moveSpeedAccelerated:200};Zd.$inject=["config.keyboardMove","keyboard","canvas"];var vh={__depends__:[th],__init__:["keyboardMove"],keyboardMove:["type",Zd]},wh=/^djs-cursor-.*$/,xh=5e3,yh=15;ce.$inject=["eventBus","canvas"];var zh={__init__:["moveCanvas"],moveCanvas:["type",ce]},Ah=Math.sign||function(a){return a>=0?1:-1},Bh={min:.2,max:4},Ch=10,Dh=.1,Eh=.75;he.$inject=["config.zoomScroll","eventBus","canvas"],he.prototype.scroll=function(a){this._canvas.scroll(a)},he.prototype.reset=function(){this._canvas.zoom("fit-viewport")},he.prototype.zoom=function(a,b){var c=fe(Bh,2*Ch);this._totalDelta+=a,Math.abs(this._totalDelta)>Dh&&(this._zoom(a,b,c),this._totalDelta=0)},he.prototype._handleWheel=function(a){if(!xe(a.target,".djs-scrollable",!0)){var b=this._container;a.preventDefault();var c,d=a.ctrlKey,e=a.shiftKey,f=-1*this._scale;if(f*=d?0===a.deltaMode?.02:.32:0===a.deltaMode?1:16,d){var g=b.getBoundingClientRect(),h={x:a.clientX-g.left,y:a.clientY-g.top};c=Math.sqrt(Math.pow(a.deltaY,2)+Math.pow(a.deltaX,2))*Ah(a.deltaY)*f,this.zoom(c,h)}else c=e?{dx:f*a.deltaY,dy:0}:{dx:f*a.deltaX,dy:f*a.deltaY},this.scroll(c)}},he.prototype.stepZoom=function(a,b){var c=fe(Bh,Ch);this._zoom(a,b,c)},he.prototype._zoom=function(a,b,c){var d=this._canvas,e=a>0?1:-1,f=ee(d.zoom()),g=Math.round(f/c)*c;g+=c*e;var h=Math.pow(10,g);d.zoom(ge(Bh,h),b)},he.prototype.toggle=function(a){var b=this._container,c=this._handleWheel,d=this._enabled;return"undefined"==typeof a&&(a=!d),d!==a&&De[a?"bind":"unbind"](b,"wheel",c,!1),this._enabled=a,a},he.prototype._init=function(a){this.toggle(a)};var Fh={__init__:["zoomScroll"],zoomScroll:["type",he]};ke(ie,Qd),ie.prototype._navigationModules=[vh,zh,Fh],ie.prototype._modules=[].concat(ie.prototype._modules,ie.prototype._navigationModules),b.exports=ie}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],51:[function(a,b,c){(function(a){!function(d){if("object"==typeof c&&"undefined"!=typeof b)b.exports=d();else if("function"==typeof define&&define.amd)define([],d);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof a?a:"undefined"!=typeof self?self:this,e.CmmnJS=d()}}(function(){function b(a,b){return!(!a||"function"!=typeof a.$instanceOf||!a.$instanceOf(b))}function c(a,c){return b(d(a),c)}function d(a){return a&&a.businessObject?a.businessObject:a}function e(a){return a=d(a),c(a,"cmmn:Stage")&&a.$parent&&c(a.$parent,"cmmn:Case")}function f(a){var b=d(a);return c(a,"cmmn:PlanItemDefinition")||c(a,"cmmn:CaseFileItemDefinition")?b:b&&b.definitionRef}function g(a){var b=f(a);return b&&b.defaultControl}function h(a){return a=d(a),a&&a.itemControl}function i(a,b){var c=h(a),d=g(a);return c&&c[b]?c[b]:d&&d[b]}function j(a){return!!i(a,"requiredRule")}function k(a){return!!i(a,"repetitionRule")}function l(a){return!!i(a,"manualActivationRule")}function m(a){a=d(a);var b=f(a);return a.autoComplete||b&&b.autoComplete}function n(a){return a=d(a),a.planningTable||f(a)&&f(a).planningTable}function o(a){a=d(a),c(a,"cmmndi:CMMNEdge")&&a.cmmnElementRef&&(a=a.cmmnElementRef);var b=a.name;return b||a.definitionRef&&(b=a.definitionRef.name),b}function p(a){var b=d(a);return c(b,"cmmn:Sentry")?b:b&&b.sentryRef}function q(a){return a=d(a),a.cmmnElementRef&&a.cmmnElementRef.standardEvent}function r(a){return c(a,"cmmndi:CMMNEdge")&&(a=d(a).cmmnElementRef),c(a,"cmmn:OnPart")?c(a.exitCriterionRef,"cmmn:ExitCriterion")?["exit"]:s(a.sourceRef):[]}function s(a){if(a=d(a),c(a,"cmmn:CaseFileItem"))return["addChild","addReference","create","delete","removeChild","removeReference","replace","update"];if(c(a,"cmmn:PlanItem")||c(a,"cmmn:DiscretionaryItem")){var b=f(a);return c(b,"cmmn:EventListener")||c(b,"cmmn:Milestone")?["create","occur","resume","suspend","terminate"]:["complete","create","disable","enable","exit","fault","manualStart","parentResume","parentSuspend","reactivate","reenable","resume","start","suspend","terminate"]}return e(a)?["close","complete","create","fault","reactivate","suspend","terminate"]:[]}function t(a){return Array.prototype.concat.apply([],a)}function u(a){return void 0===a}function v(a){return void 0!==a}function w(a){return null==a}function x(a){return"[object Array]"===gf.call(a)}function y(a){return"[object Object]"===gf.call(a)}function z(a){return"[object Number]"===gf.call(a)}function A(a){return"[object Function]"===gf.call(a)}function B(a){return"[object String]"===gf.call(a)}function C(a){if(!x(a))throw new Error("must supply array")}function D(a,b){return hf.call(a,b)}function E(a,b){b=V(b);var c;return H(a,function(a,d){if(b(a,d))return c=a,!1}),c}function F(a,b){b=V(b);var c=x(a)?-1:void 0;return H(a,function(a,d){if(b(a,d))return c=d,!1}),c}function G(a,b){var c=[];return H(a,function(a,d){b(a,d)&&c.push(a)}),c}function H(a,b){if(!u(a)){var c=x(a)?X:W;for(var d in a)if(D(a,d)){var e=a[d],f=b(e,c(d));if(f===!1)return}}}function I(a,b){return u(a)?[]:(C(a),b=V(b),a.filter(function(a,c){return!b(a,c)}))}function J(a,b,c){return H(a,function(a,d){c=b(c,a,d)}),c}function K(a,b){return J(a,function(a,c,d){return a&&b(c,d)},!0)}function L(a,b){return!!E(a,b)}function M(a,b){var c=[];return H(a,function(a,d){c.push(b(a,d))}),c}function N(a){return a&&Object.keys(a)||[]}function O(a){return N(a).length}function P(a){return M(a,function(a){return a})}function Q(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b=U(b),H(a,function(a){var d=b(a)||"_",e=c[d];e||(e=c[d]=[]),e.push(a)}),c}function R(a){a=U(a);for(var b={},c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];H(d,function(c){return Q(c,a,b)});var f=M(b,function(a,b){return a[0]});return f}function S(a,b){b=U(b);var c=[];return H(a,function(a,d){for(var e=b(a,d),f={d:e,v:a},g=0;g<c.length;g++){var h=c[g].d;if(e<h)return void c.splice(g,0,f)}c.push(f)}),M(c,function(a){return a.v})}function T(a){return function(b){return K(a,function(a,c){return b[c]===a})}}function U(a){return A(a)?a:function(b){return b[a]}}function V(a){return A(a)?a:function(b){return b===a}}function W(a){return a}function X(a){return Number(a)}function Y(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function Z(a,b){var c;return function(){var d=kf.call(arguments);c&&clearTimeout(c),c=setTimeout(function(){a.apply(void 0,Y(d))},b)}}function $(a,b){return a.bind(b)}function _(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return lf.apply(void 0,[a].concat(c))}function aa(a,b){var c={},d=Object(a);return H(b,function(b){b in d&&(c[b]=a[b])}),c}function ba(a,b){var c={},d=Object(a);return H(d,function(a,d){b.indexOf(d)===-1&&(c[d]=a)}),c}function ca(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.length?(H(c,function(b){b&&y(b)&&H(b,function(b,c){var d=a[c];y(b)?(y(d)||(d={}),a[c]=ca(d,b)):a[c]=b})}),a):a}function da(a,b,c,d){var e=c.inverse;return Object.defineProperty(a,"remove",{value:function(a){var c=this.indexOf(a);return c!==-1&&(this.splice(c,1),b.unset(a,e,d)),a}}),Object.defineProperty(a,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(a,"add",{value:function(a,c){var f=this.indexOf(a);if("undefined"==typeof c){if(f!==-1)return;c=this.length}f!==-1&&this.splice(f,1),this.splice(c,0,a),f===-1&&b.set(a,e,d)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function ea(a){return a.__refs_collection===!0}function fa(a,b){return Object.prototype.hasOwnProperty.call(a,b.name||b)}function ga(a,b,c){var d=mf.extend(c[b.name]||[],a,b,c);Object.defineProperty(c,b.name,{enumerable:b.enumerable,value:d}),d.length&&d.forEach(function(d){a.set(d,b.inverse,c)})}function ha(a,b,c){var d=b.inverse,e=c[b.name];Object.defineProperty(c,b.name,{configurable:b.configurable,enumerable:b.enumerable,get:function(){return e},set:function(b){if(b!==e){var f=e;e=null,f&&a.unset(f,d,c),e=b,a.set(e,d,c)}}})}function ia(a,b){return this instanceof ia?(a.inverse=b,b.inverse=a,this.props={},this.props[a.name]=a,void(this.props[b.name]=b)):new ia(a,b)}function ja(a){return a&&a.__esModule?a:{"default":a}}function ka(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(a){var b=this.label,c=this.labels;!a&&b?c.remove(b):c.add(a,0)}}),sf.bind(this,"parent"),tf.bind(this,"labels"),vf.bind(this,"outgoing"),wf.bind(this,"incoming")}function la(){ka.call(this),sf.bind(this,"children"),uf.bind(this,"host"),uf.bind(this,"attachers")}function ma(){la.call(this)}function na(){la.call(this),tf.bind(this,"labelTarget")}function oa(){ka.call(this),vf.bind(this,"source"),wf.bind(this,"target")}function pa(a,b){var c=xf[a];if(!c)throw new Error("unknown type: <"+a+">");return(0,ff.assign)(new c,b)}function qa(a,b){return a===b}function ra(a,b){return qa(sa(a),sa(b))}function sa(a){return ua(Bf(a),"cmmn:Case")}function ta(a,b){var c=[];for("string"==typeof b&&(b=[b]);a;)a=a.$parent||a.parent,a&&(b?va(a,b)&&c.push(a):c.push(a));return c}function ua(a,b){for("string"==typeof b&&(b=[b]);a=a.$parent||a.parent;){if(!b)return a;if(va(a,b))return a}return null}function va(a,b){return zf(b,function(b){return Af(a,b)})}function wa(a){return a instanceof pf.Label}function xa(a,b){this._items={},this._referencedBy={},this._elementRegistry=a,this._eventBus=b,this._init()}function ya(a){return Cf(a)||Df(a)}function za(a){return Ef(a,["cmmn:PlanItemDefinition","cmmn:Sentry","cmmn:CaseFileItemDefinition"])}function Aa(a,b){var c=this;b=b||Nf,a.on(["render.shape","render.connection"],b,function(a,b){var d=a.type,e=b.element,f=b.gfx;if(c.canRender(e))return"render.shape"===d?c.drawShape(f,e):c.drawConnection(f,e)}),a.on(["render.getShapePath","render.getConnectionPath"],b,function(a,b){if(c.canRender(b))return"render.getShapePath"===a.type?c.getShapePath(b):c.getConnectionPath(b)})}function Ba(a,b){if(a.ownerDocument!==b.ownerDocument)try{return b.ownerDocument.importNode(a,!0)}catch(c){}return a}function Ca(a,b){return b.appendChild(Ba(a,b))}function Da(a,b){return Ca(b,a),a}function Ea(a,b){return Qf[b]?a.style[b]:a.getAttributeNS(null,b)}function Fa(a,b,c){var d=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=Qf[d];e?(e===Pf&&"number"==typeof c&&(c=String(c)+"px"),a.style[d]=c):a.setAttributeNS(null,b,c)}function Ga(a,b){var c,d,e=Object.keys(b);for(c=0,d;d=e[c];c++)Fa(a,d,b[d])}function Ha(a,b,c){if("string"==typeof b){if(void 0===c)return Ea(a,b);Fa(a,b,c)}else Ga(a,b);return a}function Ia(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function Ja(a){return"undefined"!=typeof a}function Ka(a){return new La(a)}function La(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function Ma(a){var b=a.parentNode;return b&&b.removeChild(a),a}function Na(a){for(var b;b=a.firstChild;)Ma(b);return a}function Oa(a){return a.cloneNode(!0)}function Pa(a){var b=!1;"<svg"===a.substring(0,4)?a.indexOf(Tf.svg)===-1&&(a=Uf+a.substring(4)):(a=Uf+">"+a+"</svg>",b=!0);var c=Qa(a);if(!b)return c;for(var d=document.createDocumentFragment(),e=c.firstChild;e.firstChild;)d.appendChild(e.firstChild);return d}function Qa(a){var b;return b=new DOMParser,b.async=!1,b.parseFromString(a,"text/xml")}function Ra(a,b){var c;return"<"===a.charAt(0)?(c=Pa(a).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(Tf.svg,a),b&&Ha(c,b),c}function Sa(a,b,c,d){a.addEventListener(b,c,d)}function Ta(a,b,c,d){a.removeEventListener(b,c,d)}function Ua(a,b){var c,d,e=Object.keys(b);for(c=0;d=e[c];c++)a[d]=b[d];return a}function Va(a,b){var c=Vf.createSVGPoint();switch(arguments.length){case 0:return c;case 2:a={x:a,y:b}}return Ua(c,a)}function Wa(a,b,c,d,e,f){var g=Vf.createSVGMatrix();switch(arguments.length){case 0:return g;case 6:a={a:a,b:b,c:c,d:d,e:e,f:f}}return Ua(g,a)}function Xa(a){return a?Vf.createSVGTransformFromMatrix(a):Vf.createSVGTransform()}function Ya(a,b){function c(a,b){return Yf[b]||b}return a.replace(b,c)}function Za(a,b){var c,d,e,f,g;switch(a.nodeType){case 3:b.push(Ya(a.textContent,Wf));break;case 1:if(b.push("<",a.tagName),a.hasAttributes())for(e=a.attributes,c=0,d=e.length;c<d;++c)f=e.item(c),b.push(" ",f.name,'="',Ya(f.value,Xf),'"');if(a.hasChildNodes()){for(b.push(">"),g=a.childNodes,c=0,d=g.length;c<d;++c)Za(g.item(c),b);b.push("</",a.tagName,">")}else b.push("/>");break;case 8:b.push("<!--",Ya(a.nodeValue,Wf),"-->");break;case 4:b.push("<![CDATA[",a.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+a.nodeType)}return b}function $a(a,b){var c=Pa(b);if(Na(a),b){ab(c)||(c=c.documentElement);for(var d=cb(c.childNodes),e=0;e<d.length;e++)Ca(d[e],a)}}function _a(a){for(var b=a.firstChild,c=[];b;)Za(b,c),b=b.nextSibling;return c.join("")}function ab(a){return"#document-fragment"===a.nodeName}function bb(a,b){if(void 0!==b){try{$a(a,b)}catch(c){throw new Error("error parsing SVG: "+c.message)}return a}return _a(a)}function cb(a){return Array.prototype.slice.call(a)}function db(a,b){return a.querySelector(b)}function eb(a,b){var c=a.querySelectorAll(b);return[].map.call(c,function(a){return a})}function fb(a,b){return b.insertBefore(Ba(a,b),b.firstChild||null)}function gb(a,b){return fb(b,a),a}function hb(a,b){return a.parentNode.replaceChild(Ba(b,a),a),b}function ib(a,b){return b instanceof SVGMatrix?a.createSVGTransformFromMatrix(b):b}function jb(a,b){var c,d;for(a.clear(),c=0;d=b[c];c++)a.appendItem(ib(a,d));a.consolidate()}function kb(a,b){var c=a.transform.baseVal;return 1===arguments.length?c.consolidate():void(b.length?jb(c,b):c.initialize(ib(c,b)))}function lb(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")}function mb(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}function nb(a,b){var c=(0,Of.create)("polyline");return(0,Of.attr)(c,{points:mb(a)}),b&&(0,Of.attr)(c,b),c}function ob(a,b){return(0,Of.attr)(a,{points:mb(b)}),a}function pb(a,b,c,d,e){var f=(0,Of.createTransform)();f.setTranslate(b,c);var g=(0,Of.createTransform)();g.setRotate(d,0,0);var h=(0,Of.createTransform)();h.setScale(e||1,e||1),(0,Of.transform)(a,[f,g,h])}function qb(a,b,c){var d=(0,Of.createTransform)();d.setTranslate(b,c),(0,Of.transform)(a,d)}function rb(a,b){var c=(0,Of.createTransform)();c.setRotate(b,0,0),(0,Of.transform)(a,c)}function sb(a,b){var c=(0,Of.createTransform)();c.setScale(b,b),(0,Of.transform)(a,c)}function tb(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function ub(a){return(0,ff.isObject)(a)?(0,ff.assign)({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function vb(a,b){b.textContent=a;var c;try{var d,e=""===a;return b.textContent=e?"dummy":a,c=b.getBBox(),d={width:c.width+2*c.x,height:c.height},e&&(d.width=0),d}catch(f){return{width:0,height:0}}}function wb(a,b,c){for(var d,e=a.shift(),f=e;;){if(d=vb(f,c),d.width=f?d.width:0," "===f||""===f||d.width<Math.round(b)||f.length<2)return xb(a,f,e,d);f=zb(f,d.width,b)}}function xb(a,b,c,d){if(b.length<c.length){var e=c.slice(b.length).trim();a.unshift(e)}return{width:d.width,height:d.height,text:b}}function yb(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function zb(a,b,c){var d=Math.max(a.length*(c/b),1),e=yb(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function Ab(){var a=document.getElementById("helper-svg");return a||(a=(0,Of.create)("svg"),(0,Of.attr)(a,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(a)),a}function Bb(a){this._config=(0,ff.assign)({},{size:bg,padding:ag,style:{},align:"center-top"},a||{})}function Cb(a){if("fontSize"in a&&"lineHeight"in a)return a.lineHeight*parseInt(a.fontSize,10)}function Db(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}function Eb(a){return new Fb(a)}function Fb(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function Gb(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}function Hb(a,b){if(jg)return jg.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}function Ib(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=yg[d]||yg._default,g=f[0],h=f[1],i=f[2],e=b.createElement("div");for(e.innerHTML=h+a+i;g--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var j=b.createDocumentFragment();e.firstChild;)j.appendChild(e.removeChild(e.firstChild));return j}function Jb(a,b){if(!a||1!==a.nodeType)return!1;if(Ag)return Ag.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;d++)if(c[d]==a)return!0;return!1}function Kb(a,b){return b=b||document,b.querySelector(a)}function Lb(a,b){return b=b||document,b.querySelectorAll(a)}function Mb(a){a.parentNode&&a.parentNode.removeChild(a)}function Nb(a,b,c){function d(a,b){H[a]=b}function e(a){return H[a]}function f(a){function b(b,c){var e=Eg({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},c.attrs),f=c.ref||{x:0,y:0},g=c.scale||1;"none"===e.strokeDasharray&&(e.strokeDasharray=[1e4,1]);var h=Zg("marker");Xg(c.element,e),Wg(h,c.element),Xg(h,{id:b,viewBox:"0 0 20 20",refX:f.x,refY:f.y,markerWidth:20*g,markerHeight:20*g,orient:"auto"});var i=Vg("defs",a);return i||(i=Zg("defs"),Wg(a,i)),Wg(i,h),d(b,h)}var c=Zg("path");Xg(c,{d:"M 11 5 L 1 10 L 11 15"}),b("association-start",{element:c,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var e=Zg("path");Xg(e,{d:"M 1 5 L 11 10 L 1 15"}),b("association-end",{element:e,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5})}function g(a,c,d){return Cg(c)||(d=c,c=[]),b.style(c||[],Eg(d,a||{}))}function h(a,b,c,d,e){Dg(d)&&(e=d,d=0),d=d||0,e=g(e,{stroke:"black",strokeWidth:2,fill:"white"});var f=b/2,h=c/2,i=Zg("circle");return Xg(i,{cx:f,cy:h,r:Math.round((b+c)/4-d)}),Xg(i,e),Wg(a,i),i}function i(a,b,c,d,e,f){Dg(e)&&(f=e,e=0),e=e||0,f=g(f,{stroke:"black",strokeWidth:2,fill:"white"});var h=Zg("rect");return Xg(h,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),Xg(h,f),Wg(a,h),h}function j(a,b,c,d){var e=b/2,f=c/2,h=[{x:e,y:0},{x:b,y:f},{x:e,y:c},{x:0,y:f}],i=h.map(function(a){return a.x+","+a.y}).join(" ");d=g(d,{stroke:"black",strokeWidth:2,fill:"white"});var j=Zg("polygon");return Xg(j,{points:i}),Xg(j,d),Wg(a,j),j}function k(a,b,c){c=g(c,["no-fill"],{strokeWidth:2,stroke:"black"});var d=Zg("path");return Xg(d,{d:b}),Xg(d,c),Wg(a,d),d}function l(a,b,c,d,e){d=d||20;var f=d,g=c,h=0,i=c-d,j=0,k=d,l=d,n=0,o=b-d,p=0,q=b,r=d,s=b,t=c-d,u=b-d,v=c,w=[{x:f,y:g},{x:h,y:i},{x:j,y:k},{x:l,y:n},{x:o,y:p},{x:q,y:r},{x:s,y:t},{x:u,y:v}];return e=e||{},e.fill="white",e.stroke="black",e.strokeWidth=2,m(a,w,e)}function m(a,b,c){var d=b.map(function(a){return a.x+","+a.y}).join(" "),e=Zg("polygon");return Xg(e,{points:d}),Xg(e,c),Wg(a,e),e}function n(a,b,c){c=g(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var d=_g(b,c);return Wg(a,d),d}function o(a){for(var b=a.waypoints,c="m  "+b[0].x+","+b[0].y,d=1;d<b.length;d++)c+="L"+b[d].x+","+b[d].y+" ";return c}function p(a,b,c){var d=G.createText(b||"",c);return Yg(d).add("djs-label"),Wg(a,d),d}function q(a,b,c){var d=Sg(b);return p(a,d,{box:b,align:c,padding:5})}function r(a,b,c){var d=Sg(b),e=p(a,d,{box:b,align:c,padding:5});return $g(e,E,0),e}function s(a,b){var c=Lg(b),d=18,e=b.width/2-60,f=c.name,g=p(a,f,{box:{height:d,width:e},align:"left-top"}),h=60,i=40,j=g.getBBox().width,k=j+i;j<h&&(k=h+i);var l=[{x:10,y:0},{x:20,y:-d},{x:k,y:-d},{x:k+10,y:0}],n=m(a,l,{fill:"white",stroke:"black",strokeWidth:2,fillOpacity:.95,"pointer-events":"all"});return g.parentNode.insertBefore(n,g),$g(g,25,-d+5),g}function t(a,b){var c=Sg(b),d=!1,e=Ug(b);if(e){var f=Hg(b);e="["+e+"]",c?f&&(c=c+" "+e):(c=e,b.hidden=d=!f)}var g={width:90,height:30,x:b.width/2+b.x,y:b.height/2+b.y};return b.hidden=b.labelTarget.hidden||d||!c,p(a,c,{box:g,style:{fontSize:"11px"}})}function u(a){return I[a]}function v(a,b){var c=Lg(b),d=6,e=[];Ng(c)&&e.push({marker:"RequiredMarker",width:1}),Pg(c)&&e.push({marker:"ManualActivationMarker",width:14}),Og(c)&&e.push({marker:"RepetitionMarker",width:14}),e.length&&(1===e.length?z(e[0].marker,a,b,e[0].width/2*-1):2===e.length?(z(e[0].marker,a,b,e[0].width*-1-d/2),z(e[1].marker,a,b,d/2)):3===e.length&&(z(e[1].marker,a,b,e[1].width/2*-1),z(e[0].marker,a,b,e[1].width/2*-1-d-e[0].width),z(e[2].marker,a,b,e[1].width/2+d)))}function w(a,b){var c=Lg(b);Qg(c)&&z("AutoCompleteMarker",a,b,-7)}function x(a,b,c){var d=Lg(b),e=6;z("StageMarker",a,b,-7);var f=[];Ng(d)&&f.push({marker:"RequiredMarker",width:1}),Qg(d)&&f.push({marker:"AutoCompleteMarker",width:14}),f.length&&(1===f.length?z(f[0].marker,a,b,f[0].width*-1-7-e):2===f.length&&(z(f[0].marker,a,b,f[1].width*-1-7-e-f[0].width*-1-e),z(f[1].marker,a,b,f[1].width*-1-7-e)));var g=[];Pg(d)&&g.push({marker:"ManualActivationMarker",width:14}),Og(d)&&g.push({marker:"RepetitionMarker",width:14}),g.length&&(1===g.length?z(g[0].marker,a,b,7+e):2===g.length&&(z(g[0].marker,a,b,7+e),z(g[1].marker,a,b,7+e+g[0].width+e)))}function y(a,b){Rg(b)&&z("PlanningTableMarker",a,b)}function z(a,b,c,d){u(a)(b,c,d)}function A(a,b){var c=I[b.type];return c?c(a,b):Fg.prototype.drawShape.apply(this,[a,b])}function B(a,b){var c=b.type,d=I[c];return d?d(a,b):Fg.prototype.drawConnection.apply(this,[a,b])}Fg.call(this,a);var C=10,D=24,E=20,F={fontFamily:"Arial, sans-serif",fontSize:"12px"},G=new Gg({style:F,size:{width:100}}),H={},I={"cmmn:PlanItem":function(a,b){var c=Mg(b);return u(c.$type)(a,b)},"cmmn:DiscretionaryItem":function(a,b){var c=Mg(b),d={strokeDasharray:"10, 12"};return Tg(c,"cmmn:Task")&&Eg(d,{strokeDasharray:"12, 12.4",strokeDashoffset:13.6}),u(c.$type)(a,b,d)},"cmmn:Stage":function(a,b,c){c=Eg({fillOpacity:.95},c);var d;return Kg(b)?I["cmmn:CasePlanModel"](a,b):(d=l(a,b.width,b.height,E,c),Jg(b)?q(a,b,"center-middle"):r(a,b,"left-top"),y(a,b),x(a,b),d)},"cmmn:PlanFragment":function(a,b,c){var d=i(a,b.width,b.height,C,{strokeDasharray:"10, 12",fillOpacity:.95});return q(a,b,Jg(b)?"center-middle":"left-top"),x(a,b),d},"cmmn:CasePlanModel":function(a,b){var c=i(a,b.width,b.height,0,{fillOpacity:.95});return s(a,b),y(a,b),w(a,b),c},"cmmn:Milestone":function(a,b,c){var d=i(a,b.width,b.height,D,c);return q(a,b,"center-middle"),v(a,b),d},"cmmn:EventListener":function(a,b,c){var d=h(a,b.width,b.height,c);return c=c||{},c.strokeWidth=2,h(a,b.width,b.height,.1*b.height,c),d},"cmmn:TimerEventListener":function(a,b,d){
var e=u("cmmn:EventListener")(a,b,d),f=c.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}});k(a,f,{strokeWidth:2,strokeLinecap:"square"});for(var g=0;g<12;g++){var h=c.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:b.width,containerHeight:b.height,position:{mx:.5,my:.5}}),i=b.width/2,j=b.height/2;k(a,h,{strokeWidth:1,strokeLinecap:"square",transform:"rotate("+30*g+","+j+","+i+")"})}return e},"cmmn:UserEventListener":function(a,b,d){var e=u("cmmn:EventListener")(a,b,d),f=20,g=15,h=c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:f,y:g}});k(a,h,{strokeWidth:.5,fill:"none"});var i=c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:f,y:g}});k(a,i,{strokeWidth:.5,fill:"none"});var j=c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:f,y:g}});return k(a,j,{strokeWidth:.5,fill:"black"}),e},"cmmn:Task":function(a,b,c){var d=i(a,b.width,b.height,C,c);return q(a,b,"center-middle"),v(a,b),d},"cmmn:HumanTask":function(a,b,d){var e=u("cmmn:Task")(a,b,d),f=b.businessObject,g=f.definitionRef;if(g.isBlocking){var h=15,i=12,j=c.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:h,y:i}});k(a,j,{strokeWidth:.5,fill:"none"});var l=c.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:h,y:i}});k(a,l,{strokeWidth:.5,fill:"none"});var m=c.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:h,y:i}});k(a,m,{strokeWidth:.5,fill:"black"})}else{var n=c.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});k(a,n,{strokeWidth:1.25,fill:"white",stroke:"black"})}return y(a,b),e},"cmmn:CaseTask":function(a,b,d){var e=u("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_FOLDER",{abspos:{x:7,y:7}});return k(a,f,{strokeWidth:1.25,fill:"white",stroke:"black"}),e},"cmmn:ProcessTask":function(a,b,d){var e=u("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_CHEVRON",{abspos:{x:5,y:5}});return k(a,f,{strokeWidth:1.25,fill:"white",stroke:"black"}),e},"cmmn:DecisionTask":function(a,b,d){var e=u("cmmn:Task")(a,b,d),f=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}});k(a,f,{strokeWidth:1,fill:"000"});var g=c.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}});return k(a,g,{strokeWidth:1}),e},"cmmn:CaseFileItem":function(a,b,d){var e=c.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:.474,my:.296}});return k(a,e,{fill:"white"})},"cmmn:TextAnnotation":function(a,b){var d={fill:"none",stroke:"none"},e=i(a,b.width,b.height,0,0,d),f=c.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:0,my:0}});k(a,f);var g=Lg(b).text||"";return p(a,g,{box:b,align:"left-middle",padding:5}),e},"cmmn:Association":function(a,b,c){var d=Lg(b);return c=Eg({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round"},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=e("association-end")),"Both"===d.associationDirection&&(c.markerStart=e("association-start")),n(a,b.waypoints,c)},StageMarker:function(a,b){var d=i(a,14,14,0,{strokeWidth:1,stroke:"black"});$g(d,b.width/2-7,b.height-17);var e=Jg(b)?"MARKER_STAGE_COLLAPSED":"MARKER_STAGE_EXPANDED",f=c.getScaledPath(e,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-7)/b.width,my:(b.height-17)/b.height}});k(a,f)},RequiredMarker:function(a,b,d){var e=c.getScaledPath("MARKER_REQUIRED",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});k(a,e,{strokeWidth:3})},AutoCompleteMarker:function(a,b,c){var d=i(a,11,14,0,{strokeWidth:1,stroke:"black",fill:"black"});$g(d,b.width/2+c+2,b.height-17)},ManualActivationMarker:function(a,b,d){var e=c.getScaledPath("MARKER_MANUAL_ACTIVATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});k(a,e,{strokeWidth:1})},RepetitionMarker:function(a,b,d){var e=c.getScaledPath("MARKER_REPEATABLE",{xScaleFactor:1,yScaleFactor:1,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2+d)/b.width,my:(b.height-17)/b.height}});k(a,e)},PlanningTableMarker:function(a,b,d){var e=i(a,30,24,0,{strokeWidth:1.5,stroke:"black"});$g(e,b.width/2-15,-17);var f=Ig(b),g=f?"MARKER_PLANNING_TABLE_COLLAPSED":"MARKER_PLANNING_TABLE_EXPANDED",h=c.getScaledPath(g,{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:b.width,containerHeight:b.height,position:{mx:(b.width/2-15)/b.width,my:-17/b.height}});k(a,h,{strokeWidth:1.5})},"cmmn:OnPart":function(a,b){var c=o(b),d=k(a,c,{strokeDasharray:"10, 5, 2, 5, 2, 5",strokeWidth:1.5});return d},"cmmn:PlanItemOnPart":function(a,b){return u("cmmn:OnPart")(a,b)},"cmmn:CaseFileItemOnPart":function(a,b){return u("cmmn:OnPart")(a,b)},"cmmn:EntryCriterion":function(a,b){return j(a,b.width,b.height,{fill:"white"})},"cmmn:ExitCriterion":function(a,b){return j(a,b.width,b.height,{fill:"black"})},"cmmndi:CMMNEdge":function(a,b){var c=Lg(b);if(c.cmmnElementRef)return u(c.cmmnElementRef.$type)(a,b);var d=o(b),e=k(a,d,{strokeDasharray:"3, 5",strokeWidth:1});return e},label:function(a,b){var c,d=t(a,b);try{c=d.getBBox()}catch(e){c={width:0,height:0,x:0}}return b.x=Math.ceil(b.x+b.width/2)-Math.ceil(c.width/2),b.width=Math.ceil(c.width),b.height=Math.ceil(c.height),Xg(d,{transform:"translate("+-1*c.x+",0)"}),d}};this.canRender=function(a){return Tg(a,"cmmn:CMMNElement")||Tg(a,"cmmndi:CMMNEdge")},this.drawShape=A,this.drawConnection=B,a.on("canvas.init",function(a){f(a.svg)})}function Ob(){var a="m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5",b="m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005",c="m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z";this.pathMap={TASK_TYPE_FOLDER:{d:"m {mx},{my} l18,0 l0,12 l-18,0 l0,-12 m 2,0 l3,-4 l5,0 l3,4"},TASK_TYPE_CHEVRON:{d:"m {mx},{my} l15,0 l6,6 l-6,6 l-15,0 l6,-6 l-6,-6"},TASK_TYPE_USER_1:{d:a},TASK_TYPE_USER_2:{d:b},TASK_TYPE_USER_3:{d:c},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_USER_1:{d:a,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_2:{d:b,height:36,width:36,heightElements:[],widthElements:[]},EVENT_USER_3:{d:c,height:36,width:36,heightElements:[],widthElements:[]},MARKER_STAGE_EXPANDED:{d:"m{mx},{my} m 2,7 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_STAGE_COLLAPSED:{d:"m{mx},{my} m 2,7 l 10,0 m -5,-5 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_REQUIRED:{d:"m{mx},{my} l 0,9 m 0,2 l0,3",height:14,width:3,heightElements:[],widthElements:[]},MARKER_MANUAL_ACTIVATION:{d:"m{mx}, {my} l 14,7 l -14,7 l 0,-14 z",height:14,width:14,heightElements:[],widthElements:[]},MARKER_REPEATABLE:{d:"m{mx},{my} m 3,0 l 0,14 m 6,-14 l 0,14 m -10,-10 l 14,0 m -14,6 l 14,0",height:14,width:14,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_EXPANDED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0",height:24,width:30,heightElements:[],widthElements:[]},MARKER_PLANNING_TABLE_COLLAPSED:{d:"m{mx},{my} m 0,12 l 30,0 m -20,-12 l 0, 24 m 10, -24 l 0, 24 m -10, -6 l 10,0 m -5, -6 l 0,12",height:10,width:10,heightElements:[],widthElements:[]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var f={};if(b.position){for(var g=b.containerHeight/e.height*b.yScaleFactor,h=b.containerWidth/e.width*b.xScaleFactor,i=0;i<e.heightElements.length;i++)f["y"+i]=e.heightElements[i]*g;for(var j=0;j<e.widthElements.length;j++)f["x"+j]=e.widthElements[j]*h}var k=Qb(e.d,{mx:c,my:d,e:f});return k}}function Pb(a,b,c){var d=c;return b.replace(dh,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function Qb(a,b){return String(a).replace(ch,function(a,c){return Pb(a,c,b)})}function Rb(a,b){return nh({id:a.id,type:a.$type,businessObject:a},b)}function Sb(a){return oh(a,function(a){return{x:a.x,y:a.y}})}function Tb(a,b,c){return new Error("element "+th(b)+" referenced by "+th(a)+"#"+c+" not yet drawn")}function Ub(a,b,c,d){this._eventBus=a,this._canvas=b,this._elementFactory=c,this._elementRegistry=d}function Vb(a,b){if(!a||!b)return-1;var c=a.indexOf(b);return c!==-1&&a.splice(c,1),c}function Wb(a,b,c){if(a&&b){"number"!=typeof c&&(c=-1);var d=a.indexOf(b);if(d!==-1){if(d===c)return;if(c===-1)return;a.splice(d,1)}c!==-1?a.splice(c,0,b):a.push(b)}}function Xb(a,b){return a&&b?a.indexOf(b):-1}function Yb(a){function b(a){return!!N[a.id]}function c(a){N[a.id]=a}function d(a){for(;a&&!Bh(a,"cmmn:Case");)a=a.$parent;return a}function e(b,c){return a.element(b,c)}function f(b,c){return a.root(b,c)}function g(b,c){try{return a.addItem(b),b.di&&e(b,c)}catch(d){h(d.message,{element:b,error:d}),console.error("failed to import "+Ah(b)),console.error(d)}}function h(b,c){a.error(b,c)}function i(a,b){return function(c){a(c,b)}}function j(a){var b=a.cmmnElementRef;if(b&&!Bh(a,"cmmndi:CMMNEdge"))if(b.di)h("multiple DI elements defined for "+Ah(b),{element:b});else{var c=d(b);c&&M.indexOf(c)===-1&&M.push(c),(Bh(b,"cmmn:TextAnnotation")||Bh(b,"cmmn:CaseFileItem"))&&O.push(b),Ch.bind(b,"di"),b.di=a}else if(Bh(a,"cmmndi:CMMNEdge")){var e=!0;if(k(a)||(e=!1,h("no target referenced in "+Ah(a),{element:a})),l(a)||(e=!1,h("no source referenced in "+Ah(a),{element:a})),e)if(Bh(b,"cmmn:Association"))P.push(a);else if(b)K.push(function(b){m(a,b)});else{var f=a.sourceCMMNElementRef;L[f.id]=L[f.id]||[],L[f.id].push(a)}}else h("no cmmnElement referenced in "+Ah(a),{element:a})}function k(a){return Bh(a.cmmnElementRef,"cmmn:Association")?!!a.cmmnElementRef.targetRef:!!a.targetCMMNElementRef}function l(a){return Bh(a.cmmnElementRef,"cmmn:OnPart")?!(!a.cmmnElementRef.exitCriterionRef&&!a.cmmnElementRef.sourceRef):Bh(a.cmmnElementRef,"cmmn:Association")?!!a.cmmnElementRef.sourceRef:!!a.sourceCMMNElementRef}function m(a,b){e(a,b)}function n(a){o(a.diagramElements)}function o(a){yh(a,p)}function p(a){j(a)}function q(a,b){var c=a.CMMNDI;if(c){var d=c.diagrams;if(b&&d.indexOf(b)===-1)throw new Error("diagram not part of cmmn:Definitions");!b&&d&&d.length&&(b=d[0]),n(b);var e=f(b,b);r(M,e),yh(O,i(D)),yh(P,i(G))}}function r(a,b){yh(a,function(a){s(a,b),J=[],K=[]})}function s(a,b){var c,d=a.casePlanModel;d&&(c=t(d,b)),u(J),yh(K,function(a){a(c)})}function t(a,b){var c=g(a,b);return yh(a.exitCriteria,i(B,c)),v(a,c),C(a,c),c}function u(a){yh(a,function(a){a()})}function v(a,b){z(a.planItems,b),Bh(a,"cmmn:Stage")&&w(a,b)}function w(a,b){x(a.planningTable,b)}function x(a,b){a&&yh(a.tableItems,function(a){Bh(a,"cmmn:DiscretionaryItem")?y(a,b):Bh(a,"cmmn:PlanningTable")&&x(a,b)})}function y(a,d){b(a)||(c(a),A(a,d))}function z(a,b){yh(a,i(A,b))}function A(a,b){var c=g(a,b);yh(a.exitCriteria,i(B,b)),yh(a.entryCriteria,i(B,b));var d=a.definitionRef;if(Bh(d,"cmmn:PlanFragment"))v(d,c),C(a,c);else if(Bh(d,"cmmn:HumanTask")){x(d.planningTable,b);var e=L[a.id];yh(e,i(H,b)),delete L[a.id]}}function B(a,b){J.unshift(function(){g(a,b)})}function C(a,b){if(a.di&&a.di.bounds){var c=I(O,a);yh(c,function(a){xh.remove(O,a),D(a,b)})}}function D(a,b){Bh(a,"cmmn:TextAnnotation")?F(a,b):Bh(a,"cmmn:CaseFileItem")&&E(a,b)}function E(a,b){g(a,b)}function F(a,b){g(a,b)}function G(a,b){e(a,b)}function H(a,b){J.push(function(){e(a,b)})}function I(a,b){var c=b.di.bounds;return zh(a,function(a){return a.di.bounds.x>c.x&&a.di.bounds.x<c.x+c.width&&a.di.bounds.y>c.y&&a.di.bounds.y<c.y+c.height})}var J=[],K=[],L={},M=[],N={},O=[],P=[];return{handleDefinitions:q}}function Zb(a,b,c){function d(a){var b={root:function(a){return f.root(a)},element:function(a,b){return f.add(a,b)},error:function(a,b){i.push({message:a,context:b})},addItem:function(a){h.add(a)}},c=new Dh(b);c.handleDefinitions(a)}var e,f=a.get("cmmnImporter"),g=a.get("eventBus"),h=a.get("itemRegistry"),i=[];g.fire("import.render.start",{definitions:b});try{d(b)}catch(j){e=j}g.fire("import.render.complete",{error:e,warnings:i}),c(e,i)}function $b(a){return a.join(";")}function _b(){Fh||(Fh=Hh(Ph),Ih.bind(Fh,".backdrop","click",function(a){document.body.removeChild(Fh)})),document.body.appendChild(Fh)}function ac(a){return a.xml&&"lowerCase"===a.xml.tagAlias}function bc(a){return a.xml&&a.xml.serialize}function cc(a){return bc(a)===Rh}function dc(a){return"property"===bc(a)}function ec(){}function fc(a){return a&&a.__esModule?a:{"default":a}}function gc(a,b){this.model=a,this.properties=b}function hc(a,b){var c,d,e=a.split(/:/);if(1===e.length)c=a,d=b;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+a);c=e[1],d=e[0]}return a=(d?d+":":"")+c,{name:a,prefix:d,localName:c}}function ic(a){this.model=a}function jc(a){return"undefined"==typeof a}function kc(a,b,c){Object.defineProperty(a,b.name,{enumerable:!b.isReference,writable:!0,value:c,configurable:!0})}function lc(a){this.ns=a,this.name=a.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function mc(a,b){var c=$h[a];return c?c(b):b}function nc(a){return!!Zh[a]}function oc(a){return!!$h[a]}function pc(a){return a&&a.__esModule?a:{"default":a}}function qc(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,(0,ff.forEach)(a,(0,ff.bind)(this.registerPackage,this))}function rc(a,b,c){var d=b[c];if(d in a)throw new Error("package with "+c+" <"+d+"> already defined")}function sc(a){return a&&a.__esModule?a:{"default":a}}function tc(a){this.properties=new ei["default"](this),this.factory=new ci["default"](this,this.properties),this.registry=new di["default"](a,this.properties),this.typeCache={}}function uc(a){return a&&a.__esModule?a:{"default":a}}function vc(a,b,c,d){return d?ji.call(li,d)?li[d]:"&"+d+";":ii(b?b:parseInt(c,16))}function wc(a){return a.length>3&&a.indexOf("&")!==-1?a.replace(ki,vc):a}function xc(a){return new Error(a)}function yc(a){return"missing namespace for prefix <"+a+">"}function zc(a){return{get:a,enumerable:!0}}function Ac(a){var b,c={};for(b in a)c[b]=a[b];return c}function Bc(a){return a+"$uri"}function Cc(a){var b,c,d={};for(b in a)c=a[b],d[c]=c,d[Bc(c)]=b;return d}function Dc(){return{line:0,column:0}}function Ec(a){throw a}function Fc(a){function b(a){a instanceof Error||(a=xc(a)),s=a,o(a,p)}function c(a){i&&(a instanceof Error||(a=xc(a)),i(a,p))}function d(a){function d(){if(null!==B)return B;var a,b,d,e,f,g,h,i,j,k,l,n=r&&D.xmlns,o=r&&q?[]:null,p=L,s=K,t=s.length,u={},v={};a:for(;p<t;p++)if(j=!1,k=s.charCodeAt(p),!(32===k||k<14&&k>8)){for((k<65||k>122||k>90&&k<97)&&95!==k&&58!==k&&(c("illegal first char attribute name"),j=!0),l=p+1;l<t;l++)if(k=s.charCodeAt(l),!(k>96&&k<123||k>64&&k<91||k>47&&k<59||46===k||45===k||95===k)){if(32===k||k<14&&k>8){c("missing attribute value"),p=l;continue a}if(61===k)break;c("illegal attribute name char"),j=!0}if(i=s.substring(p,l),"xmlns:xmlns"===i&&(c("illegal declaration of xmlns"),j=!0),k=s.charCodeAt(l+1),34===k)l=s.indexOf('"',p=l+2),l===-1&&(l=s.indexOf("'",p),l!==-1&&(c("attribute value quote missmatch"),j=!0));else if(39===k)l=s.indexOf("'",p=l+2),l===-1&&(l=s.indexOf('"',p),l!==-1&&(c("attribute value quote missmatch"),j=!0));else for(c("missing attribute value quotes"),j=!0,l+=1;l<t&&(k=s.charCodeAt(l+1),!(32===k||k<14&&k>8));l++);for(l===-1&&(c("missing closing quotes"),l=t,j=!0),j||(g=s.substring(p,l)),p=l;l+1<t&&(k=s.charCodeAt(l+1),!(32===k||k<14&&k>8));l++)p===l&&(c("illegal character after attribute end"),j=!0);if(p=l+1,!j)if(i in v)c("attribute <"+i+"> already defined");else if(v[i]=!0,r)if(q){if(f="xmlns"===i?"xmlns":120===i.charCodeAt(0)&&"xmlns:"===i.substr(0,6)?i.substr(6):null,null!==f){if(a=wc(g),b=Bc(f),h=m[a],!h){if("xmlns"===f||b in D&&D[b]!==a){do h="ns"+F++;while("undefined"!=typeof D[h])}else h=f;m[a]=h}D[f]!==h&&(e||(D=Ac(D),e=!0),D[f]=h,"xmlns"===f&&(D[Bc(h)]=a,n=h),D[b]=a),u[i]=g;continue}o.push(i,g)}else k=i.indexOf(":"),k!==-1?(d=D[i.substring(0,k)])?(i=n===d?i.substr(k+1):d+i.substr(k),i===oi&&(k=g.indexOf(":"),k!==-1?(d=g.substring(0,k),d=D[d]||d,g=d+g.substring(k)):g=n+":"+g),u[i]=g):c(yc(i.substring(0,k))):u[i]=g;else u[i]=g}if(q)for(p=0,t=o.length;p<t;p++){if(i=o[p++],g=o[p],k=i.indexOf(":"),k!==-1){if(!(d=D[i.substring(0,k)])){c(yc(i.substring(0,k)));continue}i=n===d?i.substr(k+1):d+i.substr(k),i===oi&&(k=g.indexOf(":"),k!==-1?(d=g.substring(0,k),d=D[d]||d,g=d+g.substring(k)):g=n+":"+g)}u[i]=g}return B=u}function i(){for(var b,c,d=/(\r\n|\r|\n)/g,e=0,f=0,g=0,h=J;I>=g&&(b=d.exec(a))&&(h=b[0].length+b.index,!(h>I));)e+=1,g=h;return I==-1?(f=h,c=a.substring(J)):0===J?(console.log(I-g),c=a.substring(J,I)):(f=I-g,c=J==-1?a.substring(I):a.substring(I,J+1)),{data:c,line:e,column:f}}var o,s,u,v,w,x,y,z,A,B,C=r?[]:null,D=r?Cc(m):null,E=[],F=0,G=!1,H=!1,I=0,J=0,K="",L=0;for(p=i,n&&(A=Object.create({},{name:zc(function(){return y}),originalName:zc(function(){return z}),attrs:zc(d),ns:zc(function(){return D})}));J!==-1;){if(I=60===a.charCodeAt(J)?J:a.indexOf("<",J),I===-1)return E.length?b("unexpected end of file"):0===J?b("missing start tag"):void(J<a.length&&a.substring(J).trim()&&c(pi));if(J!==I)if(E.length){if(e&&(e(a.substring(J,I),wc,p),t))return}else if(a.substring(J,I).trim()&&(c(pi),t))return;if(w=a.charCodeAt(I+1),33!==w)if(63!==w){if(J=a.indexOf(">",I+1),J==-1)return b("unclosed tag");if(B={},47===w){if(G=!1,H=!0,!E.length)return b("missing open tag");if(s=y=E.pop(),v=I+2+s.length,a.substring(I+2,v)!==s)return b("closing tag mismatch");for(;v<J;v++)if(w=a.charCodeAt(v),!(32===w||w>8&&w<14))return b("close tag")}else{if(47===a.charCodeAt(J-1)?(s=y=a.substring(I+1,J-1),G=!0,H=!0):(s=y=a.substring(I+1,J),G=!0,H=!1),!(w>96&&w<123||w>64&&w<91||95===w||58===w))return b("illegal first char nodeName");for(v=1,u=s.length;v<u;v++)if(w=s.charCodeAt(v),!(w>96&&w<123||w>64&&w<91||w>47&&w<59||45===w||95===w||46==w)){if(32===w||w<14&&w>8){y=s.substring(0,v),B=null;break}return b("invalid nodeName")}H||E.push(y)}if(r){if(o=D,G&&(H||C.push(o),null===B&&(q=s.indexOf("xmlns",v)!==-1)&&(L=v,K=s,d(),q=!1)),z=y,w=y.indexOf(":"),w!==-1){if(x=D[y.substring(0,w)],!x)return b("missing namespace on <"+z+">");y=y.substr(w+1)}else x=D.xmlns;x&&(y=x+":"+y)}if(G&&(L=v,K=s,f&&(n?f(A,wc,H,p):f(y,d,wc,H,p),t)))return;if(H){if(g&&(g(n?A:y,wc,G,p),t))return;r&&(D=G?o:C.pop())}J+=1}else{if(J=a.indexOf("?>",I),J===-1)return b("unclosed question");if(k&&(k(a.substring(I,J+2),p),t))return;J+=2}else{if(w=a.charCodeAt(I+2),91===w&&"CDATA["===a.substr(I+3,6)){if(J=a.indexOf("]]>",I),J===-1)return b("unclosed cdata");if(h&&(h(a.substring(I+9,J),p),t))return;J+=3;continue}if(45===w&&45===a.charCodeAt(I+3)){if(J=a.indexOf("-->",I),J===-1)return b("unclosed comment");if(j&&(j(a.substring(I+4,J),wc,p),t))return;J+=3;continue}if(J=a.indexOf(">",I+1),J===-1)return b("unclosed tag");if(l&&(l(a.substring(I,J+1),wc,p),t))return;J+=1}}}if(!this)return new Fc(a);var e,f,g,h,i,j,k,l,m,n=a&&a.proxy,o=Ec,p=Dc,q=!1,r=!1,s=null,t=!1;this.on=function(a,b){if("function"!=typeof b)throw xc("required args <name, cb>");switch(a){case"openTag":f=b;break;case"text":e=b;break;case"closeTag":g=b;break;case"error":o=b;break;case"warn":i=b;break;case"cdata":h=b;break;case"attention":l=b;break;case"question":k=b;break;case"comment":j=b;break;default:throw xc("unsupported event: "+a)}return this},this.ns=function(a){if("undefined"==typeof a&&(a={}),"object"!==("undefined"==typeof a?"undefined":hi(a)))throw xc("required args <nsMap={}>");var b,c={};for(b in a)c[b]=a[b];return c[mi]=ni,r=!0,m=c,this},this.parse=function(a){if("string"!=typeof a)throw xc("required args <xml=string>");return s=null,d(a),p=Dc,t=!1,s},this.stop=function(){t=!0}}function Gc(a){return a&&a.__esModule?a:{"default":a}}function Hc(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Ic(a,b){return(0,Qh.hasLowerCaseAlias)(b)?a.prefix+":"+Hc(a.localName):a.name}function Jc(a,b){var c=a.name,d=a.localName,e=b.xml&&b.xml.typePrefix;return e&&0===d.indexOf(e)?a.prefix+":"+d.slice(e.length):c}function Kc(a,b){var c=(0,Vh.parseName)(a),d=b.getPackage(c.prefix);return Jc(c,d)}function Lc(a){return new Error(a)}function Mc(a){return a.$descriptor}function Nc(a){setTimeout(a,0)}function Oc(a){(0,ff.assign)(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw Lc("expected element");var b,c=this.elementsById,d=Mc(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(c[b])throw Lc("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function Pc(){}function Qc(){}function Rc(){}function Sc(a,b){this.property=a,this.context=b}function Tc(a,b){this.element=b,this.propertyDesc=a}function Uc(){}function Vc(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function Wc(a,b,c){Vc.call(this,a,b,c)}function Xc(a,b,c){this.model=a,this.context=c}function Yc(a){a instanceof ti["default"]&&(a={model:a}),(0,ff.assign)(this,{lax:!1},a)}function Zc(a){var b={},c={},d={},e=[],f=[];this.byUri=function(b){return c[b]||a&&a.byUri(b)},this.add=function(a,b){c[a.uri]=a,b?e.push(a):f.push(a),this.mapPrefix(a.prefix,a.uri)},this.uriByPrefix=function(a){return b[a||"xmlns"]},this.mapPrefix=function(a,c){b[a||"xmlns"]=c},this.logUsed=function(a){var b=a.uri;d[b]=this.byUri(b)},this.getUsed=function(a){function b(a){return d[a.uri]}var c=[].concat(e,f);return c.filter(b)}}function $c(a){return a.charAt(0).toLowerCase()+a.slice(1)}function _c(a,b){return(0,Qh.hasLowerCaseAlias)(b)?$c(a):a}function ad(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}function bd(a){return(0,ff.isString)(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function cd(a){return(0,ff.map)(a.getUsed(),function(a){var b="xmlns"+(a.prefix?":"+a.prefix:"");return{name:b,value:a.uri}})}function dd(a,b){return b.isGeneric?(0,ff.assign)({localName:b.ns.localName},a):(0,ff.assign)({localName:_c(b.ns.localName,b.$pkg)},a)}function ed(a,b){return(0,ff.assign)({localName:b.ns.localName},a)}function fd(a){var b=a.$descriptor;return(0,ff.filter)(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d!==b["default"]&&(null!==d&&(!b.isMany||d.length))})}function gd(a,b,c){return a=(0,ff.isString)(a)?a:""+a,a.replace(b,function(a){return"&"+c[a]+";"})}function hd(a){return gd(a,wi,yi)}function id(a){return gd(a,xi,zi)}function jd(a){return(0,ff.filter)(a,function(a){return a.isAttr})}function kd(a){return(0,ff.filter)(a,function(a){return!a.isAttr})}function ld(a){this.tagName=a}function md(){}function nd(a){this.tagName=a}function od(a,b){this.body=[],this.attrs=[],this.parent=a,this.propertyDescriptor=b}function pd(a,b){od.call(this,a,b)}function qd(){this.value="",this.write=function(a){this.value+=a}}function rd(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function sd(a){function b(b,c){var d=c||new qd,e=new rd(d,a.format);if(a.preamble&&e.append(vi),(new od).build(b).serializeTo(e),!c)return d.value}return a=(0,ff.assign)({format:!1,preamble:!0},a||{}),{toXML:b}}function td(a){return a&&a.__esModule?a:{"default":a}}function ud(a,b){Ci["default"].call(this,a,b)}function vd(a){return a&&a.__esModule?a:{"default":a}}function wd(a){return a&&a.__esModule?a:{"default":a}}function xd(a,b,c){var d=!c||a.indexOf(b)===-1;return d&&a.push(b),d}function yd(a,b,c){c=c||0,(0,ff.isArray)(a)||(a=[a]),(0,ff.forEach)(a,function(a,d){var e=b(a,d,c);(0,ff.isArray)(e)&&e.length&&yd(e,b,c+1)})}function zd(a,b,c){var d=[],e=[];return yd(a,function(a,f,g){xd(d,a,b);var h=a.children;if((c===-1||g<c)&&h&&xd(e,h,b))return h}),d}function Ad(a,b){return zd(a,!b,1)}function Bd(a,b){return zd(a,!b,-1)}function Cd(a,b,c){function d(a){j[a.source.id]&&j[a.target.id]&&(j[a.id]=[a]),f[a.source.id]&&f[a.target.id]&&(i[a.id]=h[a.id]=a),g[a.id]=a}function e(a){return h[a.id]=a,a.waypoints?void(i[a.id]=g[a.id]=a):(f[a.id]=a,(0,ff.forEach)(a.incoming,d),(0,ff.forEach)(a.outgoing,d),a.children)}(0,ff.isUndefined)(b)&&(b=!0),(0,ff.isObject)(b)&&(c=b,b=!0),c=c||{};var f=Gd(c.allShapes),g=Gd(c.allConnections),h=Gd(c.enclosedElements),i=Gd(c.enclosedConnections),j=Gd(c.topLevel,b&&(0,ff.groupBy)(a,function(a){return a.id}));return yd(a,e),{allShapes:f,allConnections:g,topLevel:j,enclosedConnections:i,enclosedElements:h}}function Dd(a,b){b=!!b,(0,ff.isArray)(a)||(a=[a]);var c,d,e,f;return(0,ff.forEach)(a,function(a){var g=a;a.waypoints&&!b&&(g=Dd(a.waypoints,!0));var h=g.x,i=g.y,j=g.height||0,k=g.width||0;(h<c||void 0===c)&&(c=h),(i<d||void 0===d)&&(d=i),(h+k>e||void 0===e)&&(e=h+k),(i+j>f||void 0===f)&&(f=i+j)}),{x:c,y:d,height:f-d,width:e-c}}function Ed(a,b){var c={};return(0,ff.forEach)(a,function(a){var d=a;d.waypoints&&(d=Dd(d)),!(0,ff.isNumber)(b.y)&&d.x>b.x&&(c[a.id]=a),!(0,ff.isNumber)(b.x)&&d.y>b.y&&(c[a.id]=a),d.x>b.x&&d.y>b.y&&((0,ff.isNumber)(b.width)&&(0,ff.isNumber)(b.height)&&d.width+d.x<b.width+b.x&&d.height+d.y<b.height+b.y?c[a.id]=a:(0,ff.isNumber)(b.width)&&(0,ff.isNumber)(b.height)||(c[a.id]=a))}),c}function Fd(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}function Gd(a,b){return(0,ff.assign)({},a||{},b||{})}function Hd(a,b){return Math.round(a*b)/b}function Id(a){return(0,ff.isNumber)(a)?a+"px":a}function Jd(a){a=(0,ff.assign)({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","djs-container"),(0,ff.assign)(c.style,{position:"relative",overflow:"hidden",width:Id(a.width),height:Id(a.height)}),b.appendChild(c),c}function Kd(a,b,c){var d=(0,Of.create)("g");(0,Of.classes)(d).add(b);var e=void 0!==c?c:a.childNodes.length-1;return a.insertBefore(d,a.childNodes[e]||null),d}function Ld(a,b,c,d){this._eventBus=b,this._elementRegistry=d,this._graphicsFactory=c,this._init(a||{})}function Md(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}function Nd(){this._uid=12}function Od(a){this._elements={},this._eventBus=a}function Pd(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function Qd(){}function Rd(a,b){return a.apply(null,b)}function Sd(a){return(0,cg.query)(".djs-visual",a)}function Td(a){return a.parentNode.childNodes[1]}function Ud(a,b){this._eventBus=a,this._elementRegistry=b}function Vd(a,b,c){b.insertBefore(a,c||b.firstChild)}function Wd(a){return a&&a.__esModule?a:{"default":a}}function Xd(a,b){ej["default"].call(this,a,fj),this.CONNECTION_STYLE=b.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=b.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}function Yd(){var a={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},b=this;this.cls=function(a,b,c){var d=this.style(b,c);return(0,ff.assign)(d,{"class":a})},this.style=function(b,c){(0,ff.isArray)(b)||c||(c=b,b=[]);var d=(0,ff.reduce)(b,function(b,c){return(0,ff.assign)(b,a[c]||{})},{});return c?(0,ff.assign)(d,c):d},this.computeStyle=function(a,c,d){return(0,ff.isArray)(c)||(d=c,c=[]),b.style(c||[],(0,ff.assign)({},d,a||{}))}}function Zd(a){return a&&a.__esModule?a:{"default":a}}function $d(a){return a&&a.__esModule?a:{"default":a}}function _d(a){return tj.test(a.toString())}function ae(a){return"[object Array]"===Object.prototype.toString.call(a)}function be(){var a=Array.prototype.slice.call(arguments);1===a.length&&ae(a[0])&&(a=a[0]);var b=a.pop();return b.$inject=a,b}function ce(a){if("function"!=typeof a)throw new Error('Cannot annotate "'+a+'". Expected a function!');var b=a.toString().match(_d(a)?uj:vj);return b?b[1]&&b[1].split(",").map(function(a){return b=a.match(wj),b?b[1].trim():a.trim()})||[]:[]}function de(){var a=[];this.factory=function(b,c){return a.push([b,"factory",c]),this},this.value=function(b,c){return a.push([b,"value",c]),this},this.type=function(b,c){return a.push([b,"type",c]),this},this.forEach=function(b){a.forEach(b)}}function ee(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function fe(a,b){b=b||{get:function(a,b){if(c.push(a),b===!1)return null;throw g('No provider for "'+a+'"!')}};var c=[],d=this._providers=Object.create(b._providers||null),e=this._instances=Object.create(null),f=e.injector=this,g=function(a){var b=c.join(" -> ");return c.length=0,new Error(b?a+" (Resolving: "+b+")":a)},h=function o(a,f){if(!d[a]&&a.indexOf(".")!==-1){for(var h=a.split("."),i=o(h.shift());h.length;)i=i[h.shift()];return i}if(ge(e,a))return e[a];if(ge(d,a)){if(c.indexOf(a)!==-1)throw c.push(a),g("Cannot resolve circular dependency!");return c.push(a),e[a]=d[a][0](d[a][1]),c.pop(),e[a]}return b.get(a,f)},i=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof a){if(!ae(a))throw new Error('Cannot invoke "'+a+'". Expected a function!');a=be(a.slice())}var c=a.$inject||ce(a),d=c.map(function(a){return ge(b,a)?b[a]:h(a)});return{fn:a,dependencies:d}},j=function(a){var b=i(a),c=b.dependencies,d=b.fn;return new(Function.prototype.bind.apply(d,[null].concat(ee(c))))},k=function(a,b,c){var d=i(a,c),e=d.dependencies,f=d.fn;return f.call.apply(f,[b].concat(ee(e)))},l=function(a){return be(function(b){return a.get(b)})},m=function(a,b){
if(b&&b.length){var c,e,g,h,i=Object.create(null),j=Object.create(null),k=[],m=[],n=[];for(var o in d)c=d[o],b.indexOf(o)!==-1&&("private"===c[2]?(e=k.indexOf(c[3]),e===-1?(g=c[3].createChild([],b),h=l(g),k.push(c[3]),m.push(g),n.push(h),i[o]=[h,o,"private",g]):i[o]=[n[e],o,"private",m[e]]):i[o]=[c[2],c[1]],j[o]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||b.forEach(function(a){c[1].$scope.indexOf(a)!==-1&&(i[o]=[c[2],c[1]],j[a]=!0)});b.forEach(function(a){if(!j[a])throw new Error('No provider for "'+a+'". Cannot use provider from the parent!')}),a.unshift(i)}return new fe(a,f)},n={factory:k,type:j,value:function(a){return a}};a.forEach(function(a){function b(a,b){return"value"!==a&&ae(b)&&(b=be(b.slice())),b}if(a instanceof de)a.forEach(function(a){var c=a[0],e=a[1],f=a[2];d[c]=[n[e],b(e,f),e]});else if("object"===("undefined"==typeof a?"undefined":xj(a)))if(a.__exports__){var c=Object.keys(a).reduce(function(b,c){return"__"!==c.substring(0,2)&&(b[c]=a[c]),b},Object.create(null)),e=new fe((a.__modules__||[]).concat([c]),f),g=be(function(a){return e.get(a)});a.__exports__.forEach(function(a){d[a]=[g,a,"private",e]})}else Object.keys(a).forEach(function(c){if("private"===a[c][2])return void(d[c]=a[c]);var e=a[c][0],f=a[c][1];d[c]=[n[e],b(e,f),e]})}),this.get=h,this.invoke=k,this.instantiate=j,this.createChild=m}function ge(a,b){return Object.hasOwnProperty.call(a,b)}function he(a){return a&&a.__esModule?a:{"default":a}}function ie(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new rj.Injector(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function je(a){a=a||{};var b={config:["value",a]},c=[b,zj["default"]].concat(a.modules||[]);return ie(c)}function ke(a,b){this.injector=b=b||je(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("diagram.init")}function le(a){this._counter=0,this._prefix=(a?a+"-":"")+Math.floor(1e9*Math.random())+"-"}function me(a){return a&&a.__esModule?a:{"default":a}}function ne(a){var b=(0,cg.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function oe(a,b,c){(0,ff.assign)(a.style,{left:b+"px",top:c+"px"})}function pe(a,b){a.style.display=b===!1?"none":""}function qe(a,b){a.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(c){a.style[c+"transform"]=b})}function re(a){return"undefined"!=typeof a}function se(a,b,c,d){this._eventBus=b,this._canvas=c,this._elementRegistry=d,this._ids=Ej,this._overlayDefaults=(0,ff.assign)({show:null,scale:!0},a&&a.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=ne(c.getContainer()),this._init()}function te(a){return a&&a.__esModule?a:{"default":a}}function ue(a){a&&"function"==typeof a.stopPropagation&&a.stopPropagation()}function ve(a){return a.originalEvent||a.srcEvent}function we(a,b){ue(a,b),ue(ve(a),b)}function xe(a){return a.pointers&&a.pointers.length&&(a=a.pointers[0]),a.touches&&a.touches.length&&(a=a.touches[0]),a?{x:a.clientX,y:a.clientY}:null}function ye(){return/mac/i.test(navigator.platform)}function ze(a){return!((0,Ij.getOriginal)(a)||a).button}function Ae(a){var b=(0,Ij.getOriginal)(a)||a;return!!ze(a)&&((0,Jj.isMac)()?b.metaKey:b.ctrlKey)}function Be(a){var b=(0,Ij.getOriginal)(a)||a;return ze(a)&&b.shiftKey}function Ce(a){return!0}function De(a,b,c){function d(c,d,e){if(!f(c,d)){var g,h,i;e?h=b.getGraphics(e):(g=d.delegateTarget||d.target,g&&(h=g,e=b.get(h))),h&&e&&(i=a.fire(c,{element:e,gfx:h,originalEvent:d}),i===!1&&(d.stopPropagation(),d.preventDefault()))}}function e(a){return m[a]}function f(a,b){var c=o[a]||Kj.isPrimaryButton;return!c(b)}function g(a,b,c){var e=n[a];if(!e)throw new Error("unmapped DOM event name <"+a+">");return d(e,b,c)}function h(a,b,c,e){var f=m[c]=function(a){d(c,a)};e&&(o[c]=e),f.$delegate=cg.delegate.bind(a,p,b,f)}function i(a,b,c){var d=e(c);d&&cg.delegate.unbind(a,b,d.$delegate)}function j(a){(0,ff.forEach)(n,function(b,c){h(a,c,b)})}function k(a){(0,ff.forEach)(n,function(b,c){i(a,c,b)})}var l=c.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),m={},n={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},o={"element.contextmenu":Ce},p="svg, .djs-element";a.on("canvas.destroy",function(a){k(a.svg)}),a.on("canvas.init",function(a){j(a.svg)}),a.on(["shape.added","connection.added"],function(a){var b,c=a.element,d=a.gfx;c.waypoints?b=(0,Zf.createLine)(c.waypoints):(b=(0,Of.create)("rect"),(0,Of.attr)(b,{x:0,y:0,width:c.width,height:c.height})),(0,Of.attr)(b,l),(0,Of.append)(d,b)}),a.on("shape.changed",Mj,function(a){var b=a.element,c=a.gfx,d=(0,cg.query)(".djs-hit",c);(0,Of.attr)(d,{width:b.width,height:b.height})}),a.on("connection.changed",function(a){var b=a.element,c=a.gfx,d=(0,cg.query)(".djs-hit",c);(0,Zf.updateLine)(d,b.waypoints)}),this.fire=d,this.triggerMouseEvent=g,this.mouseHandler=e,this.registerEvent=h,this.unregisterEvent=i}function Ee(a){return a&&a.__esModule?a:{"default":a}}function Fe(a,b,c){function d(a,b){var c=(0,Of.create)("rect");return(0,Of.attr)(c,(0,ff.assign)({x:10,y:10,width:100,height:100},e)),(0,Of.append)(a,c),c}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),f=this;a.on(["shape.added","shape.changed"],Qj,function(a){var b=a.element,c=a.gfx,e=(0,cg.query)(".djs-outline",c);e||(e=d(c,b)),f.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=(0,cg.query)(".djs-outline",c);e||(e=d(c,b)),f.updateConnectionOutline(e,b)})}function Ge(a){return a&&a.__esModule?a:{"default":a}}function He(a){this._eventBus=a,this._selectedElements=[];var b=this;a.on(["shape.remove","connection.remove"],function(a){var c=a.element;b.deselect(c)}),a.on(["diagram.clear"],function(a){b.select(null)})}function Ie(a,b,c,d){a.on("create.end",500,function(a){a.context.canExecute&&b.select(a.context.shape)}),a.on("connect.end",500,function(a){a.context.canExecute&&a.context.target&&b.select(a.context.target)}),a.on("shape.move.end",500,function(a){var c=a.previousSelection||[],e=d.get(a.context.shape.id),f=(0,ff.find)(c,function(a){return e.id===a.id});f||b.select(e)}),a.on("element.click",function(a){var d=a.element;d===c.getRootElement()&&(d=null);var e=b.isSelected(d),f=b.get().length>1,g=(0,Kj.hasPrimaryModifier)(a);return e&&f?g?b.deselect(d):b.select(d):void(e?b.deselect(d):b.select(d,g))})}function Je(a,b,c,d){function e(a,c){b.addMarker(a,c)}function f(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){e(a.element,Wj)}),a.on("element.out",function(a){f(a.element,Wj)}),a.on("selection.changed",function(a){function b(a){f(a,Xj)}function c(a){e(a,Xj)}var d=a.oldSelection,g=a.newSelection;(0,ff.forEach)(d,function(a){g.indexOf(a)===-1&&b(a)}),(0,ff.forEach)(g,function(a){d.indexOf(a)===-1&&c(a)})})}function Ke(a){return a&&a.__esModule?a:{"default":a}}function Le(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid CMMN 1.1 diagram file"+c[2]),a}function Me(a){return a+(ek(a)?"px":"")}function Ne(a){a=ck({},lk,a),this._moddle=this._createModdle(a),this._container=this._createContainer(a),Oe(this._container),this._init(this._container,this._moddle,a)}function Oe(a){var b=Gh.BPMNIO_IMG,c='<a href="http://bpmn.io" target="_blank" class="cjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+b+"</a>",d=fk(c);a.appendChild(d),nk.bind(d,"click",function(a){Gh.open(),a.preventDefault()})}function Pe(a,b){function c(){return!1}return b=b||"element.click",a.once(b,pk,c),function(){a.off(b,c)}}function Qe(a){var b=(0,cg.classes)(document.body);b.removeMatching(rk),a&&b.add("djs-cursor-"+a)}function Re(){Qe(null)}function Se(a){var b=(0,cg.classes)(document.body);return b.has("djs-cursor-"+a)}function Te(a){return{x:a.x+a.width/2,y:a.y+a.height/2}}function Ue(a,b){return{x:a.x-b.x,y:a.y-b.y}}function Ve(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function We(a,b){function c(c){var d=f.start,e=(0,Ij.toPoint)(c),g=(0,sk.delta)(e,d);if(!f.dragging&&Ve(g)>uk&&(f.dragging=!0,(0,ok.install)(a),(0,qk.set)("grab")),f.dragging){var h=f.last||f.start;g=(0,sk.delta)(e,h),b.scroll({dx:g.x,dy:g.y}),f.last=e}c.preventDefault()}function d(a){cg.event.unbind(document,"mousemove",c),cg.event.unbind(document,"mouseup",d),f=null,(0,qk.unset)()}function e(a){if(!(0,cg.closest)(a.target,".djs-draggable")&&!(a.button||a.ctrlKey||a.shiftKey||a.altKey))return f={start:(0,Ij.toPoint)(a)},cg.event.bind(document,"mousemove",c),cg.event.bind(document,"mouseup",d),!0}var f;a.on("element.mousedown",500,function(a){return e(a.originalEvent)})}function Xe(a){return a&&a.__esModule?a:{"default":a}}function Ye(a){return Math.log(a)/Math.log(10)}function Ze(a,b){var c=(0,xk.log10)(a.min),d=(0,xk.log10)(a.max),e=Math.abs(c)+Math.abs(d);return e/b}function $e(a,b){return Math.max(a.min,Math.min(a.max,b))}function _e(a,b,c){a=a||{},this._enabled=!1,this._canvas=c,this._container=c._container,this._handleWheel=(0,ff.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=a.scale||Ek;var d=this;b.on("canvas.init",function(b){d._init(a.enabled!==!1)})}function af(a){return a&&a.__esModule?a:{"default":a}}function bf(a){mk.call(this,a)}var cf,df={};df.is=c,df.getBusinessObject=d,df.isCasePlanModel=e,df.getDefinition=f,df.getDefaultControl=g,df.getItemControl=h,df.isRequired=j,df.isRepeatable=k,df.isManualActivation=l,df.isAutoComplete=m,df.hasPlanningTable=n,df.getName=o,df.getSentry=p,df.getStandardEvent=q,df.getStandardEvents=r,df.getTransitions=s;var ef={};ef="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a};var ff={};Object.defineProperty(ff,"__esModule",{value:!0});var gf=Object.prototype.toString,hf=Object.prototype.hasOwnProperty,jf=R,kf=Array.prototype.slice,lf=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};ff.flatten=t,ff.find=E,ff.findIndex=F,ff.filter=G,ff.forEach=H,ff.without=I,ff.reduce=J,ff.every=K,ff.some=L,ff.map=M,ff.keys=N,ff.size=O,ff.values=P,ff.groupBy=Q,ff.uniqueBy=R,ff.unionBy=jf,ff.sortBy=S,ff.matchPattern=T,ff.debounce=Z,ff.bind=$,ff.isUndefined=u,ff.isDefined=v,ff.isNil=w,ff.isArray=x,ff.isObject=y,ff.isNumber=z,ff.isFunction=A,ff.isString=B,ff.ensureArray=C,ff.has=D,ff.assign=_,ff.pick=aa,ff.omit=ba,ff.merge=ca;var mf={};mf.extend=da,mf.isExtended=ea,ia.prototype.bind=function(a,b){if("string"==typeof b){if(!this.props[b])throw new Error("no property <"+b+"> in ref");b=this.props[b]}b.collection?ga(this,b,a):ha(this,b,a)},ia.prototype.ensureRefsCollection=function(a,b){var c=a[b.name];return mf.isExtended(c)||ga(this,b,a),c},ia.prototype.ensureBound=function(a,b){fa(a,b)||this.bind(a,b)},ia.prototype.unset=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).remove(c):a[b.name]=void 0)},ia.prototype.set=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).add(c):a[b.name]=c)};var nf=ia,of={};of=nf,of.Collection=mf;var pf={};Object.defineProperty(pf,"__esModule",{value:!0}),pf.Base=ka,pf.Shape=la,pf.Root=ma,pf.Label=na,pf.Connection=oa,pf.create=pa;var qf=ja(ef),rf=ja(of),sf=new rf["default"]({name:"children",enumerable:!0,collection:!0},{name:"parent"}),tf=new rf["default"]({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),uf=new rf["default"]({name:"attachers",collection:!0},{name:"host"}),vf=new rf["default"]({name:"outgoing",collection:!0},{name:"source"}),wf=new rf["default"]({name:"incoming",collection:!0},{name:"target"});(0,qf["default"])(la,ka),(0,qf["default"])(ma,la),(0,qf["default"])(na,la),(0,qf["default"])(oa,ka);var xf={connection:oa,shape:la,label:na,root:ma},yf={},zf=ff.some,Af=df.is,Bf=df.getBusinessObject;yf.isSame=qa,yf.isSameCase=ra,yf.getCase=sa,yf.getParents=ta,yf.getParent=ua,yf.isAny=va,yf.isLabel=wa;var Cf=df.getDefinition,Df=df.getSentry,Ef=yf.isAny,Ff=ff.forEach,Gf=ff.isArray;xa.$inject=["elementRegistry","eventBus"];var Hf=xa;xa.prototype._init=function(a){var b=this._eventBus;b.on("diagram.destroy",500,this._clear,this),b.on("diagram.clear",500,this._clear,this)},xa.prototype._clear=function(){this._items={},this._referencedBy={}},xa.prototype.add=function(a){var b=this._items,c=a.id,d=this._referencedBy,e=ya(a),f=e&&e.id;b[c]=a,e&&(d[f]=d[f]||[],d[f].indexOf(a)===-1&&d[f].push(a))},xa.prototype.remove=function(a){var b=this._items,c=a.id,d=this._referencedBy,e=ya(a),f=e&&e.id;if(delete b[c],e){var g=d[f]||[],h=g.indexOf(a);h!==-1&&g.splice(h,1),g.length||delete d[f]}},xa.prototype.updateId=function(a,b){var c,d;"string"==typeof a&&(a=this.get(a)),c=za(a)?this._referencedBy:this._items,a&&(d=c[a.id],delete c[a.id],c[b]=d)},xa.prototype.updateReference=function(a,b){var c=this._referencedBy,d=ya(a),e=d&&d.id;if(d){var f=c[e]||[],g=f.indexOf(a);g!==-1&&f.splice(g,1),f.length||delete c[e]}if(b){var h=b.id;h&&(c[h]=c[h]||[],c[h].indexOf(a)===-1&&c[h].push(a))}},xa.prototype.get=function(a){return this._items[a]},xa.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},xa.prototype.getAll=function(){return this.filter(function(a){return a})},xa.prototype.forEach=function(a){var b=this._items;Ff(b,function(b){return a(b,ya(b))})},xa.prototype.getReferences=function(a){var b=a.id||a;return(this._referencedBy[b]||[]).slice()},xa.prototype.getShape=function(a){var b=a.id||a;return this._elementRegistry&&this._elementRegistry.get(b)},xa.prototype.getShapes=function(a){function b(a){a&&c.push(a)}var c=[],d=this;if(Gf(a))Ff(a,function(a){b(d.getShape(a))});else if(za(a)){var e=d.getReferences(a);Ff(e,function(a){b(d.getShape(a))})}else b(d.getShape(a));return c};var If={},Jf=df.is,Kf=df.getBusinessObject,Lf=df.isCasePlanModel;If.isCollapsed=function(a){if(!Lf(a)){a=Kf(a);var b=a.definitionRef;if(Jf(b,"cmmn:PlanFragment"))return!!(a&&a.di&&a.di.isCollapsed)}return!1},If.isPlanningTableCollapsed=function(a){return a=Kf(a),!!(Jf(a,"cmmn:Stage")||a.definitionRef&&(Jf(a.definitionRef,"cmmn:Stage")||Jf(a.definitionRef,"cmmn:HumanTask")))&&(a.di&&a.di.isPlanningTableCollapsed)},If.isStandardEventVisible=function(a){a=Kf(a);var b=a.cmmnElementRef;return!(!Jf(b,"cmmn:OnPart")||!a.isStandardEventVisible)};var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0}),Mf["default"]=Aa;var Nf=1e3;Aa.prototype.canRender=function(){},Aa.prototype.drawShape=function(){},Aa.prototype.drawConnection=function(){},Aa.prototype.getShapePath=function(){},Aa.prototype.getConnectionPath=function(){};var Of={};Object.defineProperty(Of,"__esModule",{value:!0});var Pf=2,Qf={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Pf,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Pf,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1},Rf=/\s+/,Sf=Object.prototype.toString;La.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=Ia(b,a);return~c||b.push(a),Ja(this.el.className.baseVal)?this.el.className.baseVal=b.join(" "):this.el.className=b.join(" "),this},La.prototype.remove=function(a){if("[object RegExp]"===Sf.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=Ia(b,a);return~c&&b.splice(c,1),this.el.className.baseVal=b.join(" "),this},La.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},La.prototype.toggle=function(a,b){return this.list?(Ja(b)?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(Ja(b)?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},La.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(Rf);return""===c[0]&&c.shift(),c},La.prototype.has=La.prototype.contains=function(a){return this.list?this.list.contains(a):!!~Ia(this.array(),a)};var Tf={svg:"http://www.w3.org/2000/svg"},Uf='<svg xmlns="'+Tf.svg+'"',Vf=Ra("svg"),Wf=/([&<>]{1})/g,Xf=/([\n\r"]{1})/g,Yf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};Of.append=Da,Of.appendTo=Ca,Of.attr=Ha,Of.classes=Ka,Of.clear=Na,Of.clone=Oa,Of.create=Ra,Of.innerSVG=bb,Of.prepend=gb,Of.prependTo=fb,Of.remove=Ma,Of.replace=hb,Of.transform=kb,Of.on=Sa,Of.off=Ta,Of.createPoint=Va,Of.createMatrix=Wa,Of.createTransform=Xa,Of.select=db,Of.selectAll=eb;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.componentsToPath=lb,Zf.toSVGPoints=mb,Zf.createLine=nb,Zf.updateLine=ob;var $f={};Object.defineProperty($f,"__esModule",{value:!0}),$f.transform=pb,$f.translate=qb,$f.rotate=rb,$f.scale=sb;var _f={};Object.defineProperty(_f,"__esModule",{value:!0}),_f["default"]=Bb;var ag=0,bg={width:150,height:50};Bb.prototype.createText=function(a,b){return this.layoutText(a,b).element},Bb.prototype.getDimensions=function(a,b){return this.layoutText(a,b).dimensions},Bb.prototype.layoutText=function(a,b){var c=(0,ff.assign)({},this._config.size,b.box),d=(0,ff.assign)({},this._config.style,b.style),e=tb(b.align||this._config.align),f=ub(void 0!==b.padding?b.padding:this._config.padding),g=b.fitBox||!1,h=Cb(d),i=a.split(/\r?\n/g),j=[],k=c.width-f.left-f.right,l=(0,Of.create)("text");(0,Of.attr)(l,{x:0,y:0}),(0,Of.attr)(l,d);var m=Ab();for((0,Of.append)(m,l);i.length;)j.push(wb(i,k,l));"middle"===e.vertical&&(f.top=f.bottom=0);var n=(0,ff.reduce)(j,function(a,b,c){return a+(h||b.height)},0)+f.top+f.bottom,o=(0,ff.reduce)(j,function(a,b,c){return b.width>a?b.width:a},0),p=f.top;"middle"===e.vertical&&(p+=(c.height-n)/2),p-=(h||j[0].height)/4;var q=(0,Of.create)("text");(0,Of.attr)(q,d),(0,ff.forEach)(j,function(a){var b;switch(p+=h||a.height,e.horizontal){case"left":b=f.left;break;case"right":b=(g?o:k)-f.right-a.width;break;default:b=Math.max(((g?o:k)-a.width)/2+f.left,0)}var c=(0,Of.create)("tspan");(0,Of.attr)(c,{x:b,y:p}),c.textContent=a.text,(0,Of.append)(q,c)}),(0,Of.remove)(l);var r={width:o,height:n};return{dimensions:r,element:q}};var cg={};Object.defineProperty(cg,"__esModule",{value:!0});var dg=[].indexOf,eg=function(a,b){if(dg)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},fg=/\s+/,gg=Object.prototype.toString;Fb.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=eg(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},Fb.prototype.remove=function(a){if("[object RegExp]"==gg.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=eg(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},Fb.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},Fb.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},Fb.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(fg);return""===c[0]&&c.shift(),c},Fb.prototype.has=Fb.prototype.contains=function(a){return this.list?this.list.contains(a):!!~eg(this.array(),a)};var hg,ig=Element.prototype,jg=ig.matchesSelector||ig.webkitMatchesSelector||ig.mozMatchesSelector||ig.msMatchesSelector||ig.oMatchesSelector,kg=Hb,lg=function(a,b,c){for(var d=c?a:a.parentNode;d&&d!==document;){if(kg(d,b))return d;d=d.parentNode}},mg=window.addEventListener?"addEventListener":"attachEvent",ng=window.removeEventListener?"removeEventListener":"detachEvent",og="addEventListener"!==mg?"on":"",pg=function(a,b,c,d){return a[mg](og+b,c,d||!1),c},qg=function(a,b,c,d){return a[ng](og+b,c,d||!1),c},rg={bind:pg,unbind:qg},sg=["focus","blur"],tg=function(a,b,c,d,e){return sg.indexOf(c)!==-1&&(e=!0),rg.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=lg(e,b,!0,a),c.delegateTarget&&d.call(a,c)},e)},ug=function(a,b,c,d){sg.indexOf(b)!==-1&&(d=!0),rg.unbind(a,b,c,d)},vg={bind:tg,unbind:ug},wg=Ib,xg=!1;"undefined"!=typeof document&&(hg=document.createElement("div"),hg.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',xg=!hg.getElementsByTagName("link").length,hg=void 0);var yg={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:xg?[1,"X<div>","</div>"]:[0,"",""]};yg.td=yg.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],yg.option=yg.optgroup=[1,'<select multiple="multiple">',"</select>"],yg.thead=yg.tbody=yg.colgroup=yg.caption=yg.tfoot=[1,"<table>","</table>"],yg.polyline=yg.ellipse=yg.polygon=yg.circle=yg.text=yg.line=yg.path=yg.rect=yg.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var zg="undefined"!=typeof Element?Element.prototype:{},Ag=zg.matches||zg.matchesSelector||zg.webkitMatchesSelector||zg.mozMatchesSelector||zg.msMatchesSelector||zg.oMatchesSelector,Bg=Jb;cg.attr=Db,cg.classes=Eb,cg.clear=Gb,cg.closest=lg,cg.delegate=vg,cg.domify=wg,cg.event=rg,cg.matches=Bg,cg.query=Kb,cg.queryAll=Lb,cg.remove=Mb;var Cg=ff.isArray,Dg=ff.isObject,Eg=ff.assign,Fg=Mf["default"],Gg=_f["default"],Hg=If.isStandardEventVisible,Ig=If.isPlanningTableCollapsed,Jg=If.isCollapsed,Kg=df.isCasePlanModel,Lg=df.getBusinessObject,Mg=df.getDefinition,Ng=df.isRequired,Og=df.isRepeatable,Pg=df.isManualActivation,Qg=df.isAutoComplete,Rg=df.hasPlanningTable,Sg=df.getName,Tg=df.is,Ug=df.getStandardEvent,Vg=cg.query,Wg=Of.append,Xg=Of.attr,Yg=Of.classes,Zg=Of.create,$g=$f.translate,_g=Zf.createLine;ef(Nb,Fg),Nb.$inject=["eventBus","styles","pathMap"];var ah=Nb,bh=Ob,ch=/\{([^}]+)\}/g,dh=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,eh={__init__:["cmmnRenderer"],cmmnRenderer:["type",ah],pathMap:["type",bh]},fh={};fh.elementToString=function(a){return a?"<"+a.$type+(a.id?' id="'+a.id:"")+'" />':"<null>"};var gh={},hh=df.is,ih=ff.assign,jh=gh.DEFAULT_LABEL_SIZE={width:90,height:20};gh.hasExternalLabel=function(a){return(hh(a,"cmmn:PlanItem")||hh(a,"cmmn:DiscretionaryItem"))&&(a=a.definitionRef),hh(a,"cmmndi:CMMNEdge")&&a.cmmnElementRef&&hh(a.cmmnElementRef,"cmmn:OnPart")&&(a=a.cmmnElementRef),hh(a,"cmmn:EventListener")||hh(a,"cmmn:OnPart")||hh(a,"cmmn:CaseFileItem")};var kh=gh.getWaypointsMid=function(a){var b=a.length/2-1,c=a[Math.floor(b)],d=a[Math.ceil(b+.01)];return{x:c.x+(d.x-c.x)/2,y:c.y+(d.y-c.y)/2}},lh=gh.getExternalLabelMid=function(a){var b=a.businessObject,c=b.di;return!c&&hh(b,"cmmndi:CMMNEdge")&&b.cmmnElementRef&&(c=b),b&&c&&c.waypoint?kh(c.waypoint):{x:a.x+a.width/2,y:a.y+a.height+jh.height/2}};gh.getExternalLabelBounds=function(a,b){var c,d,e,f=a.di||a,g=f.label;return g&&g.bounds?(e=g.bounds,d={width:Math.max(jh.width,e.width),height:e.height},c={x:e.x+e.width/2,y:e.y+e.height/2}):(c=lh(b),d=jh),ih({x:c.x-d.width/2,y:c.y-d.height/2},d)};var mh=gh.hasLabelBounds=function(a){return a&&a.di&&a.di.label&&a.di.label.bounds};gh.getLabelBounds=function(a){if(mh(a))return a.di.label.bounds};var nh=ff.assign,oh=ff.map,ph=df.is,qh=gh.hasExternalLabel,rh=gh.getExternalLabelBounds,sh=If.isCollapsed,th=fh.elementToString;Ub.$inject=["eventBus","canvas","elementFactory","elementRegistry"];var uh=Ub;Ub.prototype.root=function(a){var b=this._elementFactory.createRoot(Rb(a));return this._canvas.setRootElement(b),b},Ub.prototype.add=function(a,b){var c,d,e=a.di;if(e&&ph(e,"cmmndi:CMMNShape")&&!this._getElement(a)){var f=sh(a);d=b&&(b.hidden||b.collapsed);var g=a.di.bounds;c=this._elementFactory.createShape(Rb(a,{collapsed:f,hidden:d,x:Math.round(g.x),y:Math.round(g.y),width:Math.round(g.width),height:Math.round(g.height)})),ph(a,"cmmn:Criterion")&&this._attachCriterion(a,c),this._canvas.addShape(c,b)}else{if(!(e&&ph(e,"cmmndi:CMMNEdge")||ph(a,"cmmndi:CMMNEdge")))throw new Error("unknown di "+th(e)+" for element "+th(a));var h=this._getSource(a),i=this._getTarget(a);d=b&&(b.hidden||b.collapsed)||h&&h.hidden||i&&i.hidden;var j=(a.di||{}).waypoint||a.waypoint;c=this._elementFactory.createConnection(Rb(a,{hidden:d,source:h,target:i,waypoints:Sb(j)})),this._canvas.addConnection(c,b)}return qh(a)&&this.addLabel(a,c),this._eventBus.fire("cmmnElement.added",{element:c}),c},Ub.prototype._attachCriterion=function(a,b){var c=a.$parent;if(!c)throw new Error("missing "+th(a)+"$parent");var d=this._elementRegistry.get(c.id),e=d&&d.attachers;if(!d)throw Tb(a,c,"criterion");b.host=d,e||(d.attachers=e=[]),e.indexOf(b)===-1&&e.push(b)},Ub.prototype.addLabel=function(a,b){var c=rh(a,b),d=this._elementFactory.createLabel(Rb(a,{id:a.id+"_label",labelTarget:b,type:"label",hidden:b.hidden,x:Math.round(c.x),y:Math.round(c.y),width:Math.round(c.width),height:Math.round(c.height)}));return this._canvas.addShape(d,b.parent)},Ub.prototype._getSource=function(a){var b=a.cmmnElementRef;if(b){if(ph(b,"cmmn:OnPart"))return b.exitCriterionRef?this._getEnd(b,"exitCriterionRef"):this._getEnd(b,"sourceRef");if(ph(b,"cmmn:Association"))return this._getEnd(b,"sourceRef")}if(ph(a,"cmmndi:CMMNEdge"))return this._getEnd(a,"sourceCMMNElementRef")},Ub.prototype._getTarget=function(a){var b=a.cmmnElementRef;return b&&ph(b,"cmmn:Association")?this._getEnd(b,"targetRef"):this._getEnd(a,"targetCMMNElementRef")},Ub.prototype._getEnd=function(a,b){var c=a[b],d=c&&this._getElement(c);if(d)return d;throw c?Tb(a,c,b):new Error(th(a)+"#"+b+"Ref not specified")},Ub.prototype._getElement=function(a){return this._elementRegistry.get(a.id)};var vh={cmmnImporter:["type",uh]},wh={__depends__:[eh,vh],itemRegistry:["type",Hf]},xh={};Object.defineProperty(xh,"__esModule",{value:!0}),xh.remove=Vb,xh.add=Wb,xh.indexOf=Xb;var yh=ff.forEach,zh=ff.filter,Ah=fh.elementToString,Bh=df.is,Ch=new of({name:"cmmnElement",enumerable:!0},{name:"di"}),Dh=Yb,Eh={};Eh.importCmmnDiagram=Zb;var Fh,Gh={},Hh=cg.domify,Ih=cg.delegate,Jh='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>',Kh="data:image/svg+xml,"+encodeURIComponent(Jh),Lh='<img width="52" height="52" src="'+Kh+'" />',Mh=$b(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),Nh=$b(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),Oh=$b(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),Ph='<div class="bjs-powered-by-lightbox" style="'+Mh+'"><div class="backdrop" style="'+Nh+'"></div><div class="notice" style="'+Oh+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+Lh+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>';Gh.open=_b,Gh.BPMNIO_IMG=Lh;var Qh={};Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.hasLowerCaseAlias=ac,Qh.serializeAsType=cc,Qh.serializeAsProperty=dc;var Rh=(Qh.DEFAULT_NS_MAP={xsi:"http://www.w3.org/2001/XMLSchema-instance"},Qh.XSI_TYPE="xsi:type"),Sh={};Object.defineProperty(Sh,"__esModule",{value:!0}),Sh["default"]=ec,ec.prototype.get=function(a){return this.$model.properties.get(this,a)},ec.prototype.set=function(a,b){this.$model.properties.set(this,a,b)};var Th={};Object.defineProperty(Th,"__esModule",{value:!0}),Th["default"]=gc;var Uh=fc(Sh);gc.prototype.createType=function(a){function b(a){d.define(this,"$type",{value:f,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),(0,ff.forEach)(a,(0,ff.bind)(function(a,b){this.set(b,a)},this))}var c=this.model,d=this.properties,e=Object.create(Uh["default"].prototype);(0,ff.forEach)(a.properties,function(a){a.isMany||void 0===a["default"]||(e[a.name]=a["default"])}),d.defineModel(e,c),d.defineDescriptor(e,a);var f=a.ns.name;return b.prototype=e,b.hasType=e.$instanceOf=this.model.hasType,d.defineModel(b,c),d.defineDescriptor(b,a),b};var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.parseName=hc;var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0}),Wh["default"]=ic,ic.prototype.set=function(a,b,c){var d=this.model.getPropertyDescriptor(a,b),e=d&&d.name;jc(c)?d?delete a[e]:delete a.$attrs[b]:d?e in a?a[e]=c:kc(a,d,c):a.$attrs[b]=c},ic.prototype.get=function(a,b){var c=this.model.getPropertyDescriptor(a,b);if(!c)return a.$attrs[b];var d=c.name;return!a[d]&&c.isMany&&kc(a,c,[]),a[d]},ic.prototype.define=function(a,b,c){Object.defineProperty(a,b,c)},ic.prototype.defineDescriptor=function(a,b){this.define(a,"$descriptor",{value:b})},ic.prototype.defineModel=function(a,b){this.define(a,"$model",{value:b})};var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0}),Xh["default"]=lc,lc.prototype.build=function(){return(0,ff.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},lc.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,c!==!1);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},lc.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(h===-1)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},lc.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=(0,Vh.parseName)(e[0],d),g=(0,Vh.parseName)(e[1],f.prefix).name,h=this.propertiesByName[g];
if(!h)throw new Error("refined property <"+g+"> not found");this.replaceProperty(h,a,c),delete a.redefines},lc.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},lc.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},lc.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},lc.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},lc.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},lc.prototype.hasProperty=function(a){return this.propertiesByName[a]},lc.prototype.addTrait=function(a,b){var c=this.allTypesByName,d=this.allTypes,e=a.name;e in c||((0,ff.forEach)(a.properties,(0,ff.bind)(function(c){c=(0,ff.assign)({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this)),d.push(a),c[e]=a)};var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.coerceType=mc,Yh.isBuiltIn=nc,Yh.isSimple=oc;var Zh={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},$h={String:function(a){return a},Boolean:function(a){return"true"===a},Integer:function(a){return parseInt(a,10)},Real:function(a){return parseFloat(a,10)}},_h={};Object.defineProperty(_h,"__esModule",{value:!0}),_h["default"]=qc;var ai=pc(Xh);qc.prototype.getPackage=function(a){return this.packageMap[a]},qc.prototype.getPackages=function(){return this.packages},qc.prototype.registerPackage=function(a){a=(0,ff.assign)({},a);var b=this.packageMap;rc(b,a,"prefix"),rc(b,a,"uri"),(0,ff.forEach)(a.types,(0,ff.bind)(function(b){this.registerType(b,a)},this)),b[a.uri]=b[a.prefix]=a,this.packages.push(a)},qc.prototype.registerType=function(a,b){a=(0,ff.assign)({},a,{superClass:(a.superClass||[]).slice(),"extends":(a["extends"]||[]).slice(),properties:(a.properties||[]).slice(),meta:(0,ff.assign)(a.meta||{})});var c=(0,Vh.parseName)(a.name,b.prefix),d=c.name,e={};(0,ff.forEach)(a.properties,(0,ff.bind)(function(a){var b=(0,Vh.parseName)(a.name,c.prefix),d=b.name;(0,Yh.isBuiltIn)(a.type)||(a.type=(0,Vh.parseName)(a.type,b.prefix).name),(0,ff.assign)(a,{ns:b,name:d}),e[d]=a},this)),(0,ff.assign)(a,{ns:c,name:d,propertiesByName:e}),(0,ff.forEach)(a["extends"],(0,ff.bind)(function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this)),this.definePackage(a,b),this.typeMap[d]=a},qc.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=(0,Vh.parseName)(c,(0,Yh.isBuiltIn)(c)?"":a.prefix);g.mapTypes(e,b,d)}var f=(0,Yh.isBuiltIn)(a.name)?{name:a.name}:this.typeMap[a.name],g=this;if(!f)throw new Error("unknown type <"+a.name+">");(0,ff.forEach)(f.superClass,c?d:e),b(f,!c),(0,ff.forEach)(f.traits,d)},qc.prototype.getEffectiveDescriptor=function(a){var b=(0,Vh.parseName)(a),c=new ai["default"](b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},qc.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})};var bi={};Object.defineProperty(bi,"__esModule",{value:!0}),bi["default"]=tc;var ci=sc(Th),di=sc(_h),ei=sc(Wh);tc.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},tc.prototype.getType=function(a){var b=this.typeCache,c=(0,ff.isString)(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},tc.prototype.createAny=function(a,b,c){var d=(0,Vh.parseName)(a),e={$type:a,$instanceOf:function(a){return a===this.$type}},f={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,f),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),(0,ff.forEach)(c,function(a,b){(0,ff.isObject)(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},tc.prototype.getPackage=function(a){return this.registry.getPackage(a)},tc.prototype.getPackages=function(){return this.registry.getPackages()},tc.prototype.getElementDescriptor=function(a){return a.$descriptor},tc.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return b in c.allTypesByName},tc.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]},tc.prototype.getTypeDescriptor=function(a){return this.registry.typeMap[a]};var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),Object.defineProperty(fi,"default",{enumerable:!0,get:function(){return uc(bi)["default"]}});var gi={},hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(gi,"__esModule",{value:!0});var ii=String.fromCharCode,ji=Object.prototype.hasOwnProperty,ki=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,li={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(li).forEach(function(a){li[a.toUpperCase()]=li[a]});var mi="http://www.w3.org/2001/XMLSchema-instance",ni="xsi",oi="xsi:type",pi="non-whitespace outside of root node";gi.Parser=Fc,gi.decode=wc;var qi={};(function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){function d(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new(Function.prototype.bind.apply(e,[null].concat(b)))}var e=function(){function a(){b(this,a);for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];this.data=[null].concat(d),this.top=this.data.length-1}return c(a,[{key:"clear",value:function(){return this.data.length=1,this.top=0,this}},{key:"empty",value:function(){return 0===this.top}},{key:"length",value:function(){return this.top}},{key:"peek",value:function(){return this.data[this.top]}},{key:"pop",value:function(){var a=void 0;return this.top>0&&(a=this.data.pop(),this.top--),a}},{key:"push",value:function(a){return this.data[++this.top]=a,this}},{key:"search",value:function(a){var b=this.data.indexOf(a);return b===-1?-1:this.data.length-b}}]),a}();"undefined"!=typeof qi?qi=d:"function"==typeof cf&&void 0!==cf.amd?cf(function(){return d}):a.stack=d}("undefined"!=typeof window?window:a)}).call(this,"undefined"!=typeof a?a:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ri={};Object.defineProperty(ri,"__esModule",{value:!0}),ri.Context=Oc,ri.ElementHandler=Vc,ri.Reader=Yc;var si=Gc(qi),ti=Gc(fi);Pc.prototype.handleEnd=function(){},Pc.prototype.handleText=function(){},Pc.prototype.handleNode=function(){},Qc.prototype=Object.create(Pc.prototype),Qc.prototype.handleNode=function(){return this},Rc.prototype=Object.create(Pc.prototype),Rc.prototype.handleText=function(a){this.body=(this.body||"")+a},Sc.prototype=Object.create(Rc.prototype),Sc.prototype.handleNode=function(a){if(this.element)throw Lc("expected no sub nodes");return this.element=this.createReference(a),this},Sc.prototype.handleEnd=function(){this.element.id=this.body},Sc.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},Tc.prototype=Object.create(Rc.prototype),Tc.prototype.handleEnd=function(){var a=this.body||"",b=this.element,c=this.propertyDesc;a=(0,Yh.coerceType)(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},Uc.prototype=Object.create(Rc.prototype),Uc.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},Vc.prototype=Object.create(Uc.prototype),Vc.prototype.addReference=function(a){this.context.addReference(a)},Vc.prototype.handleEnd=function(){var a=this.body,b=this.element,c=Mc(b),d=c.bodyProperty;d&&void 0!==a&&(a=(0,Yh.coerceType)(d.type,a),b.set(d.name,a))},Vc.prototype.createElement=function(a){var b,c=a.attributes,d=this.type,e=Mc(d),f=this.context,g=new d({}),h=this.model;return(0,ff.forEach)(c,function(a,c){var d,i=e.propertiesByName[c];i&&i.isReference?i.isMany?(d=a.split(" "),(0,ff.forEach)(d,function(a){f.addReference({element:g,property:i.ns.name,id:a})})):f.addReference({element:g,property:i.ns.name,id:a}):(i?a=(0,Yh.coerceType)(i.type,a):"xmlns"!==c&&(b=(0,Vh.parseName)(c,e.ns.prefix),h.getPackage(b.prefix)&&f.addWarning({message:"unknown attribute <"+c+">",element:g,property:c,value:a})),g.set(c,a))}),g},Vc.prototype.getPropertyForNode=function(a){var b,c,d=a.name,e=(0,Vh.parseName)(d),f=this.type,g=this.model,h=Mc(f),i=e.name,j=h.propertiesByName[i];if(j)return(0,Qh.serializeAsType)(j)&&(b=a.attributes[Qh.XSI_TYPE])?(b=Kc(b,g),c=g.getType(b),(0,ff.assign)({},j,{effectiveType:Mc(c).name})):j;var k=g.getPackage(e.prefix);if(k){if(b=Ic(e,k),c=g.getType(b),j=(0,ff.find)(h.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return(0,ff.assign)({},j,{effectiveType:Mc(c).name})}else if(j=(0,ff.find)(h.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return j;throw Lc("unrecognized element <"+e.name+">")},Vc.prototype.toString=function(){return"ElementDescriptor["+Mc(this.type).name+"]"},Vc.prototype.valueHandler=function(a,b){return new Tc(a,b)},Vc.prototype.referenceHandler=function(a){return new Sc(a,this.context)},Vc.prototype.handler=function(a){return"Element"===a?new Xc(this.model,a,this.context):new Vc(this.model,a,this.context)},Vc.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,(0,Yh.isSimple)(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?((0,ff.assign)(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},Wc.prototype=Object.create(Vc.prototype),Wc.prototype.createElement=function(a){var b=a.name,c=(0,Vh.parseName)(b),d=this.model,e=this.type,f=d.getPackage(c.prefix),g=f&&Ic(c,f)||b;if(!e.hasType(g))throw Lc("unexpected element <"+a.originalName+">");return Vc.prototype.createElement.call(this,a)},Xc.prototype=Object.create(Uc.prototype),Xc.prototype.createElement=function(a){var b=a.name,c=(0,Vh.parseName)(b),d=c.prefix,e=a.ns[d+"$uri"],f=a.attributes;return this.model.createAny(b,e,f)},Xc.prototype.handleChild=function(a){var b,c=new Xc(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},Xc.prototype.handleText=function(a){this.body=this.body||""+a},Xc.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},Yc.prototype.fromXML=function(a,b,c){function d(a,b,c){var d=b(),e=d.line,f=d.column,g=d.data;"<"===g.charAt(0)&&g.indexOf(" ")!==-1&&(g=g.slice(0,g.indexOf(" "))+">");var h="unparsable content "+(g?g+" ":"")+"detected\n\tline: "+e+"\n\tcolumn: "+f+"\n\tnested error: "+a.message;if(c)return o.addWarning({message:h,error:a}),console.warn("could not parse node"),console.warn(a),!0;throw console.error("could not parse document"),console.error(a),Lc(h)}function e(a,b){return d(a,b,!0)}function f(){var a,b,c=o.elementsById,d=o.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=Mc(e).propertiesByName[b.property];if(f||o.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var h=e.get(g.name),i=h.indexOf(b);i===-1&&(i=h.length),f?h[i]=f:h.splice(i,1)}else e.set(g.name,f)}}function g(){q.pop().handleEnd()}function h(a){if(r.test(a)){var b=s.exec(a),c=b&&b[1];c&&!t.test(c)&&o.addWarning({message:"unsupported document encoding <"+c+">, falling back to UTF-8"})}}function i(a,b){var c=q.peek();try{q.push(c.handleNode(a))}catch(e){d(e,b,n)&&q.push(new Qc)}}function j(a){q.peek().handleText(a)}function k(a){a=a.trim(),a&&q.peek().handleText(a)}var l=b.rootHandler;b instanceof Vc?(l=b,b={}):"string"==typeof b?(l=this.handler(b),b={}):"string"==typeof l&&(l=this.handler(l));var m=this.model,n=this.lax,o=new Oc((0,ff.assign)({},b,{rootHandler:l})),p=new gi.Parser({proxy:!0}),q=new si["default"];l.context=o,q.push(l);var r=/^<\?xml /i,s=/ encoding="([^"]+)"/i,t=/^utf-8$/i,u=m.getPackages().reduce(function(a,b){return a[b.uri]=b.prefix,a},{});p.ns(u).on("openTag",function(a,b,c,d){var e=a.attrs||{},f=Object.keys(e).reduce(function(a,c){var d=b(e[c]);return a[c]=d,a},{}),g={name:a.name,originalName:a.originalName,attributes:f,ns:a.ns};i(g,d)}).on("question",h).on("closeTag",g).on("cdata",j).on("text",function(a,b){k(b(a))}).on("error",d).on("warn",e),Nc(function(){var b;try{p.parse(a),f()}catch(d){b=d}var e=l.element;b||e||(b=Lc("failed to parse document as <"+l.type.$descriptor.name+">")),c(b,b?void 0:e,o)})},Yc.prototype.handler=function(a){return new Wc(this.model,a)};var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.Namespaces=Zc,ui.Writer=sd;var vi='<?xml version="1.0" encoding="UTF-8"?>\n',wi=/<|>|'|"|&|\n\r|\n/g,xi=/<|>|&/g,yi={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},zi={"<":"lt",">":"gt","&":"amp"};ld.prototype.build=function(a){return this.element=a,this},ld.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},md.prototype.serializeValue=md.prototype.serializeTo=function(a){a.append(this.escape?id(this.value):this.value)},md.prototype.build=function(a,b){return this.value=b,"String"===a.type&&b.search(xi)!==-1&&(this.escape=!0),this},ad(nd,md),nd.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"),this.serializeValue(a),a.append("</"+this.tagName+">").appendNewLine()},od.prototype.build=function(a){this.element=a;var b,c,d=a.$descriptor,e=this.propertyDescriptor,f=d.isGeneric;return b=f?this.parseGeneric(a):this.parseNsAttributes(a),e?this.ns=this.nsPropertyTagName(e):this.ns=this.nsTagName(d),this.tagName=this.addTagName(this.ns),f||(c=fd(a),this.parseAttributes(jd(c)),this.parseContainments(kd(c))),this.parseGenericAttributes(a,b),this},od.prototype.nsTagName=function(a){var b=this.logNamespaceUsed(a.ns);return dd(b,a)},od.prototype.nsPropertyTagName=function(a){var b=this.logNamespaceUsed(a.ns);return ed(b,a)},od.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},od.prototype.nsAttributeName=function(a){var b;if(b=(0,ff.isString)(a)?(0,Vh.parseName)(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.getNamespaces().logUsed(c),this.isLocalNs(c)?{localName:b.localName}:(0,ff.assign)({localName:b.localName},c)},od.prototype.parseGeneric=function(a){var b=this,c=this.body,d=[];return(0,ff.forEach)(a,function(e,f){var g;"$body"===f?c.push((new md).build({type:"String"},e)):"$children"===f?(0,ff.forEach)(e,function(a){c.push(new od(b).build(a))}):0!==f.indexOf("$")&&(g=b.parseNsAttribute(a,f,e),g&&d.push({name:f,value:e}))}),d},od.prototype.parseNsAttribute=function(a,b,c){var d,e=a.$model,f=(0,Vh.parseName)(b);if("xmlns"===f.prefix&&(d={prefix:f.localName,uri:c}),f.prefix||"xmlns"!==f.localName||(d={uri:c}),!d)return{name:b,value:c};if(e&&e.getPackage(c))this.logNamespace(d,!0,!0);else{var g=this.logNamespaceUsed(d,!0);this.getNamespaces().logUsed(g)}},od.prototype.parseNsAttributes=function(a,b){var c=this,d=a.$attrs,e=[];return(0,ff.forEach)(d,function(b,d){var f=c.parseNsAttribute(a,d,b);f&&e.push(f)}),e},od.prototype.parseGenericAttributes=function(a,b){var c=this;(0,ff.forEach)(b,function(b){if(b.name!==Qh.XSI_TYPE)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},od.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;(0,ff.forEach)(a,function(a){var e=d.get(a.name),f=a.isReference,g=a.isMany;if(g||(e=[e]),a.isBody)c.push((new md).build(a,e[0]));else if((0,Yh.isSimple)(a.type))(0,ff.forEach)(e,function(d){c.push(new nd(b.addTagName(b.nsPropertyTagName(a))).build(a,d))});else if(f)(0,ff.forEach)(e,function(d){c.push(new ld(b.addTagName(b.nsPropertyTagName(a))).build(d))});else{var h=(0,Qh.serializeAsType)(a),i=(0,Qh.serializeAsProperty)(a);(0,ff.forEach)(e,function(d){var e;e=h?new pd(b,a):i?new od(b,a):new od(b),c.push(e.build(d))})}})},od.prototype.getNamespaces=function(a){var b,c=this.namespaces,d=this.parent;return c||(b=d&&d.getNamespaces(),a||!b?this.namespaces=c=new Zc(b):c=b),c},od.prototype.logNamespace=function(a,b,c){var d=this.getNamespaces(c),e=a.uri,f=a.prefix,g=d.byUri(e);return g||d.add(a,b),d.mapPrefix(f,e),a},od.prototype.logNamespaceUsed=function(a,b){var c,d,e,f=this.element,g=f.$model,h=this.getNamespaces(b),i=a.prefix,j=a.uri;if(!i&&!j)return{localName:a.localName};if(e=Qh.DEFAULT_NS_MAP[i]||g&&(g.getPackage(i)||{}).uri,j=j||e||h.uriByPrefix(i),!j)throw new Error("no namespace uri given for prefix <"+i+">");if(a=h.byUri(j),!a){for(c=i,d=1;h.uriByPrefix(c);)c=i+"_"+d++;a=this.logNamespace({prefix:c,uri:j},e===j)}return i&&h.mapPrefix(i,j),a},od.prototype.parseAttributes=function(a){var b=this,c=this.element;(0,ff.forEach)(a,function(a){var d=c.get(a.name);if(a.isReference)if(a.isMany){var e=[];(0,ff.forEach)(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},od.prototype.addTagName=function(a){var b=this.logNamespaceUsed(a);return this.getNamespaces().logUsed(b),bd(a)},od.prototype.addAttribute=function(a,b){var c=this.attrs;(0,ff.isString)(b)&&(b=hd(b)),c.push({name:a,value:b})},od.prototype.serializeAttributes=function(a){var b=this.attrs,c=this.namespaces;c&&(b=cd(c).concat(b)),(0,ff.forEach)(b,function(b){a.append(" ").append(bd(b.name)).append('="').append(b.value).append('"')})},od.prototype.serializeTo=function(a){var b=this.body[0],c=b&&b.constructor!==md;a.appendIndent().append("<"+this.tagName),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),(0,ff.forEach)(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+this.tagName+">")),a.appendNewLine()},ad(pd,od),pd.prototype.parseNsAttributes=function(a){var b=od.prototype.parseNsAttributes.call(this,a),c=a.$descriptor;if(c.name===this.propertyDescriptor.type)return b;var d=this.typeNs=this.nsTagName(c);this.getNamespaces().logUsed(this.typeNs);var e=a.$model.getPackage(d.uri),f=e.xml&&e.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Qh.XSI_TYPE),(d.prefix?d.prefix+":":"")+f+c.ns.localName),b},pd.prototype.isLocalNs=function(a){return a.uri===(this.typeNs||this.ns).uri};var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0}),Object.defineProperty(Ai,"Reader",{enumerable:!0,get:function(){return ri.Reader}}),Object.defineProperty(Ai,"Writer",{enumerable:!0,get:function(){return ui.Writer}});var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0}),Bi["default"]=ud;var Ci=td(fi);ud.prototype=Object.create(Ci["default"].prototype),ud.prototype.fromXML=function(a,b,c,d){(0,ff.isString)(b)||(d=c,c=b,b="cmmn:Definitions"),(0,ff.isFunction)(c)&&(d=c,c={});var e=new Ai.Reader((0,ff.assign)({model:this,lax:!0},c)),f=e.handler(b);e.fromXML(a,f,d)},ud.prototype.toXML=function(a,b,c){(0,ff.isFunction)(b)&&(c=b,b={});var d,e,f=new Ai.Writer(b);try{d=f.toXML(a)}catch(g){e=g}return c(e,d)};var Di={name:"CMMN",uri:"http://www.omg.org/spec/CMMN/20151109/MODEL",types:[{name:"ApplicabilityRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["CMMNElement"]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"CMMNElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"CMMNElement",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"ManualActivationRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Case",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"caseFileModel",type:"CaseFile",xml:{serialize:"property"}},{name:"casePlanModel",type:"Stage",xml:{serialize:"property"}},{name:"caseRoles",type:"CaseRoles"},{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"CaseFile",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CaseFileItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"multiplicity",type:"String",isAttr:!0,"default":"Unspecified"},{name:"definitionRef",type:"CaseFileItemDefinition",isAttr:!0,isReference:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"targetRefs",type:"CaseFileItem",isAttr:!0,isReference:!0,isMany:!0},{name:"children",type:"Children",xml:{serialize:"property"}}]},{name:"CaseFileItemDefinition",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionType",type:"String","default":"http://www.omg.org/spec/CMMN/DefinitionType/Unspecified",isAttr:!0},{name:"properties",type:"Property",isMany:!0},{name:"structureRef",type:"String",isAttr:!0},{name:"importRef",type:"Import",isAttr:!0,isReference:!0}]},{name:"CaseFileItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"CaseParameter",superClass:["Parameter"],properties:[{name:"bindingRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"bindingRefinement",type:"Expression",xml:{serialize:"property"}}]},{name:"CaseRoles",superClass:["Parameter"],properties:[{name:"role",type:"Role",isMany:!0}]},{name:"CaseTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"caseRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"caseRef",type:"String",isAttr:!0}]},{name:"Children",superClass:["CMMNElement"],properties:[{name:"caseFileItems",type:"CaseFileItem",isMany:!0}]},{name:"CMMNElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionElements",type:"ExtensionElements"},{name:"extensionDefinitions",type:"ExtensionDefinition",isReference:!0,isMany:!0}]},{name:"Definitions",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0,"default":"http://www.w3.org/1999/XPath"},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"author",isAttr:!0,type:"String"},{name:"creationDate",type:"DateTime",isAttr:!0},{name:"imports",type:"Import",isMany:!0},{name:"caseFileItemDefinitions",type:"CaseFileItemDefinition",isMany:!0},{name:"cases",type:"Case",isMany:!0},{name:"processes",type:"Process",isMany:!0},{name:"decisions",type:"Decision",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"relationships",type:"Relationship",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"CMMNDI",type:"cmmndi:CMMNDI"}]},{name:"DiscretionaryItem",superClass:["TableItem"],properties:[{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"EventListener",superClass:["PlanItemDefinition"]},{name:"Expression",superClass:["CMMNElement"],properties:[{name:"language",type:"String",isAttr:!0},{name:"body",isBody:!0,type:"String"}]},{name:"HumanTask",superClass:["Task"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"performerRef",type:"Role",isAttr:!0,isReference:!0}]},{name:"IfPart",superClass:["CMMNElement"],properties:[{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0},{name:"condition",type:"Expression",xml:{serialize:"property"}}]},{name:"Import",properties:[{name:"location",isAttr:!0,type:"String"},{name:"namespace",type:"String",isAttr:!0},{name:"importType",isAttr:!0,type:"String"}]},{name:"Milestone",superClass:["PlanItemDefinition"]},{name:"On",isAbstract:!0,superClass:["CMMNElement"]},{name:"OnPart",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Parameter",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ParameterMapping",properties:[{name:"sourceRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"targetRef",type:"Parameter",isAttr:!0,isReference:!0},{name:"transformation",type:"Expression",xml:{serialize:"property"}}]},{name:"PlanFragment",superClass:["PlanItemDefinition"],properties:[{name:"planItems",type:"PlanItem",isMany:!0},{name:"sentries",type:"Sentry",isMany:!0}]},{name:"PlanItem",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"definitionRef",type:"PlanItemDefinition",isAttr:!0,isReference:!0},{name:"itemControl",type:"PlanItemControl",xml:{serialize:"property"}},{name:"entryCriteria",type:"EntryCriterion",isMany:!0},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"PlanItemControl",superClass:["CMMNElement"],properties:[{name:"repetitionRule",type:"RepetitionRule"},{name:"requiredRule",type:"RequiredRule"},{name:"manualActivationRule",type:"ManualActivationRule"}]},{name:"PlanItemDefinition",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"defaultControl",type:"PlanItemControl",xml:{serialize:"property"}}]},{name:"PlanItemOnPart",superClass:["OnPart"],properties:[{name:"standardEvent",type:"String"},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0},{name:"exitCriterionRef",type:"ExitCriterion",isAttr:!0,isReference:!0}]},{name:"PlanningTable",superClass:["TableItem"],properties:[{name:"tableItems",type:"TableItem",isMany:!0},{name:"applicabilityRules",type:"ApplicabilityRule",isMany:!0}]},{name:"Process",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/ProcessType/Unspecified"},{name:"externalRef",type:"String",isAttr:!0},{name:"input",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"ProcessParameter",isMany:!0,xml:{serialize:"property"}}]},{name:"ProcessParameter",superClass:["Parameter"]},{name:"ProcessTask",superClass:["Task"],properties:[{name:"parameterMapping",type:"ParameterMapping",isMany:!0},{name:"processRefExpression",type:"Expression",xml:{serialize:"property"}},{name:"processRef",type:"String",isAttr:!0}]},{name:"Property",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/PropertyType/Unspecified"}]},{name:"RepetitionRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"RequiredRule",superClass:["CMMNElement"],properties:[{name:"condition",type:"Expression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"contextRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Role",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"Sentry",superClass:["CMMNElement"],properties:[{name:"onParts",type:"OnPart",isMany:!0},{name:"ifPart",type:"IfPart"},{name:"name",isAttr:!0,type:"String"}]},{name:"Stage",superClass:["PlanFragment"],properties:[{name:"planningTable",type:"PlanningTable"},{name:"planItemDefinitions",type:"PlanItemDefinition",isMany:!0},{name:"autoComplete",isAttr:!0,type:"Boolean"},{name:"exitCriteria",type:"ExitCriterion",isMany:!0}]},{name:"TableItem",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"authorizedRoleRefs",type:"Role",isAttr:!0,isReference:!0,isMany:!0},{name:"applicabilityRuleRefs",type:"ApplicabilityRule",isAttr:!0,isReference:!0,isMany:!0}]},{name:"Task",superClass:["PlanItemDefinition"],properties:[{name:"input",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"CaseParameter",isMany:!0,xml:{serialize:"property"}},{name:"isBlocking",isAttr:!0,"default":!0,type:"Boolean"}]},{name:"TimerEventListener",superClass:["EventListener"],properties:[{name:"timerExpression",type:"Expression",xml:{serialize:"property"}},{name:"timerStart",type:"StartTrigger"}]},{name:"UserEventListener",superClass:["EventListener"],properties:[{name:"authorizedRoleRefs",type:"Role",isMany:!0,isAttr:!0}]},{name:"DateTime",superClass:[]},{name:"StartTrigger",isAbstract:!0,superClass:["CMMNElement"]},{name:"PlanItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"PlanItem",isAttr:!0,isReference:!0}]},{name:"CaseFileItemStartTrigger",superClass:["StartTrigger"],properties:[{name:"standardEvent",type:"String",isAttr:!0},{name:"sourceRef",type:"CaseFileItem",isAttr:!0,isReference:!0}]},{name:"Extension",properties:[{name:"mustUnderstand","default":!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition"}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",isAttr:!0,"default":!1,type:"Boolean"}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Relationship",properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,type:"Element"},{name:"target",isMany:!0,type:"Element"}]},{name:"Documentation",superClass:["CMMNElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat","default":"text/plain",isAttr:!0,type:"String"}]},{name:"DecisionTask",superClass:["Task"],properties:[{name:"mappings",type:"ParameterMapping",isMany:!0},{name:"decisionRef",type:"String",isAttr:!0},{name:"decisionRefExpression",type:"Expression",xml:{serialize:"property"}}]},{name:"Decision",superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"implementationType",
type:"String",isAttr:!0,"default":"http://www.omg.org/spec/CMMN/DecisionType/Unspecified"},{name:"input",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"DecisionParameter",isMany:!0,xml:{serialize:"property"}},{name:"externalRef",type:"String",isAttr:!0}]},{name:"DecisionParameter",superClass:["Parameter"]},{name:"Criterion",isAbstract:!0,superClass:["CMMNElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sentryRef",type:"Sentry",isAttr:!0,isReference:!0}]},{name:"EntryCriterion",superClass:["Criterion"]},{name:"ExitCriterion",superClass:["Criterion"]}],emumerations:[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"CaseFileItemTransition",literalValues:[{name:"addChild"},{name:"addReference"},{name:"create"},{name:"delete"},{name:"removeChild"},{name:"removeReference"},{name:"replace"},{name:"update"}]},{name:"MultiplicityEnum",literalValues:[{name:"ZeroOrOne"},{name:"ZeroOrMore"},{name:"ExactlyOne"},{name:"OneOrMore"},{name:"Unspecified"},{name:"Unknown"}]},{name:"PlanItemTransition",literalValues:[{name:"close"},{name:"complete"},{name:"create"},{name:"disable"},{name:"enable"},{name:"exit"},{name:"fault"},{name:"manualStart"},{name:"occur"},{name:"parentResume"},{name:"parentSuspend"},{name:"reactivate"},{name:"reenable"},{name:"resume"},{name:"start"},{name:"suspend"},{name:"terminate"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]}],associations:[],xml:{tagAlias:"lowerCase",typePrefix:"t"},prefix:"cmmn"},Ei={name:"CMMNDI",uri:"http://www.omg.org/spec/CMMN/20151109/CMMNDI",types:[{name:"CMMNDI",properties:[{name:"diagrams",type:"CMMNDiagram",isMany:!0},{name:"styles",type:"CMMNStyle",isMany:!0}]},{name:"CMMNDiagram",properties:[{name:"cmmnElementRef",isAttr:!0,type:"cmmn:CMMNElement",isReference:!0},{name:"Size",type:"dc:Dimension",xml:{serialize:"xsi:type"}},{name:"diagramElements",type:"CMMNDiagramElement",isMany:!0}],superClass:["di:Diagram"]},{name:"CMMNDiagramElement",superClass:["di:DiagramElement"]},{name:"CMMNShape",properties:[{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"label",type:"CMMNLabel"},{name:"isCollapsed",isAttr:!0,type:"Boolean"},{name:"isPlanningTableCollapsed",isAttr:!0,type:"Boolean"}],superClass:["CMMNDiagramElement","di:Shape"]},{name:"CMMNEdge",properties:[{name:"label",type:"CMMNLabel"},{name:"cmmnElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"sourceCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"targetCMMNElementRef",isAttr:!0,isReference:!0,type:"cmmn:CMMNElement"},{name:"isStandardEventVisible",type:"Boolean",isAttr:!0}],superClass:["CMMNDiagramElement","di:Edge"]},{name:"CMMNLabel",superClass:["di:Shape"]},{name:"CMMNStyle",properties:[{name:"FillColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"StrokeColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"FontColor",type:"dc:Color",xml:{serialize:"xsi:type"}},{name:"fontFamily",type:"String",isAttr:!0},{name:"fontSize",type:"Real",isAttr:!0},{name:"fontItalic",type:"Boolean",isAttr:!0},{name:"fontBold",type:"Boolean",isAttr:!0},{name:"fontUnderline",type:"Boolean",isAttr:!0},{name:"fontStrikeThrough",type:"Boolean",isAttr:!0}],superClass:["di:Style"]}],associations:[],prefix:"cmmndi"},Fi={name:"DC",uri:"http://www.omg.org/spec/CMMN/20151109/DC",types:[{name:"rgb"},{name:"Real"},{name:"Color",properties:[{name:"red",type:"rgb",isAttr:!0},{name:"green",type:"rgb",isAttr:!0},{name:"blue",type:"rgb",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0}]},{name:"Dimension",properties:[{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",isAttr:!0},{name:"y",type:"Real",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],prefix:"dc",associations:[]},Gi={name:"DI",uri:"http://www.omg.org/spec/CMMN/20151109/DI",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"style",type:"Style"},{name:"sharedStyle",type:"Style",isReference:!0,isAttr:!0},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"waypoint",isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"name",type:"String",isAttr:!0},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,"default":300,type:"double"}]},{name:"Shape",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"extension",type:"Extension"},{name:"id",type:"String",isAttr:!0,isId:!0}]},{name:"Extension",properties:[{name:"values",type:"Element",isMany:!0}]}],associations:[],prefix:"di",xml:{tagAlias:"lowerCase"}},Hi={};Object.defineProperty(Hi,"__esModule",{value:!0}),Hi["default"]=function(a,b){var c=(0,ff.assign)({},Ni,a);return new Ii["default"](c,b)};var Ii=vd(Bi),Ji=vd(Di),Ki=vd(Ei),Li=vd(Fi),Mi=vd(Gi),Ni={cmmn:Ji["default"],cmmndi:Ki["default"],dc:Li["default"],di:Mi["default"]},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0}),Object.defineProperty(Oi,"default",{enumerable:!0,get:function(){return wd(Hi)["default"]}});var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.add=xd,Pi.eachElement=yd,Pi.selfAndChildren=zd,Pi.selfAndDirectChildren=Ad,Pi.selfAndAllChildren=Bd,Pi.getClosure=Cd,Pi.getBBox=Dd,Pi.getEnclosedElements=Ed,Pi.getType=Fd;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});var Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Qi["default"]=Ld;var Si="base",Ti={shape:["x","y","width","height"],connection:["waypoints"]};Ld.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Ld.prototype._init=function(a){var b=this._eventBus,c=this._container=Jd(a),d=this._svg=(0,Of.create)("svg");(0,Of.attr)(d,{width:"100%",height:"100%"}),(0,Of.append)(c,d);var e=this._viewport=Kd(d,"viewport");this._layers={},a.deferUpdate!==!1&&(this._viewboxChanged=(0,ff.debounce)((0,ff.bind)(this._viewboxChanged,this),300)),b.on("diagram.init",function(){b.fire("canvas.init",{svg:d,viewport:e})},this),b.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),b.on("diagram.destroy",500,this._destroy,this),b.on("diagram.clear",500,this._clear,this)},Ld.prototype._destroy=function(a){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var b=this._container.parentNode;b&&b.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},Ld.prototype._clear=function(){var a=this,b=this._elementRegistry.getAll();b.forEach(function(b){var c=(0,Pi.getType)(b);"root"===c?a.setRootElement(null,!0):a._removeElement(b,c)}),delete this._cachedViewbox},Ld.prototype.getDefaultLayer=function(){return this.getLayer(Si,0)},Ld.prototype.getLayer=function(a,b){if(!a)throw new Error("must specify a name");var c=this._layers[a];if(c||(c=this._layers[a]=this._createLayer(a,b)),"undefined"!=typeof b&&c.index!==b)throw new Error("layer <"+a+"> already created at index <"+b+">");return c.group},Ld.prototype._createLayer=function(a,b){b||(b=0);var c=(0,ff.reduce)(this._layers,function(a,c){return b>=c.index&&a++,a},0);return{group:Kd(this._viewport,"layer-"+a,c),index:b}},Ld.prototype.getContainer=function(){return this._container},Ld.prototype._updateMarker=function(a,b,c){var d;a.id||(a=this._elementRegistry.get(a)),d=this._elementRegistry._elements[a.id],d&&((0,ff.forEach)([d.gfx,d.secondaryGfx],function(a){a&&(c?(0,Of.classes)(a).add(b):(0,Of.classes)(a).remove(b))}),this._eventBus.fire("element.marker.update",{element:a,gfx:d.gfx,marker:b,add:!!c}))},Ld.prototype.addMarker=function(a,b){this._updateMarker(a,b,!0)},Ld.prototype.removeMarker=function(a,b){this._updateMarker(a,b,!1)},Ld.prototype.hasMarker=function(a,b){a.id||(a=this._elementRegistry.get(a));var c=this.getGraphics(a);return(0,Of.classes)(c).has(b)},Ld.prototype.toggleMarker=function(a,b){this.hasMarker(a,b)?this.removeMarker(a,b):this.addMarker(a,b)},Ld.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},Ld.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootElement,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootElement already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootElement=a,a},Ld.prototype._ensureValid=function(a,b){if(!b.id)throw new Error("element must have an id");if(this._elementRegistry.get(b.id))throw new Error("element with id "+b.id+" already exists");var c=Ti[a],d=(0,ff.every)(c,function(a){return"undefined"!=typeof b[a]});if(!d)throw new Error("must supply { "+c.join(", ")+" } with "+a)},Ld.prototype._setParent=function(a,b,c){(0,xh.add)(b.children,a,c),a.parent=b},Ld.prototype._addElement=function(a,b,c,d){c=c||this.getRootElement();var e=this._eventBus,f=this._graphicsFactory;this._ensureValid(a,b),e.fire(a+".add",{element:b,parent:c}),this._setParent(b,c,d);var g=f.create(a,b,d);return this._elementRegistry.add(b,g),f.update(a,b,g),e.fire(a+".added",{element:b,gfx:g}),b},Ld.prototype.addShape=function(a,b,c){return this._addElement("shape",a,b,c)},Ld.prototype.addConnection=function(a,b,c){return this._addElement("connection",a,b,c)},Ld.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),(0,xh.remove)(a.parent&&a.parent.children,a),a.parent=null,e.fire(b+".removed",{element:a}),c.remove(a),a},Ld.prototype.removeShape=function(a){return this._removeElement(a,"shape")},Ld.prototype.removeConnection=function(a){return this._removeElement(a,"connection")},Ld.prototype.getGraphics=function(a,b){return this._elementRegistry.getGraphics(a,b)},Ld.prototype._changeViewbox=function(a){this._eventBus.fire("canvas.viewbox.changing"),a.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Ld.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Ld.prototype.viewbox=function(a){if(void 0===a&&this._cachedViewbox)return this._cachedViewbox;var b,c,d,e,f,g,h=this._viewport,i=this.getSize();return a?(this._changeViewbox(function(){e=Math.min(i.width/a.width,i.height/a.height);var b=this._svg.createSVGMatrix().scale(e).translate(-a.x,-a.y);(0,Of.transform)(h,b)}),a):(b=this.getDefaultLayer().getBBox(),d=(0,Of.transform)(h),c=d?d.matrix:(0,Of.createMatrix)(),e=Hd(c.a,1e3),f=Hd(-c.e||0,1e3),g=Hd(-c.f||0,1e3),a=this._cachedViewbox={x:f?f/e:0,y:g?g/e:0,width:i.width/e,height:i.height/e,scale:e,inner:{width:b.width,height:b.height,x:b.x,y:b.y},outer:i})},Ld.prototype.scroll=function(a){var b=this._viewport,c=b.getCTM();return a&&this._changeViewbox(function(){a=(0,ff.assign)({dx:0,dy:0},a||{}),c=this._svg.createSVGMatrix().translate(a.dx,a.dy).multiply(c),Md(b,c)}),{x:c.e,y:c.f}},Ld.prototype.zoom=function(a,b){if(!a)return this.viewbox(a).scale;if("fit-viewport"===a)return this._fitViewport(b);var c,d;return this._changeViewbox(function(){"object"!==("undefined"==typeof b?"undefined":Ri(b))&&(c=this.viewbox().outer,b={x:c.width/2,y:c.height/2}),d=this._setZoom(a,b)}),Hd(d.a,1e3)},Ld.prototype._fitViewport=function(a){var b,c,d=this.viewbox(),e=d.outer,f=d.inner;return f.x>=0&&f.y>=0&&f.x+f.width<=e.width&&f.y+f.height<=e.height&&!a?c={x:0,y:0,width:Math.max(f.width+f.x,e.width),height:Math.max(f.height+f.y,e.height)}:(b=Math.min(1,e.width/f.width,e.height/f.height),c={x:f.x+(a?f.width/2-e.width/b/2:0),y:f.y+(a?f.height/2-e.height/b/2:0),width:e.width/b,height:e.height/b}),this.viewbox(c),this.viewbox(!1).scale},Ld.prototype._setZoom=function(a,b){var c,d,e,f,g,h=this._svg,i=this._viewport,j=h.createSVGMatrix(),k=h.createSVGPoint();e=i.getCTM();var l=e.a;return b?(c=(0,ff.assign)(k,b),d=c.matrixTransform(e.inverse()),f=j.translate(d.x,d.y).scale(1/l*a).translate(-d.x,-d.y),g=e.multiply(f)):g=j.scale(a),Md(this._viewport,g),g},Ld.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Ld.prototype.getAbsoluteBBox=function(a){var b,c=this.viewbox();if(a.waypoints){var d=this.getGraphics(a);b=d.getBBox()}else b=a;var e=b.x*c.scale-c.x*c.scale,f=b.y*c.scale-c.y*c.scale,g=b.width*c.scale,h=b.height*c.scale;return{x:e,y:f,width:g,height:h}},Ld.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0}),Ui["default"]=Nd,Nd.prototype.createRoot=function(a){return this.create("root",a)},Nd.prototype.createLabel=function(a){return this.create("label",a)},Nd.prototype.createShape=function(a){return this.create("shape",a)},Nd.prototype.createConnection=function(a){return this.create("connection",a)},Nd.prototype.create=function(a,b){return b=(0,ff.assign)({},b||{}),b.id||(b.id=a+"_"+this._uid++),(0,pf.create)(a,b)};var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi["default"]=Od;var Wi="data-element-id";Od.$inject=["eventBus"],Od.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),(0,Of.attr)(b,Wi,d),c&&(0,Of.attr)(c,Wi,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},Od.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&((0,Of.attr)(d.gfx,Wi,""),d.secondaryGfx&&(0,Of.attr)(d.secondaryGfx,Wi,""),delete b[c])},Od.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a)),this._eventBus.fire("element.updateId",{element:a,newId:b});var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},Od.prototype.get=function(a){var b;b="string"==typeof a?a:a&&(0,Of.attr)(a,Wi);var c=this._elements[b];return c&&c.element},Od.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},Od.prototype.getAll=function(){return this.filter(function(a){return a})},Od.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},Od.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},Od.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")};var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});var Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Xi["default"]=Pd;var Zi="__fn",$i=1e3,_i=Array.prototype.slice;Pd.prototype.on=function(a,b,c,d){if(a=(0,ff.isArray)(a)?a:[a],(0,ff.isFunction)(b)&&(d=c,c=b,b=$i),!(0,ff.isNumber)(b))throw new Error("priority must be a number");var e=c;d&&(e=(0,ff.bind)(c,d),e[Zi]=c[Zi]||c);var f=this,g={priority:b,callback:e};a.forEach(function(a){f._addListener(a,g)})},Pd.prototype.once=function(a,b,c,d){function e(){return f.off(a,e),c.apply(d,arguments)}var f=this;if((0,ff.isFunction)(b)&&(d=c,c=b,b=$i),!(0,ff.isNumber)(b))throw new Error("priority must be a number");e[Zi]=c,this.on(a,b,e)},Pd.prototype.off=function(a,b){a=(0,ff.isArray)(a)?a:[a];var c=this;a.forEach(function(a){c._removeListener(a,b)})},Pd.prototype.createEvent=function(a){var b=new Qd;return b.init(a),b},Pd.prototype.fire=function(a,b){var c,d,e,f;if(f=_i.call(arguments),"object"===("undefined"==typeof a?"undefined":Yi(a))&&(c=a,a=c.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){c=b instanceof Qd?b:this.createEvent(b),f[0]=c;var g=c.type;a!==g&&(c.type=a);try{e=this._invokeListeners(c,f,d)}finally{a!==g&&(c.type=g)}return void 0===e&&c.defaultPrevented&&(e=!1),e}},Pd.prototype.handleError=function(a){return this.fire("error",{error:a})===!1},Pd.prototype._destroy=function(){this._listeners={}},Pd.prototype._invokeListeners=function(a,b,c){var d,e,f;for(d=0;(e=c[d])&&!a.cancelBubble;d++)f=this._invokeListener(a,b,e);return f},Pd.prototype._invokeListener=function(a,b,c){var d;try{d=Rd(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),d===!1&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},Pd.prototype._addListener=function(a,b){var c,d,e=this._getListeners(a);for(d=0;c=e[d];d++)if(c.priority<b.priority)return void e.splice(d,0,b);e.push(b)},Pd.prototype._getListeners=function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b},Pd.prototype._removeListener=function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)d=c.callback,d!==b&&d[Zi]!==b||f.splice(e,1);else f.length=0},Qd.prototype.stopPropagation=function(){this.cancelBubble=!0},Qd.prototype.preventDefault=function(){this.defaultPrevented=!0},Qd.prototype.init=function(a){(0,ff.assign)(this,a||{})};var aj={};Object.defineProperty(aj,"__esModule",{value:!0}),aj.getVisual=Sd,aj.getChildren=Td;var bj={};Object.defineProperty(bj,"__esModule",{value:!0}),bj["default"]=Ud,Ud.$inject=["eventBus","elementRegistry"],Ud.prototype._getChildren=function(a){var b,c=this._elementRegistry.getGraphics(a);return a.parent?(b=(0,aj.getChildren)(c),b||(b=(0,Of.create)("g"),(0,Of.classes)(b).add("djs-children"),(0,Of.append)(c.parentNode,b))):b=c,b},Ud.prototype._clear=function(a){var b=(0,aj.getVisual)(a);return(0,cg.clear)(b),b},Ud.prototype._createContainer=function(a,b,c){var d=(0,Of.create)("g");(0,Of.classes)(d).add("djs-group"),"undefined"!=typeof c?Vd(d,b,b.childNodes[c]):(0,Of.append)(b,d);var e=(0,Of.create)("g");(0,Of.classes)(e).add("djs-element"),(0,Of.classes)(e).add("djs-"+a),(0,Of.append)(d,e);var f=(0,Of.create)("g");return(0,Of.classes)(f).add("djs-visual"),(0,Of.append)(e,f),e},Ud.prototype.create=function(a,b,c){var d=this._getChildren(b.parent);return this._createContainer(a,d,c)},Ud.prototype.updateContainments=function(a){var b,c=this,d=this._elementRegistry;b=(0,ff.reduce)(a,function(a,b){return b.parent&&(a[b.parent.id]=b.parent),a},{}),(0,ff.forEach)(b,function(a){var b=a.children;if(b){var e=c._getChildren(a);(0,ff.forEach)(b.slice().reverse(),function(a){var b=d.getGraphics(a);Vd(b.parentNode,e)})}})},Ud.prototype.drawShape=function(a,b){var c=this._eventBus;return c.fire("render.shape",{gfx:a,element:b})},Ud.prototype.getShapePath=function(a){var b=this._eventBus;return b.fire("render.getShapePath",a)},Ud.prototype.drawConnection=function(a,b){var c=this._eventBus;return c.fire("render.connection",{gfx:a,element:b})},Ud.prototype.getConnectionPath=function(a){var b=this._eventBus;return b.fire("render.getConnectionPath",a)},Ud.prototype.update=function(a,b,c){if(b.parent){var d=this._clear(c);if("shape"===a)this.drawShape(d,b),(0,$f.translate)(c,b.x,b.y);else{if("connection"!==a)throw new Error("unknown type: "+a);this.drawConnection(d,b)}b.hidden?(0,Of.attr)(c,"display","none"):(0,Of.attr)(c,"display","block")}},Ud.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);(0,Of.remove)(b.parentNode)};var cj={};Object.defineProperty(cj,"__esModule",{value:!0}),cj["default"]=Xd;var dj=Wd(ef),ej=Wd(Mf),fj=1;(0,dj["default"])(Xd,ej["default"]),Xd.prototype.canRender=function(){return!0},Xd.prototype.drawShape=function(a,b){var c=(0,Of.create)("rect");return(0,Of.attr)(c,{x:0,y:0,width:b.width||0,height:b.height||0}),(0,Of.attr)(c,this.SHAPE_STYLE),(0,Of.append)(a,c),c},Xd.prototype.drawConnection=function(a,b){var c=(0,Zf.createLine)(b.waypoints,this.CONNECTION_STYLE);return(0,Of.append)(a,c),c},Xd.prototype.getShapePath=function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]];return(0,Zf.componentsToPath)(f)},Xd.prototype.getConnectionPath=function(a){var b,c,d=a.waypoints,e=[];for(b=0;c=d[b];b++)c=c.original||c,e.push([0===b?"M":"L",c.x,c.y]);return(0,Zf.componentsToPath)(e)},Xd.$inject=["eventBus","styles"];var gj={};Object.defineProperty(gj,"__esModule",{value:!0}),gj["default"]=Yd;var hj={};Object.defineProperty(hj,"__esModule",{value:!0});var ij=Zd(cj),jj=Zd(gj);hj["default"]={__init__:["defaultRenderer"],defaultRenderer:["type",ij["default"]],styles:["type",jj["default"]]};var kj={};Object.defineProperty(kj,"__esModule",{value:!0});var lj=$d(hj),mj=$d(Qi),nj=$d(Vi),oj=$d(Ui),pj=$d(Xi),qj=$d(bj);kj["default"]={__depends__:[lj["default"]],__init__:["canvas"],canvas:["type",mj["default"]],elementRegistry:["type",nj["default"]],elementFactory:["type",oj["default"]],eventBus:["type",pj["default"]],graphicsFactory:["type",qj["default"]]};var rj={},sj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(rj,"__esModule",{value:!0});var tj=/^class /,uj=/constructor\s*[^(]*\(\s*([^)]*)\)/m,vj=/^function\s*[^(]*\(\s*([^)]*)\)/m,wj=/\/\*([^*]*)\*\//m,xj="function"==typeof Symbol&&"symbol"===sj(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":sj(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":sj(a)};rj.annotate=be,rj.Module=de,rj.Injector=fe;var yj={};Object.defineProperty(yj,"__esModule",{value:!0}),yj["default"]=ke;var zj=he(kj);ke.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},ke.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};var Aj=yj,Bj={};Object.defineProperty(Bj,"__esModule",{value:!0}),Bj["default"]=le,le.prototype.next=function(){return this._prefix+ ++this._counter};var Cj={};Object.defineProperty(Cj,"__esModule",{value:!0}),Cj["default"]=se;var Dj=me(Bj),Ej=new Dj["default"]("ov"),Fj=500;se.$inject=["config.overlays","eventBus","canvas","elementRegistry"],se.prototype.get=function(a){if((0,ff.isString)(a)&&(a={id:a}),(0,ff.isString)(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?(0,ff.filter)(b.overlays,(0,ff.matchPattern)({type:a.type})):b.overlays.slice():[]}return a.type?(0,ff.filter)(this._overlays,(0,ff.matchPattern)({type:a.type})):a.id?this._overlays[a.id]:null},se.prototype.add=function(a,b,c){if((0,ff.isObject)(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=(0,ff.assign)({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},se.prototype.remove=function(a){var b=this.get(a)||[];(0,ff.isArray)(b)||(b=[b]);var c=this;(0,ff.forEach)(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&((0,cg.remove)(a.html),(0,cg.remove)(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);d!==-1&&b.overlays.splice(d,1)}})},se.prototype.show=function(){pe(this._overlayRoot)},se.prototype.hide=function(){pe(this._overlayRoot,!1)},se.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,cg.clear)(this._overlayRoot)},se.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,e=b.y;if(b.waypoints){var f=(0,Pi.getBBox)(b);d=f.x,e=f.y}oe(c,d,e),(0,cg.attr)(a.html,"data-container-id",b.id)},se.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,e=b.left,f=b.top;if(void 0!==b.right){var g;g=d.waypoints?(0,Pi.getBBox)(d).width:d.width,e=b.right*-1+g}if(void 0!==b.bottom){var h;h=d.waypoints?(0,Pi.getBBox)(d).height:d.height,f=b.bottom*-1+h}oe(c,e||0,f||0)},se.prototype._createOverlayContainer=function(a){var b=(0,cg.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},se.prototype._updateRoot=function(a){var b=a.scale||1,c="matrix("+[b,0,0,b,-1*a.x*b,-1*a.y*b].join(",")+")";qe(this._overlayRoot,c)},se.prototype._getOverlayContainer=function(a,b){var c=(0,ff.find)(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a)},se.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&f.constructor.prototype.jquery&&(f=f.get(0)),(0,ff.isString)(f)&&(f=(0,cg.domify)(f)),c=this._getOverlayContainer(e),b=(0,cg.domify)('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&(0,cg.classes)(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},se.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=c&&c.minZoom,e=c&&c.maxZoom,f=a.htmlContainer,g=!0;c&&((re(d)&&d>b.scale||re(e)&&e<b.scale)&&(g=!1),pe(f,g)),this._updateOverlayScale(a,b)},se.prototype._updateOverlayScale=function(a,b){var c,d,e,f=a.scale,g=a.htmlContainer,h="";f!==!0&&(f===!1?(c=1,d=1):(c=f.min,d=f.max),re(c)&&b.scale<c&&(e=(1/b.scale||1)*c),re(d)&&b.scale>d&&(e=(1/b.scale||1)*d)),re(e)&&(h="scale("+e+","+e+")"),qe(g,h)},se.prototype._updateOverlaysVisibilty=function(a){var b=this;(0,ff.forEach)(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},se.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});(0,ff.forEach)(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){(0,cg.remove)(e.html);var f=c._overlayContainers.indexOf(e);f!==-1&&c._overlayContainers.splice(f,1)}}),b.on("element.changed",Fj,function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&((0,ff.forEach)(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&(0,cg.classes)(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)};var Gj={};Object.defineProperty(Gj,"__esModule",{value:!0});var Hj=te(Cj);Gj["default"]={__init__:["overlays"],overlays:["type",Hj["default"]]};var Ij={};Object.defineProperty(Ij,"__esModule",{value:!0}),Ij.getOriginal=ve,Ij.stopPropagation=we,Ij.toPoint=xe;var Jj={};Object.defineProperty(Jj,"__esModule",{value:!0}),Jj.isMac=ye;var Kj={};Object.defineProperty(Kj,"__esModule",{value:!0}),Kj.isMac=void 0,Object.defineProperty(Kj,"isMac",{enumerable:!0,get:function(){return Jj.isMac}}),Kj.isPrimaryButton=ze,Kj.hasPrimaryModifier=Ae,Kj.hasSecondaryModifier=Be;var Lj={};Object.defineProperty(Lj,"__esModule",{value:!0}),Lj["default"]=De;var Mj=500;De.$inject=["eventBus","elementRegistry","styles"];var Nj={};Object.defineProperty(Nj,"__esModule",{value:!0});var Oj=Ee(Lj);Nj["default"]={__init__:["interactionEvents"],interactionEvents:["type",Oj["default"]]};var Pj={};Object.defineProperty(Pj,"__esModule",{value:!0}),Pj["default"]=Fe;var Qj=500;Fe.prototype.updateShapeOutline=function(a,b){(0,Of.attr)(a,{x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},Fe.prototype.updateConnectionOutline=function(a,b){var c=(0,Pi.getBBox)(b);(0,Of.attr)(a,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},Fe.$inject=["eventBus","styles","elementRegistry"];var Rj={};Object.defineProperty(Rj,"__esModule",{value:!0});var Sj=Ge(Pj);Rj["default"]={__init__:["outline"],outline:["type",Sj["default"]]};var Tj={};Object.defineProperty(Tj,"__esModule",{value:!0}),Tj["default"]=He,He.$inject=["eventBus"],He.prototype.deselect=function(a){var b=this._selectedElements,c=b.indexOf(a);if(c!==-1){var d=b.slice();b.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:b})}},He.prototype.get=function(){return this._selectedElements},He.prototype.isSelected=function(a){return this._selectedElements.indexOf(a)!==-1},He.prototype.select=function(a,b){var c=this._selectedElements,d=c.slice();(0,ff.isArray)(a)||(a=a?[a]:[]),b?(0,ff.forEach)(a,function(a){c.indexOf(a)===-1&&c.push(a)}):this._selectedElements=c=a.slice(),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:c})};var Uj={};Object.defineProperty(Uj,"__esModule",{value:!0}),Uj["default"]=Ie,Ie.$inject=["eventBus","selection","canvas","elementRegistry"];var Vj={};Object.defineProperty(Vj,"__esModule",{value:!0}),Vj["default"]=Je;var Wj="hover",Xj="selected";Je.$inject=["eventBus","canvas","selection","styles"];var Yj={};Object.defineProperty(Yj,"__esModule",{value:!0});var Zj=Ke(Nj),$j=Ke(Rj),_j=Ke(Tj),ak=Ke(Vj),bk=Ke(Uj);Yj["default"]={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Zj["default"],$j["default"]],selection:["type",_j["default"]],selectionVisuals:["type",ak["default"]],selectionBehavior:["type",bk["default"]]};var ck=ff.assign,dk=ff.omit,ek=ff.isNumber,fk=cg.domify,gk=cg.query,hk=cg.remove,ik=Of.innerSVG,jk=Aj["default"],kk=Oi["default"],lk={width:"100%",height:"100%",position:"relative"};ef(Ne,jk);var mk=Ne;Ne.prototype.importXML=function(a,b){b=b||function(){};var c=this;a=this._emit("import.parse.start",{xml:a})||a,this._moddle.fromXML(a,"cmmn:Definitions",function(a,d,e){d=c._emit("import.parse.complete",{error:a,definitions:d,context:e})||d;var f=e.warnings;return a?(a=Le(a),c._emit("import.done",{error:a,warnings:f}),b(a,f)):void c.importDefinitions(d,function(a,d){var e=[].concat(f,d||[]);c._emit("import.done",{error:a,warnings:e}),b(a,e)})})},Ne.prototype.saveXML=function(a,b){b||(b=a,a={});var c=this._definitions;return c?void this._moddle.toXML(c,a,b):b(new Error("no definitions loaded"))},Ne.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=gk("defs",c._svg),f=ik(d),g=e&&e.outerHTML||"",h=d.getBBox(),i='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with cmmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>";b(null,i)},Ne.prototype.importDefinitions=function(a,b){try{this._definitions&&this.clear(),this._definitions=a,Eh.importCmmnDiagram(this,a,b)}catch(c){b(c)}},Ne.prototype.attachTo=function(a){if(!a)throw new Error("parentNode required");this.detach(),a.get&&a.constructor.prototype.jquery&&(a=a.get(0)),"string"==typeof a&&(a=gk(a)),a.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()},Ne.prototype.getDefinitions=function(){return this._definitions},Ne.prototype.detach=function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),b.removeChild(a))},Ne.prototype.getModules=function(){return this._modules},Ne.prototype.destroy=function(){jk.prototype.destroy.call(this),hk(this._container)},Ne.prototype.on=function(a,b,c,d){
return this.get("eventBus").on(a,b,c,d)},Ne.prototype.off=function(a,b){this.get("eventBus").off(a,b)},Ne.prototype._init=function(a,b,c){var d=c.modules||this.getModules(),e=c.additionalModules||[],f=[{cmmnjs:["value",this],moddle:["value",b]}],g=[].concat(f,d,e),h=ck(dk(c,"additionalModules"),{canvas:ck({},c.canvas,{container:a}),modules:g});jk.call(this,h),c&&c.container&&this.attachTo(c.container)},Ne.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},Ne.prototype._createContainer=function(a){var b=fk('<div class="cjs-container"></div>');return ck(b.style,{width:Me(a.width),height:Me(a.height),position:a.position}),b},Ne.prototype._createModdle=function(a){var b=ck({},this._moddleExtensions,a.moddleExtensions);return new kk(b)},Ne.prototype._modules=[wh,Yj["default"],Gj["default"]];var nk=cg.event,ok={};Object.defineProperty(ok,"__esModule",{value:!0}),ok.install=Pe;var pk=5e3,qk={};Object.defineProperty(qk,"__esModule",{value:!0}),qk.set=Qe,qk.unset=Re,qk.has=Se;var rk=/^djs-cursor-.*$/,sk={};Object.defineProperty(sk,"__esModule",{value:!0}),sk.center=Te,sk.delta=Ue;var tk={};Object.defineProperty(tk,"__esModule",{value:!0}),tk["default"]=We;var uk=15;We.$inject=["eventBus","canvas"];var vk={};Object.defineProperty(vk,"__esModule",{value:!0});var wk=Xe(tk);vk["default"]={__init__:["moveCanvas"],moveCanvas:["type",wk["default"]]};var xk={};Object.defineProperty(xk,"__esModule",{value:!0}),xk.log10=Ye,Object.defineProperty(xk,"substract",{enumerable:!0,get:function(){return sk.delta}});var yk={};Object.defineProperty(yk,"__esModule",{value:!0}),yk.getStepSize=Ze,yk.cap=$e;var zk={};Object.defineProperty(zk,"__esModule",{value:!0}),zk["default"]=_e;var Ak=Math.sign||function(a){return a>=0?1:-1},Bk={min:.2,max:4},Ck=10,Dk=.1,Ek=.75;_e.$inject=["config.zoomScroll","eventBus","canvas"],_e.prototype.scroll=function(a){this._canvas.scroll(a)},_e.prototype.reset=function(){this._canvas.zoom("fit-viewport")},_e.prototype.zoom=function(a,b){var c=(0,yk.getStepSize)(Bk,2*Ck);this._totalDelta+=a,Math.abs(this._totalDelta)>Dk&&(this._zoom(a,b,c),this._totalDelta=0)},_e.prototype._handleWheel=function(a){if(!(0,cg.closest)(a.target,".djs-scrollable",!0)){var b=this._container;a.preventDefault();var c,d=a.ctrlKey,e=a.shiftKey,f=-1*this._scale;if(f*=d?0===a.deltaMode?.02:.32:0===a.deltaMode?1:16,d){var g=b.getBoundingClientRect(),h={x:a.clientX-g.left,y:a.clientY-g.top};c=Math.sqrt(Math.pow(a.deltaY,2)+Math.pow(a.deltaX,2))*Ak(a.deltaY)*f,this.zoom(c,h)}else c=e?{dx:f*a.deltaY,dy:0}:{dx:f*a.deltaX,dy:f*a.deltaY},this.scroll(c)}},_e.prototype.stepZoom=function(a,b){var c=(0,yk.getStepSize)(Bk,Ck);this._zoom(a,b,c)},_e.prototype._zoom=function(a,b,c){var d=this._canvas,e=a>0?1:-1,f=(0,xk.log10)(d.zoom()),g=Math.round(f/c)*c;g+=c*e;var h=Math.pow(10,g);d.zoom((0,yk.cap)(Bk,h),b)},_e.prototype.toggle=function(a){var b=this._container,c=this._handleWheel,d=this._enabled;return"undefined"==typeof a&&(a=!d),d!==a&&cg.event[a?"bind":"unbind"](b,"wheel",c,!1),this._enabled=a,a},_e.prototype._init=function(a){this.toggle(a)};var Fk={};Object.defineProperty(Fk,"__esModule",{value:!0});var Gk=af(zk);Fk["default"]={__init__:["zoomScroll"],zoomScroll:["type",Gk["default"]]},ef(bf,mk);var Hk=bf;return bf.prototype._navigationModules=[Fk["default"],vk["default"]],bf.prototype._modules=[].concat(bf.prototype._modules,bf.prototype._navigationModules),Hk})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(a,b,c){(function(a,b){"use strict";function d(a){return Array.prototype.concat.apply([],a)}function e(a){return void 0===a}function f(a){return void 0!==a}function g(a){return"[object Array]"===Gs.call(a)}function h(a){return"[object Object]"===Gs.call(a)}function i(a){return"[object Number]"===Gs.call(a)}function j(a){return"[object Function]"===Gs.call(a)}function k(a){return"[object String]"===Gs.call(a)}function l(a,b){return Hs.call(a,b)}function m(a,b){b=C(b);var c;return p(a,function(a,d){if(b(a,d))return c=a,!1}),c}function n(a,b){b=C(b);var c=g(a)?-1:void 0;return p(a,function(a,d){if(b(a,d))return c=d,!1}),c}function o(a,b){var c=[];return p(a,function(a,d){b(a,d)&&c.push(a)}),c}function p(a,b){if(!e(a)){var c=g(a)?E:D;for(var d in a)if(l(a,d)){var f=a[d],h=b(f,c(d));if(h===!1)return}}}function q(a,b,c){return p(a,function(a,d){c=b(c,a,d)}),c}function r(a,b){return q(a,function(a,c,d){return a&&b(c,d)},!0)}function s(a,b){return!!m(a,b)}function t(a,b){var c=[];return p(a,function(a,d){c.push(b(a,d))}),c}function u(a){return a&&Object.keys(a)||[]}function v(a){return u(a).length}function w(a){return t(a,function(a){return a})}function x(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b=B(b),p(a,function(a){var d=b(a)||"_",e=c[d];e||(e=c[d]=[]),e.push(a)}),c}function y(a){a=B(a);for(var b={},c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];p(d,function(c){return x(c,a,b)});var f=t(b,function(a,b){return a[0]});return f}function z(a,b){b=B(b);var c=[];return p(a,function(a,d){for(var e=b(a,d),f={d:e,v:a},g=0;g<c.length;g++){var h=c[g].d;if(e<h)return void c.splice(g,0,f)}c.push(f)}),t(c,function(a){return a.v})}function A(a){return function(b){return r(a,function(a,c){return b[c]===a})}}function B(a){return j(a)?a:function(b){return b[a]}}function C(a){return j(a)?a:function(b){return b===a}}function D(a){return a}function E(a){return Number(a)}function F(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function G(a,b){var c;return function(){var d=Is.call(arguments);c&&clearTimeout(c),c=setTimeout(function(){a.apply(void 0,F(d))},b)}}function H(a,b){return a.bind(b)}function I(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Js.apply(void 0,[a].concat(c))}function J(a,b){var c={},d=Object(a);return p(b,function(b){b in d&&(c[b]=a[b])}),c}function K(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function L(){}function M(a,b){return a.apply(null,b)}function N(){}function O(a,b){this.model=a,this.properties=b}function P(a,b){var c=Ps[a];return c?c(b):b}function Q(a){return!!Os[a]}function R(a){return!!Ps[a]}function S(a,b){var c,d,e=a.split(/:/);if(1===e.length)c=a,d=b;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+a);c=e[1],d=e[0]}return a=(d?d+":":"")+c,{name:a,prefix:d,localName:c}}function T(a){this.ns=a,this.name=a.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function U(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,p(a,H(this.registerPackage,this))}function V(a,b,c){var d=b[c];if(d in a)throw new Error("package with "+c+" <"+d+"> already defined")}function W(a){this.model=a}function X(a){return"undefined"==typeof a}function Y(a,b,c){Object.defineProperty(a,b.name,{enumerable:!b.isReference,writable:!0,value:c,configurable:!0})}function Z(a){this.properties=new W(this),this.factory=new O(this,this.properties),this.registry=new U(a,this.properties),this.typeCache={}}function $(a,b){return b={exports:{}},a(b,b.exports),b.exports}function _(a,b,c,d){return d?Us.call(Ws,d)?Ws[d]:"&"+d+";":Ts(b?b:parseInt(c,16))}function aa(a){return a.length>3&&a.indexOf("&")!==-1?a.replace(Vs,_):a}function ba(a){return new Error(a)}function ca(a){return"missing namespace for prefix <"+a+">"}function da(a){return{get:a,enumerable:!0}}function ea(a){var b,c={};for(b in a)c[b]=a[b];return c}function fa(a){return a+"$uri"}function ga(a){var b,c,d={};for(b in a)c=a[b],d[c]=c,d[fa(c)]=b;return d}function ha(){return{line:0,column:0}}function ia(a){throw a}function ja(a){function b(a){a instanceof Error||(a=ba(a)),s=a,o(a,p)}function c(a){i&&(a instanceof Error||(a=ba(a)),i(a,p))}function d(a){function d(){if(null!==B)return B;var a,b,d,e,f,g,h,i,j,k,l,n=r&&D.xmlns,o=r&&q?[]:null,p=L,s=K,t=s.length,u={},v={};a:for(;p<t;p++)if(j=!1,k=s.charCodeAt(p),!(32===k||k<14&&k>8)){for((k<65||k>122||k>90&&k<97)&&95!==k&&58!==k&&(c("illegal first char attribute name"),j=!0),l=p+1;l<t;l++)if(k=s.charCodeAt(l),!(k>96&&k<123||k>64&&k<91||k>47&&k<59||46===k||45===k||95===k)){if(32===k||k<14&&k>8){c("missing attribute value"),p=l;continue a}if(61===k)break;c("illegal attribute name char"),j=!0}if(i=s.substring(p,l),"xmlns:xmlns"===i&&(c("illegal declaration of xmlns"),j=!0),k=s.charCodeAt(l+1),34===k)l=s.indexOf('"',p=l+2),l===-1&&(l=s.indexOf("'",p),l!==-1&&(c("attribute value quote missmatch"),j=!0));else if(39===k)l=s.indexOf("'",p=l+2),l===-1&&(l=s.indexOf('"',p),l!==-1&&(c("attribute value quote missmatch"),j=!0));else for(c("missing attribute value quotes"),j=!0,l+=1;l<t&&(k=s.charCodeAt(l+1),!(32===k||k<14&&k>8));l++);for(l===-1&&(c("missing closing quotes"),l=t,j=!0),j||(g=s.substring(p,l)),p=l;l+1<t&&(k=s.charCodeAt(l+1),!(32===k||k<14&&k>8));l++)p===l&&(c("illegal character after attribute end"),j=!0);if(p=l+1,!j)if(i in v)c("attribute <"+i+"> already defined");else if(v[i]=!0,r)if(q){if(f="xmlns"===i?"xmlns":120===i.charCodeAt(0)&&"xmlns:"===i.substr(0,6)?i.substr(6):null,null!==f){if(a=aa(g),b=fa(f),h=m[a],!h){if("xmlns"===f||b in D&&D[b]!==a){do h="ns"+F++;while("undefined"!=typeof D[h])}else h=f;m[a]=h}D[f]!==h&&(e||(D=ea(D),e=!0),D[f]=h,"xmlns"===f&&(D[fa(h)]=a,n=h),D[b]=a),u[i]=g;continue}o.push(i,g)}else k=i.indexOf(":"),k!==-1?(d=D[i.substring(0,k)])?(i=n===d?i.substr(k+1):d+i.substr(k),i===Zs&&(k=g.indexOf(":"),k!==-1?(d=g.substring(0,k),d=D[d]||d,g=d+g.substring(k)):g=n+":"+g),u[i]=g):c(ca(i.substring(0,k))):u[i]=g;else u[i]=g}if(q)for(p=0,t=o.length;p<t;p++){if(i=o[p++],g=o[p],k=i.indexOf(":"),k!==-1){if(!(d=D[i.substring(0,k)])){c(ca(i.substring(0,k)));continue}i=n===d?i.substr(k+1):d+i.substr(k),i===Zs&&(k=g.indexOf(":"),k!==-1?(d=g.substring(0,k),d=D[d]||d,g=d+g.substring(k)):g=n+":"+g)}u[i]=g}return B=u}function i(){for(var b,c,d=/(\r\n|\r|\n)/g,e=0,f=0,g=0,h=J;I>=g&&(b=d.exec(a))&&(h=b[0].length+b.index,!(h>I));)e+=1,g=h;return I==-1?(f=h,c=a.substring(J)):0===J?(console.log(I-g),c=a.substring(J,I)):(f=I-g,c=J==-1?a.substring(I):a.substring(I,J+1)),{data:c,line:e,column:f}}var o,s,u,v,w,x,y,z,A,B,C=r?[]:null,D=r?ga(m):null,E=[],F=0,G=!1,H=!1,I=0,J=0,K="",L=0;for(p=i,n&&(A=Object.create({},{name:da(function(){return y}),originalName:da(function(){return z}),attrs:da(d),ns:da(function(){return D})}));J!==-1;){if(I=60===a.charCodeAt(J)?J:a.indexOf("<",J),I===-1)return E.length?b("unexpected end of file"):0===J?b("missing start tag"):void(J<a.length&&a.substring(J).trim()&&c($s));if(J!==I)if(E.length){if(e&&(e(a.substring(J,I),aa,p),t))return}else if(a.substring(J,I).trim()&&(c($s),t))return;if(w=a.charCodeAt(I+1),33!==w)if(63!==w){if(J=a.indexOf(">",I+1),J==-1)return b("unclosed tag");if(B={},47===w){if(G=!1,H=!0,!E.length)return b("missing open tag");if(s=y=E.pop(),v=I+2+s.length,a.substring(I+2,v)!==s)return b("closing tag mismatch");for(;v<J;v++)if(w=a.charCodeAt(v),!(32===w||w>8&&w<14))return b("close tag")}else{if(47===a.charCodeAt(J-1)?(s=y=a.substring(I+1,J-1),G=!0,H=!0):(s=y=a.substring(I+1,J),G=!0,H=!1),!(w>96&&w<123||w>64&&w<91||95===w||58===w))return b("illegal first char nodeName");for(v=1,u=s.length;v<u;v++)if(w=s.charCodeAt(v),!(w>96&&w<123||w>64&&w<91||w>47&&w<59||45===w||95===w||46==w)){if(32===w||w<14&&w>8){y=s.substring(0,v),B=null;break}return b("invalid nodeName")}H||E.push(y)}if(r){if(o=D,G&&(H||C.push(o),null===B&&(q=s.indexOf("xmlns",v)!==-1)&&(L=v,K=s,d(),q=!1)),z=y,w=y.indexOf(":"),w!==-1){if(x=D[y.substring(0,w)],!x)return b("missing namespace on <"+z+">");y=y.substr(w+1)}else x=D.xmlns;x&&(y=x+":"+y)}if(G&&(L=v,K=s,f&&(n?f(A,aa,H,p):f(y,d,aa,H,p),t)))return;if(H){if(g&&(g(n?A:y,aa,G,p),t))return;r&&(D=G?o:C.pop())}J+=1}else{if(J=a.indexOf("?>",I),J===-1)return b("unclosed question");if(k&&(k(a.substring(I,J+2),p),t))return;J+=2}else{if(w=a.charCodeAt(I+2),91===w&&"CDATA["===a.substr(I+3,6)){if(J=a.indexOf("]]>",I),J===-1)return b("unclosed cdata");if(h&&(h(a.substring(I+9,J),p),t))return;J+=3;continue}if(45===w&&45===a.charCodeAt(I+3)){if(J=a.indexOf("-->",I),J===-1)return b("unclosed comment");if(j&&(j(a.substring(I+4,J),aa,p),t))return;J+=3;continue}if(J=a.indexOf(">",I+1),J===-1)return b("unclosed tag");if(l&&(l(a.substring(I,J+1),aa,p),t))return;J+=1}}}if(!this)return new ja(a);var e,f,g,h,i,j,k,l,m,n=a&&a.proxy,o=ia,p=ha,q=!1,r=!1,s=null,t=!1;this.on=function(a,b){if("function"!=typeof b)throw ba("required args <name, cb>");switch(a){case"openTag":f=b;break;case"text":e=b;break;case"closeTag":g=b;break;case"error":o=b;break;case"warn":i=b;break;case"cdata":h=b;break;case"attention":l=b;break;case"question":k=b;break;case"comment":j=b;break;default:throw ba("unsupported event: "+a)}return this},this.ns=function(a){if("undefined"==typeof a&&(a={}),"object"!==("undefined"==typeof a?"undefined":Ss(a)))throw ba("required args <nsMap={}>");var b,c={};for(b in a)c[b]=a[b];return c[Xs]=Ys,r=!0,m=c,this},this.parse=function(a){if("string"!=typeof a)throw ba("required args <xml=string>");return s=null,d(a),p=ha,t=!1,s},this.stop=function(){t=!0}}function ka(a){return a.xml&&"lowerCase"===a.xml.tagAlias}function la(a){return a.xml&&a.xml.serialize}function ma(a){return la(a)===at}function na(a){return"property"===la(a)}function oa(a){return a.charAt(0).toUpperCase()+a.slice(1)}function pa(a,b){return ka(b)?a.prefix+":"+oa(a.localName):a.name}function qa(a,b){var c=a.name,d=a.localName,e=b.xml&&b.xml.typePrefix;return e&&0===d.indexOf(e)?a.prefix+":"+d.slice(e.length):c}function ra(a,b){var c=S(a),d=b.getPackage(c.prefix);return qa(c,d)}function sa(a){return new Error(a)}function ta(a){return a.$descriptor}function ua(a){setTimeout(a,0)}function va(a){I(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw sa("expected element");var b,c=this.elementsById,d=ta(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(c[b])throw sa("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function wa(){}function xa(){}function ya(){}function za(a,b){this.property=a,this.context=b}function Aa(a,b){this.element=b,this.propertyDesc=a}function Ba(){}function Ca(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function Da(a,b,c){Ca.call(this,a,b,c)}function Ea(a,b,c){this.model=a,this.context=c}function Fa(a){a instanceof Z&&(a={model:a}),I(this,{lax:!1},a)}function Ga(a){var b={},c={},d={},e=[],f=[];this.byUri=function(b){return c[b]||a&&a.byUri(b)},this.add=function(a,b){c[a.uri]=a,b?e.push(a):f.push(a),this.mapPrefix(a.prefix,a.uri)},this.uriByPrefix=function(a){return b[a||"xmlns"]},this.mapPrefix=function(a,c){b[a||"xmlns"]=c},this.logUsed=function(a){var b=a.uri;d[b]=this.byUri(b)},this.getUsed=function(a){function b(a){return d[a.uri]}var c=[].concat(e,f);return c.filter(b)}}function Ha(a){return a.charAt(0).toLowerCase()+a.slice(1)}function Ia(a,b){return ka(b)?Ha(a):a}function Ja(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}function Ka(a){return k(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function La(a){return t(a.getUsed(),function(a){var b="xmlns"+(a.prefix?":"+a.prefix:"");return{name:b,value:a.uri}})}function Ma(a,b){return b.isGeneric?I({localName:b.ns.localName},a):I({localName:Ia(b.ns.localName,b.$pkg)},a)}function Na(a,b){return I({localName:b.ns.localName},a)}function Oa(a){var b=a.$descriptor;return o(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d!==b["default"]&&(null!==d&&(!b.isMany||d.length))})}function Pa(a,b,c){return a=k(a)?a:""+a,a.replace(b,function(a){return"&"+c[a]+";"})}function Qa(a){return Pa(a,ct,et)}function Ra(a){return Pa(a,dt,ft)}function Sa(a){return o(a,function(a){return a.isAttr})}function Ta(a){return o(a,function(a){return!a.isAttr})}function Ua(a){this.tagName=a}function Va(){}function Wa(a){this.tagName=a}function Xa(a,b){this.body=[],this.attrs=[],this.parent=a,this.propertyDescriptor=b}function Ya(a,b){Xa.call(this,a,b)}function Za(){this.value="",this.write=function(a){this.value+=a}}function $a(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function _a(a){function b(b,c){var d=c||new Za,e=new $a(d,a.format);if(a.preamble&&e.append(bt),(new Xa).build(b).serializeTo(e),!c)return d.value}return a=I({format:!1,preamble:!0},a||{}),{toXML:b}}function ab(a,b){Z.call(this,a,b)}function bb(a,b){var c=I({},Ft,a);return new ab(c,b)}function cb(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}function db(a){return new eb(a)}function eb(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function fb(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}function gb(a,b){if(Mt)return Mt.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}function hb(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=_t[d]||_t._default,g=f[0],h=f[1],i=f[2],e=b.createElement("div");for(e.innerHTML=h+a+i;g--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var j=b.createDocumentFragment();e.firstChild;)j.appendChild(e.removeChild(e.firstChild));return j}function ib(a,b){if(!a||1!==a.nodeType)return!1;if(bu)return bu.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;d++)if(c[d]==a)return!0;return!1}function jb(a,b){return b=b||document,b.querySelector(a)}function kb(a,b){return b=b||document,b.querySelectorAll(a)}function lb(a){a.parentNode&&a.parentNode.removeChild(a)}function mb(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function nb(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ob(){}function pb(a){return a+(i(a)?"px":"")}function qb(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c&&(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid DMN 1.1 diagram file"+c[2]),a}function rb(a,b){return a.filter(b)[0]}function sb(a,b){return"undefined"==typeof a?"undefined"==typeof b:"undefined"!=typeof b&&(a.element===b.element||a.element.id===b.element.id)}function tb(a,b){"function"==typeof a[b]&&a[b]()}function ub(a){return lu.test(a.toString())}function vb(a){return"[object Array]"===Object.prototype.toString.call(a)}function wb(){var a=Array.prototype.slice.call(arguments);1===a.length&&vb(a[0])&&(a=a[0]);var b=a.pop();return b.$inject=a,b}function xb(a){if("function"!=typeof a)throw new Error('Cannot annotate "'+a+'". Expected a function!');var b=a.toString().match(ub(a)?mu:nu);return b?b[1]&&b[1].split(",").map(function(a){return b=a.match(ou),b?b[1].trim():a.trim()})||[]:[]}function yb(){var a=[];this.factory=function(b,c){return a.push([b,"factory",c]),this},this.value=function(b,c){return a.push([b,"value",c]),this},this.type=function(b,c){return a.push([b,"type",c]),this},this.forEach=function(b){a.forEach(b)}}function zb(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function Ab(a,b){b=b||{get:function(a,b){if(c.push(a),b===!1)return null;throw g('No provider for "'+a+'"!')}};var c=[],d=this._providers=Object.create(b._providers||null),e=this._instances=Object.create(null),f=e.injector=this,g=function(a){var b=c.join(" -> ");return c.length=0,new Error(b?a+" (Resolving: "+b+")":a)},h=function o(a,f){if(!d[a]&&a.indexOf(".")!==-1){for(var h=a.split("."),i=o(h.shift());h.length;)i=i[h.shift()];return i}if(Bb(e,a))return e[a];if(Bb(d,a)){if(c.indexOf(a)!==-1)throw c.push(a),g("Cannot resolve circular dependency!");return c.push(a),e[a]=d[a][0](d[a][1]),c.pop(),e[a]}return b.get(a,f)},i=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof a){if(!vb(a))throw new Error('Cannot invoke "'+a+'". Expected a function!');a=wb(a.slice())}var c=a.$inject||xb(a),d=c.map(function(a){return Bb(b,a)?b[a]:h(a)});return{fn:a,dependencies:d}},j=function(a){var b=i(a),c=b.dependencies,d=b.fn;return new(Function.prototype.bind.apply(d,[null].concat(zb(c))))},k=function(a,b,c){var d=i(a,c),e=d.dependencies,f=d.fn;return f.call.apply(f,[b].concat(zb(e)))},l=function(a){return wb(function(b){return a.get(b)})},m=function(a,b){if(b&&b.length){var c,e,g,h,i=Object.create(null),j=Object.create(null),k=[],m=[],n=[];for(var o in d)c=d[o],b.indexOf(o)!==-1&&("private"===c[2]?(e=k.indexOf(c[3]),e===-1?(g=c[3].createChild([],b),h=l(g),k.push(c[3]),m.push(g),n.push(h),i[o]=[h,o,"private",g]):i[o]=[n[e],o,"private",m[e]]):i[o]=[c[2],c[1]],j[o]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||b.forEach(function(a){c[1].$scope.indexOf(a)!==-1&&(i[o]=[c[2],c[1]],j[a]=!0)});b.forEach(function(a){if(!j[a])throw new Error('No provider for "'+a+'". Cannot use provider from the parent!')}),a.unshift(i)}return new Ab(a,f)},n={factory:k,type:j,value:function(a){return a}};a.forEach(function(a){function b(a,b){return"value"!==a&&vb(b)&&(b=wb(b.slice())),b}if(a instanceof yb)a.forEach(function(a){var c=a[0],e=a[1],f=a[2];d[c]=[n[e],b(e,f),e]});else if("object"===("undefined"==typeof a?"undefined":pu(a)))if(a.__exports__){var c=Object.keys(a).reduce(function(b,c){return"__"!==c.substring(0,2)&&(b[c]=a[c]),b},Object.create(null)),e=new Ab((a.__modules__||[]).concat([c]),f),g=wb(function(a){return e.get(a)});a.__exports__.forEach(function(a){d[a]=[g,a,"private",e]})}else Object.keys(a).forEach(function(c){if("private"===a[c][2])return void(d[c]=a[c]);var e=a[c][0],f=a[c][1];d[c]=[n[e],b(e,f),e]})}),this.get=h,this.invoke=k,this.instantiate=j,this.createChild=m}function Bb(a,b){return Object.hasOwnProperty.call(a,b)}function Cb(a,b){var c=this;b=b||qu,a.on(["render.shape","render.connection"],b,function(a,b){var d=a.type,e=b.element,f=b.gfx;if(c.canRender(e))return"render.shape"===d?c.drawShape(f,e):c.drawConnection(f,e)}),a.on(["render.getShapePath","render.getConnectionPath"],b,function(a,b){if(c.canRender(b))return"render.getShapePath"===a.type?c.getShapePath(b):c.getConnectionPath(b)})}function Db(a,b){if(a.ownerDocument!==b.ownerDocument)try{return b.ownerDocument.importNode(a,!0)}catch(c){}return a}function Eb(a,b){return b.appendChild(Db(a,b))}function Fb(a,b){return Eb(b,a),a}function Gb(a,b){return su[b]?a.style[b]:a.getAttributeNS(null,b)}function Hb(a,b,c){var d=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=su[d];e?(e===ru&&"number"==typeof c&&(c=String(c)+"px"),a.style[d]=c):a.setAttributeNS(null,b,c)}function Ib(a,b){var c,d,e=Object.keys(b);for(c=0,d;d=e[c];c++)Hb(a,d,b[d])}function Jb(a,b,c){if("string"==typeof b){if(void 0===c)return Gb(a,b);Hb(a,b,c)}else Ib(a,b);return a}function Kb(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function Lb(a){return"undefined"!=typeof a}function Mb(a){return new Nb(a)}function Nb(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function Ob(a){var b=a.parentNode;return b&&b.removeChild(a),a}function Pb(a){for(var b;b=a.firstChild;)Ob(b);return a}function Qb(a){return a.cloneNode(!0)}function Rb(a){var b=!1;"<svg"===a.substring(0,4)?a.indexOf(vu.svg)===-1&&(a=wu+a.substring(4)):(a=wu+">"+a+"</svg>",b=!0);var c=Sb(a);if(!b)return c;for(var d=document.createDocumentFragment(),e=c.firstChild;e.firstChild;)d.appendChild(e.firstChild);return d}function Sb(a){var b;return b=new DOMParser,b.async=!1,b.parseFromString(a,"text/xml")}function Tb(a,b){var c;return"<"===a.charAt(0)?(c=Rb(a).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(vu.svg,a),b&&Jb(c,b),c}function Ub(a,b){var c,d,e=Object.keys(b);for(c=0;d=e[c];c++)a[d]=b[d];return a}function Vb(a,b,c,d,e,f){var g=xu.createSVGMatrix();switch(arguments.length){case 0:return g;case 6:a={a:a,b:b,c:c,d:d,e:e,f:f}}return Ub(g,a)}function Wb(a){return a?xu.createSVGTransformFromMatrix(a):xu.createSVGTransform()}function Xb(a,b){function c(a,b){return Au[b]||b}return a.replace(b,c)}function Yb(a,b){var c,d,e,f,g;switch(a.nodeType){case 3:b.push(Xb(a.textContent,yu));break;case 1:if(b.push("<",a.tagName),a.hasAttributes())for(e=a.attributes,c=0,d=e.length;c<d;++c)f=e.item(c),b.push(" ",f.name,'="',Xb(f.value,zu),'"');if(a.hasChildNodes()){for(b.push(">"),g=a.childNodes,c=0,d=g.length;c<d;++c)Yb(g.item(c),b);b.push("</",a.tagName,">")}else b.push("/>");break;case 8:b.push("<!--",Xb(a.nodeValue,yu),"-->");break;case 4:b.push("<![CDATA[",a.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+a.nodeType)}return b}function Zb(a,b){var c=Rb(b);if(Pb(a),b){_b(c)||(c=c.documentElement);for(var d=bc(c.childNodes),e=0;e<d.length;e++)Eb(d[e],a)}}function $b(a){for(var b=a.firstChild,c=[];b;)Yb(b,c),b=b.nextSibling;return c.join("")}function _b(a){return"#document-fragment"===a.nodeName}function ac(a,b){if(void 0!==b){try{Zb(a,b)}catch(c){throw new Error("error parsing SVG: "+c.message)}return a}return $b(a)}function bc(a){return Array.prototype.slice.call(a)}function cc(a,b){return b instanceof SVGMatrix?a.createSVGTransformFromMatrix(b):b}function dc(a,b){var c,d;for(a.clear(),c=0;d=b[c];c++)a.appendItem(cc(a,d));a.consolidate()}function ec(a,b){var c=a.transform.baseVal;return 1===arguments.length?c.consolidate():void(b.length?dc(c,b):c.initialize(cc(c,b)))}function fc(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")}function gc(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}function hc(a,b){var c=Tb("polyline");return Jb(c,{points:gc(a)}),b&&Jb(c,b),c}function ic(a,b){return Jb(a,{points:gc(b)}),a}function jc(a,b){Cb.call(this,a,Bu),this.CONNECTION_STYLE=b.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=b.style({fill:"white",stroke:"fuchsia",strokeWidth:2})}function kc(){var a={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},b=this;this.cls=function(a,b,c){var d=this.style(b,c);return I(d,{"class":a})},this.style=function(b,c){g(b)||c||(c=b,b=[]);var d=q(b,function(b,c){return I(b,a[c]||{})},{});return c?I(d,c):d},this.computeStyle=function(a,c,d){return g(c)||(d=c,c=[]),b.style(c||[],I({},d,a||{}))}}function lc(a,b){if(!a||!b)return-1;var c=a.indexOf(b);return c!==-1&&a.splice(c,1),c}function mc(a,b,c){if(a&&b){"number"!=typeof c&&(c=-1);var d=a.indexOf(b);if(d!==-1){if(d===c)return;if(c===-1)return;a.splice(d,1)}c!==-1?a.splice(c,0,b):a.push(b)}}function nc(a,b){return a&&b?a.indexOf(b):-1}function oc(a,b,c){var d=!c||a.indexOf(b)===-1;return d&&a.push(b),d}function pc(a,b,c){c=c||0,g(a)||(a=[a]),p(a,function(a,d){var e=b(a,d,c);g(e)&&e.length&&pc(e,b,c+1)})}function qc(a,b,c){var d=[],e=[];return pc(a,function(a,f,g){oc(d,a,b);var h=a.children;if((c===-1||g<c)&&h&&oc(e,h,b))return h}),d}function rc(a,b){return qc(a,!b,-1)}function sc(a,b,c){function d(a){l[a.source.id]&&l[a.target.id]&&(l[a.id]=[a]),g[a.source.id]&&g[a.target.id]&&(k[a.id]=j[a.id]=a),i[a.id]=a}function f(a){return j[a.id]=a,a.waypoints?void(k[a.id]=i[a.id]=a):(g[a.id]=a,p(a.incoming,d),p(a.outgoing,d),a.children)}e(b)&&(b=!0),h(b)&&(c=b,b=!0),c=c||{};var g=wc(c.allShapes),i=wc(c.allConnections),j=wc(c.enclosedElements),k=wc(c.enclosedConnections),l=wc(c.topLevel,b&&x(a,function(a){return a.id}));return pc(a,f),{allShapes:g,allConnections:i,topLevel:l,enclosedConnections:k,enclosedElements:j}}function tc(a,b){b=!!b,g(a)||(a=[a]);var c,d,e,f;return p(a,function(a){var g=a;a.waypoints&&!b&&(g=tc(a.waypoints,!0));var h=g.x,i=g.y,j=g.height||0,k=g.width||0;(h<c||void 0===c)&&(c=h),(i<d||void 0===d)&&(d=i),(h+k>e||void 0===e)&&(e=h+k),(i+j>f||void 0===f)&&(f=i+j)}),{x:c,y:d,height:f-d,width:e-c}}function uc(a,b){var c={};return p(a,function(a){var d=a;d.waypoints&&(d=tc(d)),!i(b.y)&&d.x>b.x&&(c[a.id]=a),!i(b.x)&&d.y>b.y&&(c[a.id]=a),d.x>b.x&&d.y>b.y&&(i(b.width)&&i(b.height)&&d.width+d.x<b.width+b.x&&d.height+d.y<b.height+b.y?c[a.id]=a:i(b.width)&&i(b.height)||(c[a.id]=a))}),c}function vc(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}function wc(a,b){return I({},a||{},b||{})}function xc(a,b){return Math.round(a*b)/b}function yc(a){return i(a)?a+"px":a}function zc(a){a=I({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","djs-container"),I(c.style,{position:"relative",overflow:"hidden",width:yc(a.width),height:yc(a.height)}),b.appendChild(c),c}function Ac(a,b,c){var d=Tb("g");Mb(d).add(b);var e=void 0!==c?c:a.childNodes.length-1;return a.insertBefore(d,a.childNodes[e]||null),d}function Bc(a,b,c,d){this._eventBus=b,this._elementRegistry=d,this._graphicsFactory=c,this._init(a||{})}function Cc(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}function Dc(a){this._elements={},this._eventBus=a}function Ec(a,b,c,d){var e=c.inverse;return Object.defineProperty(a,"remove",{value:function(a){var c=this.indexOf(a);return c!==-1&&(this.splice(c,1),b.unset(a,e,d)),a}}),Object.defineProperty(a,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(a,"add",{value:function(a,c){var f=this.indexOf(a);if("undefined"==typeof c){if(f!==-1)return;c=this.length}f!==-1&&this.splice(f,1),this.splice(c,0,a),f===-1&&b.set(a,e,d)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function Fc(a){return a.__refs_collection===!0}function Gc(a,b){return Object.prototype.hasOwnProperty.call(a,b.name||b)}function Hc(a,b,c){var d=Ju.extend(c[b.name]||[],a,b,c);Object.defineProperty(c,b.name,{enumerable:b.enumerable,value:d}),d.length&&d.forEach(function(d){a.set(d,b.inverse,c)})}function Ic(a,b,c){var d=b.inverse,e=c[b.name];Object.defineProperty(c,b.name,{configurable:b.configurable,enumerable:b.enumerable,get:function(){return e},set:function(b){if(b!==e){var f=e;e=null,f&&a.unset(f,d,c),e=b,a.set(e,d,c)}}})}function Jc(a,b){return this instanceof Jc?(a.inverse=b,b.inverse=a,this.props={},this.props[a.name]=a,void(this.props[b.name]=b)):new Jc(a,b)}function Kc(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(a){var b=this.label,c=this.labels;!a&&b?c.remove(b):c.add(a,0)}}),Nu.bind(this,"parent"),Ou.bind(this,"labels"),Qu.bind(this,"outgoing"),Ru.bind(this,"incoming")}function Lc(){Kc.call(this),Nu.bind(this,"children"),Pu.bind(this,"host"),Pu.bind(this,"attachers")}function Mc(){Lc.call(this)}function Nc(){Lc.call(this),Ou.bind(this,"labelTarget")}function Oc(){Kc.call(this),Qu.bind(this,"source"),Ru.bind(this,"target")}function Pc(a,b){var c=Su[a];if(!c)throw new Error("unknown type: <"+a+">");return I(new c,b)}function Qc(){this._uid=12}function Rc(a){return jb(".djs-visual",a)}function Sc(a){return a.parentNode.childNodes[1]}function Tc(a,b,c){var d=Wb();d.setTranslate(b,c),ec(a,d)}function Uc(a,b){var c=Wb();c.setRotate(b,0,0),ec(a,c)}function Vc(a,b){this._eventBus=a,this._elementRegistry=b}function Wc(a,b,c){b.insertBefore(a,c||b.firstChild)}function Xc(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new Ab(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a);
}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function Yc(a){a=a||{};var b={config:["value",a]},c=[b,Tu].concat(a.modules||[]);return Xc(c)}function Zc(a,b){this.injector=b=b||Yc(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("diagram.init")}function $c(a,b){var c=bd(a);return c&&"function"==typeof c.$instanceOf&&c.$instanceOf(b)}function _c(a){return $c(a,"dmn:InputClause")}function ad(a){return $c(a,"dmn:OutputClause")}function bd(a){return a&&a.businessObject||a}function cd(a){return bd(a).name}function dd(a,b){return s(b,function(b){return $c(a,b)})}function ed(a){return a&&a.href.slice(1)}function fd(a,b){function c(b,c){var d=b.gfx;if(d)throw new Error("already rendered "+b.id);return a.element(b,c)}function d(b){a.root(b),p(["decision","drgElements","artifacts"],function(a){b[a]&&p(b[a],f)}),e(i)}function e(a){p(a,function(a){a()})}function f(a){var b=[];h(a,function(d){$c(d,"biodi:Bounds")?c(a,d):$c(d,"biodi:Edge")&&b.push(d)}),g(b,a)}function g(a,b){function d(b,d){var e=ed(d),f=m(a,A({source:e}));f&&i.push(function(){c(b,f)})}return $c(b,"dmn:Association")?d(b,b.sourceRef):void p(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(a){p(b[a],function(a){var b=null;$c(a,"dmn:InformationRequirement")?b=["requiredDecision","requiredInput"]:$c(a,"dmn:KnowledgeRequirement")?b=["requiredKnowledge"]:$c(a,"dmn:AuthorityRequirement")&&(b=["requiredDecision","requiredInput","requiredAuthority"]),b&&p(b,function(b){a[b]&&d(a,a[b])})})})}function h(a,b){var c=a.extensionElements;c&&p(c.values,b)}var i=[];return{handleDefinitions:d}}function gd(a,b,c){function d(a){var b={root:function(a){return f.root(a)},element:function(a,b){return f.add(a,b)},error:function(a,b){h.push({message:a,context:b})}},c=new fd(b);c.handleDefinitions(a)}var e,f=a.get("drdImporter"),g=a.get("eventBus"),h=[];g.fire("import.start",{definitions:b});try{d(b)}catch(i){e=i}g.fire("import.done",{error:e,warnings:h}),c(e,h)}function hd(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function id(a){return h(a)?I({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function jd(a,b){b.textContent=a;var c;try{var d,e=""===a;return b.textContent=e?"dummy":a,c=b.getBBox(),d={width:c.width+2*c.x,height:c.height},e&&(d.width=0),d}catch(f){return{width:0,height:0}}}function kd(a,b,c){for(var d,e=a.shift(),f=e;;){if(d=jd(f,c),d.width=f?d.width:0," "===f||""===f||d.width<Math.round(b)||f.length<2)return ld(a,f,e,d);f=nd(f,d.width,b)}}function ld(a,b,c,d){if(b.length<c.length){var e=c.slice(b.length).trim();a.unshift(e)}return{width:d.width,height:d.height,text:b}}function md(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function nd(a,b,c){var d=Math.max(a.length*(c/b),1),e=md(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function od(){var a=document.getElementById("helper-svg");return a||(a=Tb("svg"),Jb(a,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(a)),a}function pd(a){this._config=I({},{size:Wu,padding:Vu,style:{},align:"center-top"},a||{})}function qd(a){if("fontSize"in a&&"lineHeight"in a)return a.lineHeight*parseInt(a.fontSize,10)}function rd(a,b,c){function d(a,b){s[a]=b}function e(a){var b=s[a];return"url(#"+b.id+")"}function f(a){function b(b,c){var e=I({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},c.attrs),f=c.ref||{x:0,y:0},g=c.scale||1;"none"===e.strokeDasharray&&(e.strokeDasharray=[1e4,1]);var h=Tb("marker");Jb(c.element,e),Fb(h,c.element),Jb(h,{id:b,viewBox:"0 0 20 20",refX:f.x,refY:f.y,markerWidth:20*g,markerHeight:20*g,orient:"auto"});var i=jb("defs",a);return i||(i=Tb("defs"),Fb(a,i)),Fb(i,h),d(b,h)}var c=Tb("path");Jb(c,{d:"M 11 5 L 1 10 L 11 15"}),b("association-start",{element:c,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var e=Tb("path");Jb(e,{d:"M 1 5 L 11 10 L 1 15"}),b("association-end",{element:e,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var f=Tb("path");Jb(f,{d:"M 1 5 L 11 10 L 1 15 Z"}),b("information-requirement-end",{element:f,ref:{x:11,y:10},scale:1});var g=Tb("path");Jb(g,{d:"M 1 3 L 11 10 L 1 17"}),b("knowledge-requirement-end",{element:g,attrs:{fill:"none",stroke:"black",strokeWidth:2},ref:{x:11,y:10},scale:.8});var h=Tb("circle");Jb(h,{cx:3,cy:3,r:3}),b("authority-requirement-end",{element:h,ref:{x:3,y:3},scale:.9})}function i(a,b,d){return g(b)||(d=b,b=[]),c.style(b||[],I(d,a||{}))}function j(a,b,c,d,e,f){h(e)&&(f=e,e=0),e=e||0,f=i(f,{stroke:"black",strokeWidth:2,fill:"white"});var g=Tb("rect");return Jb(g,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),Jb(g,f),Fb(a,g),g}function k(a,b,c){var d=r.createText(b||"",c);return cb(d,"class","djs-label"),Fb(a,d),d}function l(a,b,c){var d=cd(b);return k(a,d,{box:b,align:c,padding:5})}function m(a,b,c){c=i(c,["no-fill"],{strokeWidth:2,stroke:"black"});var d=Tb("path");return Jb(d,{d:b}),Jb(d,c),Fb(a,d),d}function n(a,b){var c=t[b.type];return c?c(a,b):Cb.prototype.drawShape.apply(this,[a,b])}function o(a,b){var c=b.type,d=t[c];return d?d(a,b):Cb.prototype.drawConnection.apply(this,[a,b])}function p(a,b,c){c=i(c,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var d=hc(b,c);return Fb(a,d),d}Cb.call(this,a);var q={fontFamily:"Arial, sans-serif",fontSize:"12px"},r=new pd({style:q,size:{width:100}}),s={},t={"dmn:Decision":function(a,b,c){var d=j(a,b.width,b.height,0,c);return l(a,b,"center-middle"),d},"dmn:KnowledgeSource":function(a,c,d){var e=b.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.075}}),f=m(a,e,{strokeWidth:2,fill:"white",stroke:"black"});return l(a,c,"center-middle"),f},"dmn:BusinessKnowledgeModel":function(a,c,d){var e=b.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.3}}),f=m(a,e,{strokeWidth:2,fill:"white",stroke:"black"});return l(a,c,"center-middle"),f},"dmn:InputData":function(a,b,c){var d=j(a,b.width,b.height,22,c);return l(a,b,"center-middle"),d},"dmn:TextAnnotation":function(a,c,d){var e={fill:"none",stroke:"none"},f=j(a,c.width,c.height,0,0,e),g=b.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:0}});m(a,g);var h=sd(c).text||"";return k(a,h,{box:c,align:"left-middle",padding:5}),f},"dmn:Association":function(a,b,c){var d=sd(b);return c=I({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},c||{}),"One"!==d.associationDirection&&"Both"!==d.associationDirection||(c.markerEnd=e("association-end")),"Both"===d.associationDirection&&(c.markerStart=e("association-start")),p(a,b.waypoints,c)},"dmn:InformationRequirement":function(a,b,c){return c=I({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:e("information-requirement-end")},c||{}),p(a,b.waypoints,c)},"dmn:KnowledgeRequirement":function(a,b,c){return c=I({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:e("knowledge-requirement-end")},c||{}),p(a,b.waypoints,c)},"dmn:AuthorityRequirement":function(a,b,c){return c=I({strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:e("authority-requirement-end")},c||{}),p(a,b.waypoints,c)}};this.canRender=function(a){return $c(a,"dmn:DMNElement")||$c(a,"dmn:InformationRequirement")||$c(a,"dmn:KnowledgeRequirement")||$c(a,"dmn:AuthorityRequirement")},this.drawShape=n,this.drawConnection=o,a.on("canvas.init",function(a){f(a.svg)})}function sd(a){return a.businessObject}function td(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var f={};if(b.position){for(var g=b.containerHeight/e.height*b.yScaleFactor,h=b.containerWidth/e.width*b.xScaleFactor,i=0;i<e.heightElements.length;i++)f["y"+i]=e.heightElements[i]*g;for(var j=0;j<e.widthElements.length;j++)f["x"+j]=e.widthElements[j]*h}var k=vd(e.d,{mx:c,my:d,e:f});return k}}function ud(a,b,c){var d=c;return b.replace(Yu,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function vd(a,b){return String(a).replace(Xu,function(a,c){return ud(a,c,b)})}function wd(a,b){return I({id:a.id,type:a.$type,businessObject:a},b)}function xd(a){return a&&a.href.slice(1)}function yd(a){var b=a.waypoints;if(b)return t(b,function(a){var b={x:a.x,y:a.y};return I({original:b},b)})}function zd(a,b,c,d){this._eventBus=a,this._canvas=b,this._elementRegistry=d,this._elementFactory=c}function Ad(a,b){return b=b||{},a.replace(/{([^}]+)}/g,function(a,c){return b[c]||"{"+c+"}"})}function Bd(a){a&&"function"==typeof a.stopPropagation&&a.stopPropagation()}function Cd(a){return a.originalEvent||a.srcEvent}function Dd(a,b){Bd(a,b),Bd(Cd(a),b)}function Ed(a){return a.pointers&&a.pointers.length&&(a=a.pointers[0]),a.touches&&a.touches.length&&(a=a.touches[0]),a?{x:a.clientX,y:a.clientY}:null}function Fd(){return/mac/i.test(navigator.platform)}function Gd(a){return!(Cd(a)||a).button}function Hd(a){var b=Cd(a)||a;return!!Gd(a)&&(Fd()?b.metaKey:b.ctrlKey)}function Id(a){var b=Cd(a)||a;return Gd(a)&&b.shiftKey}function Jd(a){return!0}function Kd(a,b,c){function d(c,d,e){if(!f(c,d)){var g,h,i;e?h=b.getGraphics(e):(g=d.delegateTarget||d.target,g&&(h=g,e=b.get(h))),h&&e&&(i=a.fire(c,{element:e,gfx:h,originalEvent:d}),i===!1&&(d.stopPropagation(),d.preventDefault()))}}function e(a){return m[a]}function f(a,b){var c=o[a]||Gd;return!c(b)}function g(a,b,c){var e=n[a];if(!e)throw new Error("unmapped DOM event name <"+a+">");return d(e,b,c)}function h(a,b,c,e){var f=m[c]=function(a){d(c,a)};e&&(o[c]=e),f.$delegate=Yt.bind(a,q,b,f)}function i(a,b,c){var d=e(c);d&&Yt.unbind(a,b,d.$delegate)}function j(a){p(n,function(b,c){h(a,c,b)})}function k(a){p(n,function(b,c){i(a,c,b)})}var l=c.cls("djs-hit",["no-fill","no-border"],{stroke:"white",strokeWidth:15}),m={},n={mouseover:"element.hover",mouseout:"element.out",click:"element.click",dblclick:"element.dblclick",mousedown:"element.mousedown",mouseup:"element.mouseup",contextmenu:"element.contextmenu"},o={"element.contextmenu":Jd},q="svg, .djs-element";a.on("canvas.destroy",function(a){k(a.svg)}),a.on("canvas.init",function(a){j(a.svg)}),a.on(["shape.added","connection.added"],function(a){var b,c=a.element,d=a.gfx;c.waypoints?b=hc(c.waypoints):(b=Tb("rect"),Jb(b,{x:0,y:0,width:c.width,height:c.height})),Jb(b,l),Fb(d,b)}),a.on("shape.changed",bv,function(a){var b=a.element,c=a.gfx,d=jb(".djs-hit",c);Jb(d,{width:b.width,height:b.height})}),a.on("connection.changed",function(a){var b=a.element,c=a.gfx,d=jb(".djs-hit",c);ic(d,b.waypoints)}),this.fire=d,this.triggerMouseEvent=g,this.mouseHandler=e,this.registerEvent=h,this.unregisterEvent=i}function Ld(a,b,c){function d(a,b){var c=Tb("rect");return Jb(c,I({x:10,y:10,width:100,height:100},e)),Fb(a,c),c}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),f=this;a.on(["shape.added","shape.changed"],dv,function(a){var b=a.element,c=a.gfx,e=jb(".djs-outline",c);e||(e=d(c,b)),f.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=jb(".djs-outline",c);e||(e=d(c,b)),f.updateConnectionOutline(e,b)})}function Md(a){this._eventBus=a,this._selectedElements=[];var b=this;a.on(["shape.remove","connection.remove"],function(a){var c=a.element;b.deselect(c)}),a.on(["diagram.clear"],function(a){b.select(null)})}function Nd(a,b,c,d){function e(a,c){b.addMarker(a,c)}function f(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){e(a.element,fv)}),a.on("element.out",function(a){f(a.element,fv)}),a.on("selection.changed",function(a){function b(a){f(a,gv)}function c(a){e(a,gv)}var d=a.oldSelection,g=a.newSelection;p(d,function(a){g.indexOf(a)===-1&&b(a)}),p(g,function(a){d.indexOf(a)===-1&&c(a)})})}function Od(a,b,c,d){a.on("create.end",500,function(a){a.context.canExecute&&b.select(a.context.shape)}),a.on("connect.end",500,function(a){a.context.canExecute&&a.context.target&&b.select(a.context.target)}),a.on("shape.move.end",500,function(a){var c=a.previousSelection||[],e=d.get(a.context.shape.id),f=m(c,function(a){return e.id===a.id});f||b.select(e)}),a.on("element.click",function(a){var d=a.element;d===c.getRootElement()&&(d=null);var e=b.isSelected(d),f=b.get().length>1,g=Hd(a);return e&&f?g?b.deselect(d):b.select(d):void(e?b.deselect(d):b.select(d,g))})}function Pd(a){this._counter=0,this._prefix=(a?a+"-":"")+Math.floor(1e9*Math.random())+"-"}function Qd(a){var b=Zt('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function Rd(a,b,c){I(a.style,{left:b+"px",top:c+"px"})}function Sd(a,b){a.style.display=b===!1?"none":""}function Td(a,b){a.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(c){a.style[c+"transform"]=b})}function Ud(a){return"undefined"!=typeof a}function Vd(a,b,c,d){this._eventBus=b,this._canvas=c,this._elementRegistry=d,this._ids=iv,this._overlayDefaults=I({show:null,scale:!0},a&&a.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=Qd(c.getContainer()),this._init()}function Wd(a,b){this._eventBus=a,this._canvas=b,a.on("diagram.init",function(){this._init()},this),a.on("import.done",function(a){this.update()},this)}function Xd(a,b){function c(a,c){var d=b.getContainer();db(d).toggle(a,c)}a.on("palette.create",function(){c("with-palette",!0)}),a.on("palette.changed",function(a){c("with-palette-two-column",a.twoColumn)})}function Yd(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Zd(a){return a.join(";")}function $d(){pv||(pv=Zt(xv),Yt.bind(pv,".backdrop","click",function(a){document.body.removeChild(pv)})),document.body.appendChild(pv)}function _d(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function ae(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function be(a){this._container=this._createContainer(),ce(this._container),this._init(this._container,a)}function ce(a){var b=tv,c='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+b+"</a>",d=Zt(c);a.appendChild(d),Ut.bind(d,"click",function(a){$d(),a.preventDefault()})}function de(a){return{x:a.x+a.width/2,y:a.y+a.height/2}}function ee(a,b){return{x:a.x-b.x,y:a.y-b.y}}function fe(a){return Math.log(a)/Math.log(10)}function ge(a,b){var c=fe(a.min),d=fe(a.max),e=Math.abs(c)+Math.abs(d);return e/b}function he(a,b){return Math.max(a.min,Math.min(a.max,b))}function ie(a,b,c){a=a||{},this._enabled=!1,this._canvas=c,this._container=c._container,this._handleWheel=H(this._handleWheel,this),this._totalDelta=0,this._scale=a.scale||Dv;var d=this;b.on("canvas.init",function(b){d._init(a.enabled!==!1)})}function je(a){var b=db(document.body);b.removeMatching(Fv),a&&b.add("djs-cursor-"+a)}function ke(){je(null)}function le(a,b){function c(){return!1}return b=b||"element.click",a.once(b,Gv,c),function(){a.off(b,c)}}function me(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function ne(a,b){function c(c){var d=f.start,e=Ed(c),g=ee(e,d);if(!f.dragging&&me(g)>Hv&&(f.dragging=!0,le(a),je("grab")),f.dragging){var h=f.last||f.start;g=ee(e,h),b.scroll({dx:g.x,dy:g.y}),f.last=e}c.preventDefault()}function d(a){Ut.unbind(document,"mousemove",c),Ut.unbind(document,"mouseup",d),f=null,ke()}function e(a){if(!Ot(a.target,".djs-draggable")&&!(a.button||a.ctrlKey||a.shiftKey||a.altKey))return f={start:Ed(a)},Ut.bind(document,"mousemove",c),Ut.bind(document,"mouseup",d),!0}var f;a.on("element.mousedown",500,function(a){return e(a.originalEvent)})}function oe(a,b){return b.get(a,!1)}function pe(a){a.preventDefault(),a.stopPropagation(),"function"==typeof a.stopImmediatePropagation&&a.stopImmediatePropagation()}function qe(a){function b(b){p(Mv,function(b){Ut.bind(a,b,pe,!0)})}function c(b){setTimeout(function(){p(Mv,function(b){Ut.unbind(a,b,pe,!0)})},500)}Ut.bind(a,"touchstart",b,!0),Ut.bind(a,"touchend",c,!0),Ut.bind(a,"touchcancel",c,!0);var d=new Jv.Manager(a,{inputClass:Jv.TouchInput,recognizers:[]}),e=new Jv.Tap,f=new Jv.Pan({threshold:10}),g=new Jv.Press,h=new Jv.Pinch,i=new Jv.Tap({event:"doubletap",taps:2});return h.requireFailure(f),h.requireFailure(g),d.add([f,g,h,i,e]),d.reset=function(a){var b=this.recognizers,c=this.session;c.stopped||(d.stop(a),setTimeout(function(){var a,d;for(a=0;d=b[a];a++)d.reset(),d.state=8;c.curRecognizer=null},0))},d.on("hammer.input",function(a){a.srcEvent.defaultPrevented&&d.reset(!0)}),d}function re(a,b,c,d,e){function f(a){return function(b){e.fire(a,b)}}function g(a){var b=Ot(a,"svg, .djs-element",!0);return b}function h(a){function c(a){function c(a){var c=a.deltaX-e,d=a.deltaY-f;b.scroll({dx:c,dy:d}),e=a.deltaX,f=a.deltaY}function d(a){i.off("panmove",c),i.off("panend",d),i.off("pancancel",d)}var e=0,f=0;i.on("panmove",c),i.on("panend",d),i.on("pancancel",d)}function e(a){var e=g(a.target),f=e&&d.get(e);return k&&b.getRootElement()!==f?k.start(a,f,!0):void c(a)}function h(a){function c(a){var c=1-(1-a.scale)/1.5,d=Math.max(Kv,Math.min(Lv,c*e));b.zoom(d,f),pe(a)}function d(a){i.off("pinchmove",c),i.off("pinchend",d),i.off("pinchcancel",d),i.reset(!0)}var e=b.zoom(),f=a.center;i.on("pinchmove",c),i.on("pinchend",d),i.on("pinchcancel",d)}i=qe(a),i.on("doubletap",f("element.dblclick")),i.on("tap",f("element.click")),i.on("panstart",e),i.on("press",e),i.on("pinchstart",h)}var i,j=oe("dragging",a),k=oe("move",a),l=oe("contextPad",a),m=oe("palette",a);j&&c.on("drag.move",function(a){var b=a.originalEvent;if(b&&!(b instanceof MouseEvent)){var c=Ed(b),e=document.elementFromPoint(c.x,c.y),f=g(e),h=f&&d.get(f);h!==a.hover&&(a.hover&&j.out(a),h&&(j.hover({element:h,gfx:f}),a.hover=h,a.hoverGfx=f))}}),l&&c.on("contextPad.create",function(a){var b=a.pad.html,c=qe(b);c.on("panstart",function(a){l.trigger("dragstart",a,!0)}),c.on("press",function(a){l.trigger("dragstart",a,!0)}),c.on("tap",function(a){l.trigger("click",a)})}),m&&c.on("palette.create",function(a){var b=a.container,c=qe(b);c.on("panstart",function(a){m.trigger("dragstart",a,!0)}),c.on("press",function(a){m.trigger("dragstart",a,!0)}),c.on("tap",function(a){m.trigger("click",a)})}),c.on("canvas.init",function(a){h(a.svg)})}function se(a,b){var c=this;b.on("canvas.init",function(a){c.addBBoxMarker(a.svg)})}function te(a){be.call(this,a)}function ue(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Pv(b))&&"function"!=typeof b?a:b}function ve(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Pv(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function we(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function xe(a,b){var c=Vv[a];if(!c)throw new Error("unknown type "+a);return new c(b)}function ye(a,b,c){Object.defineProperty(a,b,c)}function ze(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ae(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Be(a){return Object.keys(a).map(function(b){return a[b]})}function Ce(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function De(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ee(a){var b="undefined"==typeof a?"undefined":dw(a);return"string"===b||"number"===b}function Fe(a){return Me(a)||Ke(a)}function Ge(a){return Ke(a)||a===!1||Le(a)||Me(a)}function He(a){return"function"==typeof a}function Ie(a){return"string"==typeof a}function Je(a){return"number"==typeof a}function Ke(a){return null===a}function Le(a){return a===!0}function Me(a){return void 0===a}function Ne(a){return"object"===("undefined"==typeof a?"undefined":dw(a))}function Oe(a){throw a||(a=fw),new Error("Inferno Error: "+a)}function Pe(a,b){var c={};if(a)for(var d in a)c[d]=a[d];if(b)for(var e in b)c[e]=b[e];return c}function Qe(a,b,c,d,e,f,g,h){return{childFlags:a,children:b,className:c,dom:null,flags:d,key:void 0===e?null:e,parentVNode:null,props:void 0===f?null:f,ref:void 0===g?null:g,type:h}}function Re(a,b,c,d,e,f,g,h){var i=void 0===e?1:e,j=Qe(i,d,c,a,g,f,h,b);return 0===i&&Ye(j,j.children),j}function Se(a,b,c,d,e){(2&a)>0&&(a=b.prototype&&He(b.prototype.render)?4:8);var f=b.defaultProps;if(!Fe(f)){c||(c={});for(var g in f)Me(c[g])&&(c[g]=f[g])}if((8&a)>0){var h=b.defaultHooks;if(!Fe(h))if(e)for(var i in h)Me(e[i])&&(e[i]=h[i]);else e=h}var j=Qe(1,null,null,a,d,c,e,b),k=jw.createVNode;return He(k)&&k(j),j}function Te(a,b){return Qe(1,Fe(a)?"":a,null,16,b,null,null,null)}function Ue(a){var b=a.props;if(b){var c=a.flags;481&c&&(void 0!==b.children&&Fe(a.children)&&Ye(a,b.children),void 0!==b.className&&(a.className=b.className||null,b.className=void 0)),void 0!==b.key&&(a.key=b.key,b.key=void 0),void 0!==b.ref&&(8&c?a.ref=Pe(a.ref,b.ref):a.ref=b.ref,b.ref=void 0)}return a}function Ve(a){var b,c=a.flags;if(14&c){var d,e=a.props;if(!Ke(e)){d={};for(var f in e)d[f]=e[f]}b=Se(c,a.type,d,a.key,a.ref)}else if(481&c){var g=a.children;b=Re(c,a.type,a.className,g,a.childFlags,a.props,a.key,a.ref)}else 16&c?b=Te(a.children,a.key):1024&c&&(b=a);return b}function We(){return Te("",null)}function Xe(a,b,c,d){for(var e=a.length;c<e;c++){var f=a[c];if(!Ge(f)){var g=d+iw+c;if(hw(f))Xe(f,b,0,g);else{if(Ee(f))f=Te(f,g);else{var h=f.key,i=Ie(h)&&h[0]===iw;Ke(f.dom)&&!i||(f=Ve(f)),Ke(h)||i?f.key=g:f.key=d+h}b.push(f)}}}}function Ye(a,b){var c,d=1;if(Ge(b))c=b;else if(Ie(b))d=2,c=Te(b);else if(Je(b))d=2,c=Te(b+"");else if(hw(b)){var e=b.length;if(0===e)c=null,d=1;else{(Object.isFrozen(b)||b.$===!0)&&(b=b.slice()),d=8;for(var f=0;f<e;f++){var g=b[f];if(Ge(g)||hw(g)){c=c||b.slice(0,f),Xe(b,c,f,"");break}if(Ee(g))c=c||b.slice(0,f),c.push(Te(g,iw+f));else{var h=g.key,i=Ke(g.dom),j=Ke(h),k=!j&&h[0]===iw;!i||j||k?(c=c||b.slice(0,f),i&&!k||(g=Ve(g)),(j||k)&&(g.key=iw+f),c.push(g)):c&&c.push(g)}}c=c||b,c.$=!0}}else c=b,Ke(b.dom)||(c=Ve(b)),d=2;return a.children=c,a.childFlags=d,a}function Ze(a,b){a.appendChild(b)}function $e(a,b,c){Fe(c)?Ze(a,b):a.insertBefore(b,c)}function _e(a,b){return b===!0?document.createElementNS(mw,a):document.createElement(a)}function af(a,b,c){a.replaceChild(b,c)}function bf(a,b){a.removeChild(b)}function cf(a){for(var b;void 0!==(b=a.shift());)b()}function df(a,b,c){var d=qw[a],e=c.$EV;b?(d||(rw[a]=hf(a),qw[a]=0),e||(e=c.$EV={}),e[a]||qw[a]++,e[a]=b):e&&e[a]&&(qw[a]--,1===d&&(document.removeEventListener(ff(a),rw[a]),rw[a]=null),e[a]=b)}function ef(a,b,c,d,e){for(var f=b;!Ke(f);){if(c&&f.disabled)return;var g=f.$EV;if(g){var h=g[d];if(h&&(e.dom=f,h.event?h.event(h.data,a):h(a),a.cancelBubble))return}f=f.parentNode}}function ff(a){return a.substr(2).toLowerCase()}function gf(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function hf(a){var b=function(b){var c=b.type,d="click"===c||"dblclick"===c;if(d&&0!==b.button)return b.preventDefault(),b.stopPropagation(),!1;b.stopPropagation=gf;var e={dom:document};Object.defineProperty(b,"currentTarget",{configurable:!0,get:function(){return e.dom}}),ef(b,b.target,d,a,e)};return document.addEventListener(ff(a),b),b}function jf(a,b){var c=document.createElement("i");return c.innerHTML=b,c.innerHTML===a.innerHTML}function kf(a,b){return Boolean(b&&b.dangerouslySetInnerHTML&&b.dangerouslySetInnerHTML.__html&&jf(a,b.dangerouslySetInnerHTML.__html))}function lf(a,b,c){if(a[b]){var d=a[b];d.event?d.event(d.data,c):d(c)}else{var e=b.toLowerCase();a[e]&&a[e](c)}}function mf(a,b){var c=function(c){c.stopPropagation();var d=this.$V;if(d){var e=d.props||ow,f=d.dom;if(Ie(a))lf(e,a,c);else for(var g=0;g<a.length;g++)lf(e,a[g],c);if(He(b)){var h=this.$V,i=h.props||ow;b(i,f,!1,h)}}};return Object.defineProperty(c,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),c}function nf(a){return"checkbox"===a||"radio"===a}function of(a){a.stopPropagation()}function pf(a,b){nf(b.type)?(a.onchange=tw,a.onclick=of):a.oninput=sw}function qf(a,b){var c=a.type,d=a.value,e=a.checked,f=a.multiple,g=a.defaultValue,h=!Fe(d);c&&c!==b.type&&b.setAttribute("type",c),Fe(f)||f===b.multiple||(b.multiple=f),Fe(g)||h||(b.defaultValue=g+""),nf(c)?(h&&(b.value=d),Fe(e)||(b.checked=e)):h&&b.value!==d?(b.defaultValue=d,b.value=d):Fe(e)||(b.checked=e)}function rf(a,b){var c=a.type;if("optgroup"===c){var d=a.children,e=a.childFlags;if(12&e)for(var f=0,g=d.length;f<g;f++)sf(d[f],b);else 2===e&&sf(d,b)}else sf(a,b)}function sf(a,b){var c=a.props||ow,d=a.dom;d.value=c.value,hw(b)&&b.indexOf(c.value)!==-1||c.value===b?d.selected=!0:Fe(b)&&Fe(c.selected)||(d.selected=c.selected||!1)}function tf(a){a.onchange=uw}function uf(a,b,c,d){var e=Boolean(a.multiple);Fe(a.multiple)||e===b.multiple||(b.multiple=e);var f=d.childFlags;if(0===(1&f)){var g=d.children,h=a.value;if(c&&Fe(h)&&(h=a.defaultValue),12&f)for(var i=0,j=g.length;i<j;i++)rf(g[i],h);else 2===f&&rf(g,h)}}function vf(a,b){a.oninput=vw,b.onChange&&(a.onchange=ww)}function wf(a,b,c){var d=a.value,e=b.value;if(Fe(d)){if(c){var f=a.defaultValue;Fe(f)||f===e||(b.defaultValue=f,b.value=f)}}else e!==d&&(b.defaultValue=d,b.value=d)}function xf(a,b,c,d,e,f){64&a?qf(d,c):256&a?uf(d,c,e,b):128&a&&wf(d,c,e),f&&(c.$V=b)}function yf(a,b,c){64&a?pf(b,c):256&a?tf(b):128&a&&vf(b,c)}function zf(a){return a.type&&nf(a.type)?!Fe(a.checked):!Fe(a.value)}function Af(a,b){Bf(a),Ke(b)||(bf(b,a.dom),a.dom=null)}function Bf(a){var b=a.flags;if(481&b){var c=a.ref,d=a.props;He(c)&&c(null);var e=a.children,f=a.childFlags;if(12&f?Cf(e):2===f&&Bf(e),!Ke(d))for(var g in d)switch(g){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":df(g,null,a.dom)}}else if(14&b){var h=a.children,i=a.ref;4&b?(He(jw.beforeUnmount)&&jw.beforeUnmount(a),He(h.componentWillUnmount)&&h.componentWillUnmount(),He(i)&&i(null),h.$UN=!0,Bf(h.$LI)):(!Fe(i)&&He(i.onComponentWillUnmount)&&i.onComponentWillUnmount(a.dom,a.props||ow),Bf(h))}else if(1024&b){var j=a.children;!Ke(j)&&Ne(j)&&Af(j,a.type)}}function Cf(a){for(var b=0,c=a.length;b<c;b++)Bf(a[b])}function Df(a,b){Cf(b),a.textContent=""}function Ef(a,b){return function(c){a(b.data,c)}}function Ff(a,b,c,d){var e=a.toLowerCase();if(He(c)||Fe(c)){var f=d[e];f&&f.wrapped||(d[e]=c)}else{var g=c.event;g&&He(g)&&(d[e]=Ef(g,c))}}function Gf(a,b){switch(a){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return b;default:return b+"px"}}function Hf(a,b,c){var d,e,f=c.style;if(Ie(b))return void(f.cssText=b);if(Fe(a)||Ie(a))for(d in b)e=b[d],f[d]=Je(e)?Gf(d,e):e;else{for(d in b)e=b[d],e!==a[d]&&(f[d]=Je(e)?Gf(d,e):e);for(d in a)Fe(b[d])&&(f[d]="")}}function If(a,b,c,d,e,f,g){switch(a){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":df(a,c,d);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":return;case"allowfullscreen":case"autoFocus":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":a="autoFocus"===a?a.toLowerCase():a,d[a]=!!c;break;case"defaultChecked":case"value":case"volume":if(f&&"value"===a)return;var h=Fe(c)?"":c;d[a]!==h&&(d[a]=h);break;case"dangerouslySetInnerHTML":var i=b&&b.__html||"",j=c&&c.__html||"";i!==j&&(Fe(j)||jf(d,j)||(Ke(g)||(12&g.childFlags?Cf(g.children):2===g.childFlags&&Bf(g.children),g.children=null,g.childFlags=1),d.innerHTML=j));break;default:"o"===a[0]&&"n"===a[1]?Ff(a,b,c,d):Fe(c)?d.removeAttribute(a):"style"===a?Hf(b,c,d):e&&nw[a]?d.setAttributeNS(nw[a],a,c):d.setAttribute(a,c)}}function Jf(a,b,c,d,e){var f=!1,g=(448&b)>0;g&&(f=zf(c),f&&yf(b,d,c));for(var h in c)If(h,null,c[h],d,e,f,null);g&&xf(b,a,d,c,!0,f)}function Kf(a,b,c,d){var e=new b(c,d);if(a.children=e,e.$V=a,e.$BS=!1,e.context=d,e.props===ow&&(e.props=c),e.$UN=!1,He(e.componentWillMount)){if(e.$BR=!0,e.componentWillMount(),e.$PSS){var f=e.state,g=e.$PS;if(Ke(f))e.state=g;else for(var h in g)f[h]=g[h];e.$PSS=!1,e.$PS=null}e.$BR=!1}He(jw.beforeRender)&&jw.beforeRender(e);var i,j=Lf(e.render(c,e.state,d),a);return He(e.getChildContext)&&(i=e.getChildContext()),Fe(i)?e.$CX=d:e.$CX=Pe(d,i),He(jw.afterRender)&&jw.afterRender(e),e.$LI=j,e}function Lf(a,b){return Ge(a)?a=We():Ee(a)?a=Te(a,null):(a.dom&&(a=Ve(a)),14&a.flags&&(a.parentVNode=b)),a}function Mf(a,b,c,d,e){var f=a.flags;return 481&f?Of(a,b,c,d,e):14&f?Qf(a,b,c,d,e,(4&f)>0):512&f||16&f?Nf(a,b):1024&f?(Mf(a.children,a.type,c,d,!1),a.dom=Nf(We(),b)):void 0}function Nf(a,b){var c=a.dom=document.createTextNode(a.children);return Ke(b)||Ze(b,c),c}function Of(a,b,c,d,e){var f=a.flags,g=a.children,h=a.props,i=a.className,j=a.ref,k=a.childFlags;e=e||(32&f)>0;var l=_e(a.type,e);if(a.dom=l,Fe(i)||""===i||(e?l.setAttribute("class",i):l.className=i),Ke(b)||Ze(b,l),0===(1&k)){var m=e===!0&&"foreignObject"!==a.type;2===k?Mf(g,l,c,d,m):12&k&&Pf(g,l,c,d,m)}return Ke(h)||Jf(a,f,h,l,e),He(j)&&Vf(l,j,c),l}function Pf(a,b,c,d,e){for(var f=0,g=a.length;f<g;f++){var h=a[f];Ke(h.dom)||(a[f]=h=Ve(h)),Mf(h,b,c,d,e)}}function Qf(a,b,c,d,e,f){var g,h=a.type,i=a.props||ow,j=a.ref;if(f){var k=Kf(a,h,i,d);a.dom=g=Mf(k.$LI,null,c,k.$CX,e),Sf(a,j,k,c),k.$UPD=!1}else{var l=Lf(h(i,d),a);a.children=l,a.dom=g=Mf(l,null,c,d,e),Uf(i,j,g,c)}return Ke(b)||Ze(b,g),g}function Rf(a,b,c,d,e){return function(){a.$UPD=!0,b&&c(d),e&&a.componentDidMount(),a.$UPD=!1}}function Sf(a,b,c,d){He(b)&&b(c);var e=He(c.componentDidMount),f=jw.afterMount,g=He(f);(e||g)&&d.push(Rf(c,g,f,a,e))}function Tf(a,b,c){return function(){return a.onComponentDidMount(b,c)}}function Uf(a,b,c,d){Fe(b)||(He(b.onComponentWillMount)&&b.onComponentWillMount(a),
He(b.onComponentDidMount)&&d.push(Tf(b,c,a)))}function Vf(a,b,c){c.push(function(){return b(a)})}function Wf(a,b,c,d,e,f){var g=a.type,h=a.ref,i=a.props||ow;if(f){var j=Kf(a,g,i,d),k=j.$LI;Zf(k,b,c,j.$CX,e),a.dom=k.dom,Sf(a,h,j,c),j.$UPD=!1}else{var l=Lf(g(i,d),a);Zf(l,b,c,d,e),a.children=l,a.dom=l.dom,Uf(i,h,b,c)}}function Xf(a,b,c,d,e){var f=a.children,g=a.props,h=a.className,i=a.flags,j=a.ref;if(e=e||(32&i)>0,1!==b.nodeType||b.tagName.toLowerCase()!==a.type){var k=Of(a,null,c,d,e);a.dom=k,af(b.parentNode,k,b)}else{a.dom=b;var l=b.firstChild,m=a.childFlags;if(0===(1&m)){for(var n=null;l;)n=l.nextSibling,8===l.nodeType&&("!"===l.data?b.replaceChild(document.createTextNode(""),l):b.removeChild(l)),l=n;if(l=b.firstChild,2===m)Ke(l)?Mf(f,b,c,d,e):(n=l.nextSibling,Zf(f,l,c,d,e),l=n);else if(12&m)for(var o=0,p=f.length;o<p;o++){var q=f[o];Ke(l)?Mf(q,b,c,d,e):(n=l.nextSibling,Zf(q,l,c,d,e),l=n)}for(;l;)n=l.nextSibling,b.removeChild(l),l=n}else Ke(b.firstChild)||kf(b,g)||(b.textContent="",448&i&&(b.defaultValue=""));Ke(g)||Jf(a,i,g,b,e),Fe(h)?""!==b.className&&b.removeAttribute("class"):e?b.setAttribute("class",h):b.className=h,He(j)&&Vf(b,j,c)}}function Yf(a,b){if(3!==b.nodeType){var c=Nf(a,null);a.dom=c,af(b.parentNode,c,b)}else{var d=a.children;b.nodeValue!==d&&(b.nodeValue=d),a.dom=b}}function Zf(a,b,c,d,e){var f=a.flags;14&f?Wf(a,b,c,d,e,(4&f)>0):481&f?Xf(a,b,c,d,e):16&f?Yf(a,b):512&f?a.dom=b:Oe()}function $f(a,b,c){var d=b.firstChild;if(!Ke(d))for(Ge(a)||Zf(a,d,pw,ow,!1),d=b.firstChild;d=d.nextSibling;)b.removeChild(d);pw.length>0&&cf(pw),b.$V||jw.roots.push(b),b.$V=a,He(c)&&c()}function _f(a,b,c,d,e,f){Bf(a),af(c,Mf(b,null,d,e,f),a.dom)}function ag(a,b,c,d,e,f){if(a!==b){var g=0|b.flags;a.flags!==g||2048&g?_f(a,b,c,d,e,f):481&g?cg(a,b,c,d,e,f):14&g?fg(a,b,c,d,e,f,(4&g)>0):16&g?gg(a,b,c):512&g?b.dom=a.dom:bg(a,b,d,e)}}function bg(a,b,c,d){var e=a.type,f=b.type,g=b.children;if(dg(a.childFlags,b.childFlags,a.children,g,e,c,d,!1),b.dom=a.dom,e!==f&&!Ge(g)){var h=g.dom;e.removeChild(h),f.appendChild(h)}}function cg(a,b,c,d,e,f){var g=b.type;if(a.type!==g)_f(a,b,c,d,e,f);else{var h,i=a.dom,j=b.flags,k=a.props,l=b.props,m=!1,n=!1;if(b.dom=i,f=f||(32&j)>0,k!==l){var o=k||ow;if(h=l||ow,h!==ow){m=(448&j)>0,m&&(n=zf(h));for(var p in h){var q=o[p],r=h[p];q!==r&&If(p,q,r,i,f,n,a)}}if(o!==ow)for(var s in o)h.hasOwnProperty(s)||Fe(o[s])||If(s,o[s],null,i,f,n,a)}var t=a.children,u=b.children,v=b.ref,w=a.className,x=b.className;t!==u&&dg(a.childFlags,b.childFlags,t,u,i,d,e,f&&"foreignObject"!==g),m&&xf(j,b,i,h,!1,n),w!==x&&(Fe(x)?i.removeAttribute("class"):f?i.setAttribute("class",x):i.className=x),He(v)&&a.ref!==v&&Vf(i,v,d)}}function dg(a,b,c,d,e,f,g,h){switch(a){case 2:switch(b){case 2:ag(c,d,e,f,g,h);break;case 1:Af(c,e);break;default:Af(c,e),Pf(d,e,f,g,h)}break;case 1:switch(b){case 2:Mf(d,e,f,g,h);break;case 1:break;default:Pf(d,e,f,g,h)}break;default:if(12&b){var i=c.length,j=d.length;0===i?j>0&&Pf(d,e,f,g,h):0===j?Df(e,c):8===b&&8===a?ig(c,d,e,f,g,h,i,j):hg(c,d,e,f,g,h,i,j)}else 1===b?Df(e,c):(Df(e,c),Mf(d,e,f,g,h))}}function eg(a,b,c,d,e,f,g,h,i,j){var k=a.state,l=a.props;c.children=a;var m;if(!a.$UN){if(l!==d||d===ow){if(!j&&He(a.componentWillReceiveProps)){if(a.$BR=!0,a.componentWillReceiveProps(d,g),a.$UN)return;a.$BR=!1}a.$PSS&&(b=Pe(b,a.$PS),a.$PSS=!1,a.$PS=null)}var n=He(a.shouldComponentUpdate);if(i||!n||n&&a.shouldComponentUpdate(d,b,g)){He(a.componentWillUpdate)&&(a.$BS=!0,a.componentWillUpdate(d,b,g),a.$BS=!1),a.props=d,a.state=b,a.context=g,He(jw.beforeRender)&&jw.beforeRender(a),m=a.render(d,b,g),He(jw.afterRender)&&jw.afterRender(a);var o,p=m!==ew;if(He(a.getChildContext)&&(o=a.getChildContext()),o=Fe(o)?g:Pe(g,o),a.$CX=o,p){var q=a.$LI,r=a.$LI=Lf(m,c);ag(q,r,e,f,o,h),He(a.componentDidUpdate)&&a.componentDidUpdate(l,k),He(jw.afterUpdate)&&jw.afterUpdate(c)}}else a.props=d,a.state=b,a.context=g;c.dom=a.$LI.dom}}function fg(a,b,c,d,e,f,g){var h=b.type,i=a.key,j=b.key;if(a.type!==h||i!==j)_f(a,b,c,d,e,f);else{var k=b.props||ow;if(g){var l=a.children;l.$UPD=!0,eg(l,l.state,b,k,c,d,e,f,!1,!1),l.$V=b,l.$UPD=!1}else{var m=!0,n=a.props,o=b.ref,p=!Fe(o),q=a.children;if(b.dom=a.dom,b.children=q,p&&He(o.onComponentShouldUpdate)&&(m=o.onComponentShouldUpdate(n,k)),m!==!1){p&&He(o.onComponentWillUpdate)&&o.onComponentWillUpdate(n,k);var r=h(k,e);r!==ew&&(r=Lf(r,b),ag(q,r,c,d,e,f),b.children=r,b.dom=r.dom,p&&He(o.onComponentDidUpdate)&&o.onComponentDidUpdate(n,k))}else 14&q.flags&&(q.parentVNode=b)}}}function gg(a,b,c){var d,e=b.children,f=c.firstChild;Ke(f)?(c.textContent=e,d=c.firstChild):(d=a.dom,e!==a.children&&(d.nodeValue=e)),b.dom=d}function hg(a,b,c,d,e,f,g,h){for(var i,j=g>h?h:g,k=0;k<j;k++)i=b[k],i.dom&&(i=b[k]=Ve(i)),ag(a[k],i,c,d,e,f);if(g<h)for(k=j;k<h;k++)i=b[k],i.dom&&(i=b[k]=Ve(i)),Mf(i,c,d,e,f);else if(g>h)for(k=j;k<g;k++)Af(a[k],c)}function ig(a,b,c,d,e,f,g,h){var i,j,k,l,m=g-1,n=h-1,o=0,p=0,q=a[o],r=b[p];a:{for(;q.key===r.key;){if(r.dom&&(b[p]=r=Ve(r)),ag(q,r,c,d,e,f),o++,p++,o>m||p>n)break a;q=a[o],r=b[p]}for(q=a[m],r=b[n];q.key===r.key;){if(r.dom&&(b[n]=r=Ve(r)),ag(q,r,c,d,e,f),m--,n--,o>m||p>n)break a;q=a[m],r=b[n]}}if(o>m){if(p<=n)for(l=n+1,k=l<h?b[l].dom:null;p<=n;)r=b[p],r.dom&&(b[p]=r=Ve(r)),p++,$e(c,Mf(r,null,d,e,f),k)}else if(p>n)for(;o<=m;)Af(a[o++],c);else{var s=m-o+1,t=n-p+1,u=[];for(i=0;i<t;i++)u.push(0);var v=s===g,w=!1,x=0,y=0;if(h<4||(s|t)<32)for(i=o;i<=m;i++)if(q=a[i],y<t){for(j=p;j<=n;j++)if(r=b[j],q.key===r.key){if(u[j-p]=i+1,v)for(v=!1;i>o;)Af(a[o++],c);x>j?w=!0:x=j,r.dom&&(b[j]=r=Ve(r)),ag(q,r,c,d,e,f),y++;break}!v&&j>n&&Af(q,c)}else v||Af(q,c);else{var z={};for(i=p;i<=n;i++)z[b[i].key]=i;for(i=o;i<=m;i++)if(q=a[i],y<t)if(j=z[q.key],void 0!==j){if(v)for(v=!1;i>o;)Af(a[o++],c);r=b[j],u[j-p]=i+1,x>j?w=!0:x=j,r.dom&&(b[j]=r=Ve(r)),ag(q,r,c,d,e,f),y++}else v||Af(q,c);else v||Af(q,c)}if(v)Df(c,a),Pf(b,c,d,e,f);else if(w){var A=jg(u);for(j=A.length-1,i=t-1;i>=0;i--)0===u[i]?(x=i+p,r=b[x],r.dom&&(b[x]=r=Ve(r)),l=x+1,$e(c,Mf(r,null,d,e,f),l<h?b[l].dom:null)):j<0||i!==A[j]?(x=i+p,r=b[x],l=x+1,$e(c,r.dom,l<h?b[l].dom:null)):j--}else if(y!==t)for(i=t-1;i>=0;i--)0===u[i]&&(x=i+p,r=b[x],r.dom&&(b[x]=r=Ve(r)),l=x+1,$e(c,Mf(r,null,d,e,f),l<h?b[l].dom:null))}}function jg(a){var b,c,d,e,f,g=a.slice(),h=[0],i=a.length;for(b=0;b<i;b++){var j=a[b];if(0!==j){if(c=h[h.length-1],a[c]<j){g[b]=c,h.push(b);continue}for(d=0,e=h.length-1;d<e;)f=(d+e)/2|0,a[h[f]]<j?d=f+1:e=f;j<a[h[d]]&&(d>0&&(g[b]=h[d-1]),h[d]=b)}}for(d=h.length,e=h[d-1];d-- >0;)h[d]=e,e=g[e];return h}function kg(a,b,c){if(a!==ew){var d,e,f=xw.length;for(e=0;e<f;e++)if(xw[e]===b){d=b.$V;break}return Me(d)?Ge(a)||(a.dom&&(a=Ve(a)),Ke(b.firstChild)?(Mf(a,b,pw,ow,!1),b.$V=a,xw.push(b)):$f(a,b),d=a):Fe(a)?(Af(d,b),xw.splice(e,1)):(a.dom&&(a=Ve(a)),ag(d,a,b,pw,ow,!1),d=b.$V=a),pw.length>0&&cf(pw),He(c)&&c(),d&&14&d.flags?d.children:void 0}}function lg(a,b){return Re(1024,b,null,a,0,null,Ge(a)?null:a.key,null)}function mg(a){return yw?yw.then(a):zw(a)}function ng(a,b,c){He(b)&&(b=b(a.state,a.props,a.context));var d=a.$PS;if(Fe(d))a.$PS=b;else for(var e in b)d[e]=b[e];if(a.$PSS||a.$BR)a.$PSS=!0,a.$BR&&He(c)&&pw.push(c.bind(a));else if(a.$UPD){var f=a.$QU;Ke(f)&&(f=a.$QU=[],mg(og(a,f))),He(c)&&f.push(c)}else a.$PSS=!0,a.$UPD=!0,pg(a,!1,c),a.$UPD=!1}function og(a,b){return function(){a.$QU=null,a.$UPD=!0,pg(a,!1,function(){for(var c=0,d=b.length;c<d;c++)b[c].call(a)}),a.$UPD=!1}}function pg(a,b,c){if(!a.$UN){if(b||!a.$BR){a.$PSS=!1;var d=a.$PS,e=a.state,f=Pe(e,d),g=a.props,h=a.context;a.$PS=null;var i=a.$V,j=a.$LI,k=j.dom&&j.dom.parentNode;if(eg(a,f,i,g,k,pw,h,(32&i.flags)>0,b,!0),a.$UN)return;if(0===(1024&a.$LI.flags))for(var l=a.$LI.dom;!Ke(i=i.parentVNode);)(14&i.flags)>0&&(i.dom=l);pw.length>0&&cf(pw)}else a.state=a.$PS,a.$PS=null;He(c)&&c.call(a)}}function qg(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function rg(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Bw(b))&&"function"!=typeof b?a:b}function sg(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Bw(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function tg(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ug(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function vg(a,b,c){return b.splice(a,0,c)}function wg(a,b){return b.splice(a,1)}function xg(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function yg(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function zg(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new Ab(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function Ag(a,b){var c=[{config:["value",a]},Jw].concat(b||[]);return zg(c)}function Bg(a){if(!a)return"<null>";var b=a.id?' id="'+a.id+'"':"";return"<"+a.$type+b+" />"}function Cg(a,b){function c(b,c,d){var e=b.gfx;if(e)throw new Error("already rendered "+Bg(b));return a.element(b,c,d)}function d(b){return a.table(b)}function e(a){a.id||(a.id="decision");var b=a.decisionTable;if(!b)throw new Error("no table for "+Bg(a));if(!b.output)throw new Error("missing output for "+Bg(b));var c=d(b);b.input&&f(b.input,c,b),f(b.output,c,b),g(b.rule,c,b)}function f(a,b,d){p(a,function(a){c(a,b,d)})}function g(a,b,d){p(a,function(a){c(a,b,d),h(a.inputEntry,a),h(a.outputEntry,a)})}function h(a,b,d){p(a,function(a){c(a,b,d)})}return{handleDecision:e}}function Dg(a,b,c){function d(a){var b={create:function(a,b,c,d){return e.create(a,b,c,d)},table:function(a){return e.add(a)},element:function(a,b,c){return e.add(a,b,c)},error:function(a,b){j.push({message:a,context:b})}},c=new Cg(b,{canAddMissingEntries:h});c.handleDecision(a)}var e=a.get("tableImporter"),f=a.get("eventBus"),g=a.get("sheet"),h=a.get("modeling",!1),i=void 0,j=[];f.fire("import.render.start",{decision:b});try{d(b)}catch(k){i=k}f.fire("import.render.complete",{error:i,warnings:j}),f.fire("elements.changed",{elements:[g.getRoot()]}),c(i,j)}function Eg(){return Re(1,"th","annotation header",Te("Annotation"),2,{rowspan:"3"})}function Fg(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Gg(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function Hg(){return{elements:[],index:{}}}function Ig(a,b){var c=a.elements,d=a.index;return d[b]?a:{elements:[].concat(Gg(c),[b]),index:Ow({},d,Fg({},b,!0))}}function Jg(a,b){return a.elements.join(b)}function Kg(){for(var a=Hg(),b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return c.forEach(function(b){var c="undefined"==typeof b?"undefined":Nw(b);"string"===c&&b.length>0?a=Ig(a,b):"object"===c&&null!==b&&Object.keys(b).forEach(function(c){var d=b[c];d&&(a=Ig(a,c))})}),Jg(a," ")}function Lg(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function Mg(a){var b=a.constructor;return Ng(b,a)}function Ng(a,b){var c=a.$inject;if(c){var d=b.context.injector,e=[].concat(Lg(c),[function(){for(var a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];for(var f in d){var g=c[f],h=d[f];b[g]=h}}]);d.invoke(e)}}function Og(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return function(){for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];var f=void 0;return c.forEach(function(b){if(f=b.call.apply(b,[a].concat(d)),"undefined"!=typeof f)return!1}),f}.bind(a)}function Pg(a,b){Object.keys(b).forEach(function(c){if("$inject"!==c&&"__init"!==c){var d=b[c];"constructor"===c&&d.call(a,a.props,a.context);var e=a[c];if("undefined"!=typeof e){if("function"!=typeof e)throw new Error("failed to mixin <"+c+">: cannot combine with non-fn component value");a[c]=Og(a,e,d)}else a[c]=d.bind(a)}}),"$inject"in b&&Ng(b,a),"__init"in b&&b.__init.call(a,a.props,a.context)}function Qg(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function Rg(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Sg(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Qw(b))&&"function"!=typeof b?a:b}function Tg(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Qw(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ug(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Vg(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Uw(b))&&"function"!=typeof b?a:b}function Wg(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Uw(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Xg(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Yg(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Yw(b))&&"function"!=typeof b?a:b}function Zg(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Yw(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function $g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":$w(b))&&"function"!=typeof b?a:b}function ah(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":$w(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function bh(a){var b=a.row,c=b.businessObject,d=c.id,e=c.description;return Se(2,Xw,{className:"annotation",elementId:d+"__annotation",children:e||"-"})}function ch(a){a.onGetComponent("cell",function(a){var b=a.cellType;return"after-label-cells"===b?Eg:"after-rule-cells"===b?bh:void 0})}function dh(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function eh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function fh(a,b){return I({id:a.id,type:a.$type,businessObject:a},b)}function gh(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function hh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ih(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ix(b))&&"function"!=typeof b?a:b}function jh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ix(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function kh(a){var b=a.input,c=a.className,d=b.label,e=b.inputExpression,f=(c||"")+" input-cell";return Re(1,"th",f,d?Re(1,"span","input-label",d,0,{title:"Input Label"}):Re(1,"span","input-expression",e.text||"-",0,{title:"Input Expression"}),0,{"data-col-id":b.id},b.id)}function lh(a){var b=a.output,c=a.className,d=b.label,e=b.name,f=(c||"")+" output-cell";return Re(1,"th",f,d?Re(1,"span","output-label",d,0,{title:"Output Label"}):Re(1,"span","output-name",e||"-",0,{title:"Output Name"}),0,null,b.id)}function mh(a){var b=a.className,c=a.element,d=b+" type-ref";return Re(1,"th",d,c.typeRef,0,{title:"Data Type"})}function nh(a){a.onGetComponent("table.head",function(){return kx})}function oh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ph(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ox(b))&&"function"!=typeof b?a:b}function qh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ox(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function rh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function sh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function th(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":tx(b))&&"function"!=typeof b?a:b}function uh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":tx(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function vh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function wh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function xh(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":yx(b))&&"function"!=typeof b?a:b}function yh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":yx(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function zh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ah(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Bx(b))&&"function"!=typeof b?a:b}function Bh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Bx(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ch(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Dh(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Ex(b))&&"function"!=typeof b?a:b}function Eh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Ex(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Fh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Gh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Hh(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Jx(b))&&"function"!=typeof b?a:b}function Ih(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Jx(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Jh(a){switch(a){case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#";default:return""}}function Kh(a){a.onGetComponent("cell",function(a){var b=a.cellType;if("before-label-cells"===b)return Lx})}function Lh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Mh(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Nx(b))&&"function"!=typeof b?a:b}function Nh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Nx(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Oh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ph(a){var b=a.businessObject;if(b){var c=b.$parent,d=c.$parent;return d}}function Qh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Rh(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Tx(b))&&"function"!=typeof b?a:b}function Sh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Tx(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Th(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Uh(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Xx(b))&&"function"!=typeof b?a:b}function Vh(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Xx(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Wh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Xh(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function Yh(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function Zh(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function $h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":by(b))&&"function"!=typeof b?a:b}function _h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":by(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function ai(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function bi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ci(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function di(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ky(b))&&"function"!=typeof b?a:b}function ei(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ky(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function fi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function gi(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function hi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ii(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new Ab(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function ji(a,b){var c=[{config:["value",a]},py].concat(b||[]);return ii(c)}function ki(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function li(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function mi(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":vy(b))&&"function"!=typeof b?a:b}function ni(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":vy(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function oi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function pi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function qi(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":By(b))&&"function"!=typeof b?a:b}function ri(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":By(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function si(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ti(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ui(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Hy(b))&&"function"!=typeof b?a:b}function vi(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Hy(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function wi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function xi(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Ly(b))&&"function"!=typeof b?a:b}function yi(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Ly(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function zi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ai(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Bi(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Sy(b))&&"function"!=typeof b?a:b}function Ci(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Sy(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Di(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ei(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Fi(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":Xy(b))&&"function"!=typeof b?a:b}function Gi(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":Xy(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Hi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ii(a){var b=a.$parent;return b}function Ji(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function Ki(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function Li(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Mi(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":cz(b))&&"function"!=typeof b?a:b}function Ni(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":cz(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Oi(a){return s(a.drgElements,Pi)}function Pi(a){var b=a.extensionElements,c=b&&b.values;return c&&m(c,function(a){return $c(a,"biodi:Bounds")})}function Qi(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ri(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function Si(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ti(a){return this instanceof Ti?(a=a||[128,36,1],void(this._seed=a.length?iz.rack(a[0],a[1],a[2]):a)):new Ti(a)}function Ui(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Vi(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":kz(b))&&"function"!=typeof b?a:b}function Wi(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":kz(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Xi(a){this._commandStack=a.get("commandStack",!1)}function Yi(a){a.preventDefault()}function Zi(a){return"undefined"!=typeof TouchEvent&&a instanceof TouchEvent}function $i(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function _i(a,b,c){function d(a){var c=b.viewbox(),d=b._container.getBoundingClientRect();return{x:c.x+(a.x-d.left)/c.scale,y:c.y+(a.y-d.top)/c.scale}}function e(b,c){c=c||p;var d=a.createEvent(I({},c.payload,c.data,{isTouch:c.isTouch}));return a.fire("drag."+b,d)!==!1&&a.fire(c.prefix+"."+b,d)}function f(a,f){var g=p.payload,h=p.displacement,i=p.globalStart,j=Ed(a),k=ee(j,i),l=p.localStart,n=d(j),o=ee(n,l);if(!p.active&&(f||$i(k)>p.threshold)){if(I(g,{x:pz(l.x+h.x),y:pz(l.y+h.y),dx:0,dy:0},{originalEvent:a}),!1===e("start"))return m();p.active=!0,p.keepSelection||(g.previousSelection=c.get(),c.select(null)),p.cursor&&je(p.cursor),b.addMarker(b.getRootElement(),qz)}Dd(a),p.active&&(I(g,{x:pz(n.x+h.x),y:pz(n.y+h.y),dx:pz(o.x),dy:pz(o.y)},{originalEvent:a}),e("move"))}function g(a){var b,c=!0;p.active&&(a&&(p.payload.originalEvent=a,Dd(a)),c=e("end")),c===!1&&e("rejected"),b=n(c!==!0),e("ended",b)}function h(a){27===a.which&&(Yi(a),m())}function i(b){var c;p.active&&(c=le(a),setTimeout(c,400),Yi(b)),g(b)}function j(a){f(a)}function k(a){var b=p.payload;b.hoverGfx=a.gfx,b.hover=a.element,e("hover")}function l(a){e("out");var b=p.payload;b.hoverGfx=null,b.hover=null}function m(a){var b;if(p){var c=p.active;c&&e("cancel"),b=n(a),c&&e("canceled",b)}}function n(d){var n,o;e("cleanup"),ke(),o=p.trapClick?i:g,Ut.unbind(document,"mousemove",f),Ut.unbind(document,"dragstart",Yi),Ut.unbind(document,"selectstart",Yi),Ut.unbind(document,"mousedown",o,!0),Ut.unbind(document,"mouseup",o,!0),Ut.unbind(document,"keyup",h),Ut.unbind(document,"touchstart",j,!0),Ut.unbind(document,"touchcancel",m,!0),Ut.unbind(document,"touchmove",f,!0),Ut.unbind(document,"touchend",g,!0),a.off("element.hover",k),a.off("element.out",l),b.removeMarker(b.getRootElement(),qz);var q=p.payload.previousSelection;return d!==!1&&q&&!c.get().length&&c.select(q),n=p,p=null,n}function o(b,c,n,o){p&&m(!1),"string"==typeof c&&(o=n,n=c,c=null),o=I({},q,o||{});var r,s,t,u,v,w=o.data||{};u=o.trapClick?i:g,b?(r=Cd(b)||b,s=Ed(b),Dd(b),"dragstart"===r.type&&Yi(r)):(r=null,s={x:0,y:0}),t=d(s),c||(c=t),v=Zi(r),p=I({prefix:n,data:w,payload:{},globalStart:s,displacement:ee(c,t),localStart:t,isTouch:v},o),o.manual||(v?(Ut.bind(document,"touchstart",j,!0),Ut.bind(document,"touchcancel",m,!0),Ut.bind(document,"touchmove",f,!0),Ut.bind(document,"touchend",g,!0)):(Ut.bind(document,"mousemove",f),Ut.bind(document,"dragstart",Yi),Ut.bind(document,"selectstart",Yi),Ut.bind(document,"mousedown",u,!0),Ut.bind(document,"mouseup",u,!0)),Ut.bind(document,"keyup",h),a.on("element.hover",k),a.on("element.out",l)),e("init"),o.autoActivate&&f(b,!0)}var p,q={threshold:5,trapClick:!0};a.on("diagram.destroy",m),this.init=o,this.move=f,this.hover=k,this.out=l,this.end=g,this.cancel=m,this.context=function(){return p},this.setOptions=function(a){I(q,a)}}function aj(a){var b=Ot(a,"svg, .djs-element",!0);return b}function bj(a,b,c){var d=this;a.on("drag.start",function(b){a.once("drag.move",function(){a.once("drag.move",function(a){d.ensureHover(a)})})}),this.ensureHover=function(a){if(!a.hover){var d,e,f,g,h=a.originalEvent;h instanceof MouseEvent&&(d=Ed(h),e=document.elementFromPoint(d.x,d.y),g=aj(e),g&&(f=c.get(g),b.hover({element:f,gfx:g})))}}}function cj(a,b,c){this._elementRegistry=a,this._canvas=b,this._styles=c}function dj(a){a.children&&p(a.children,function(a){dj(a)}),a.style.markerStart="",a.style.markerEnd=""}function ej(a){return a.waypoints}function fj(a){return{x:a.x+wz(a.width/2),y:a.y+wz(a.height/2)}}function gj(a,b,c,d,e){function f(a,b,c,d){return e.allowed("elements.move",{shapes:a,delta:b,position:c,target:d})}function g(a,c,d){if(!c.waypoints&&c.parent){var e=fj(c);return b.init(a,e,"shape.move",{cursor:"grabbing",autoActivate:d,data:{shape:c,context:{}}}),!0}}a.on("shape.move.start",vz,function(a){var b=a.context,c=a.shape,e=d.get().slice();e.indexOf(c)===-1&&(e=[c]),e=hj(e),I(b,{shapes:e,validatedShapes:e,shape:c})}),a.on("shape.move.start",uz,function(a){var b,c=a.context,d=c.validatedShapes;if(b=c.canExecute=f(d),!b)return!1}),a.on("shape.move.move",tz,function(a){var b,c=a.context,d=c.validatedShapes,e=a.hover,g={x:a.dx,y:a.dy},h={x:a.x,y:a.y};return b=f(d,g,h,e),c.delta=g,c.canExecute=b,null===b?void(c.target=null):void(c.target=e)}),a.on("shape.move.end",function(a){var b=a.context,d=b.delta,e=b.canExecute,f="attach"===e,g=b.shapes;return!!e&&(d.x=wz(d.x),d.y=wz(d.y),void c.moveElements(g,d,b.target,{primaryShape:b.shape,attach:f}))}),a.on("element.mousedown",function(a){var b=Cd(a);if(!b)throw new Error("must supply DOM mousedown event");return g(b,a.element)}),this.start=g}function hj(a){var b=x(a,"id");return o(a,function(a){for(;a=a.parent;)if(b[a.id])return!1;return!0})}function ij(a,b,c,e,f){function g(a){var b=h(a),c=jj(b);return c}function h(a){var b=rc(a,!0),c=t(b,function(a){return(a.incoming||[]).concat(a.outgoing||[])});return d(b.concat(c))}function i(a,b){[Cz,zz,Az,Bz].forEach(function(d){d===b?c.addMarker(a,d):c.removeMarker(a,d)})}function j(a,b,d){f.addDragger(b,a.dragGroup),d&&c.addMarker(b,yz),a.allDraggedElements?a.allDraggedElements.push(b):a.allDraggedElements=[b]}a.on("shape.move.start",xz,function(a){var b=a.context,i=b.shapes,j=b.allDraggedElements,k=g(i);if(!b.dragGroup){var l=Tb("g");Jb(l,e.cls("djs-drag-group",["no-events"]));var m=c.getDefaultLayer();Fb(m,l),b.dragGroup=l}k.forEach(function(a){f.addDragger(a,b.dragGroup)}),j=j?d([j,h(i)]):h(i),p(j,function(a){c.addMarker(a,yz)}),b.allDraggedElements=j,b.differentParents=kj(i)}),a.on("shape.move.move",xz,function(a){var b=a.context,c=b.dragGroup,d=b.target,e=b.shape.parent,f=b.canExecute;d&&("attach"===f?i(d,Cz):b.canExecute&&d&&d.id!==e.id?i(d,Bz):i(d,b.canExecute?zz:Az)),Tc(c,a.dx,a.dy)}),a.on(["shape.move.out","shape.move.cleanup"],function(a){var b=a.context,c=b.target;c&&i(c,null)}),a.on("shape.move.cleanup",function(a){var b=a.context,d=b.allDraggedElements,e=b.dragGroup;p(d,function(a){c.removeMarker(a,yz)}),e&&Pb(e)}),this.makeDraggable=j}function jj(a){var b=o(a,function(b){return!lj(b)||m(a,A({id:b.source.id}))&&m(a,A({id:b.target.id}))});return b}function kj(a){return 1!==v(x(a,function(a){return a.parent&&a.parent.id}))}function lj(a){return a.waypoints}function mj(a,b){return a&&b?Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)):-1}function nj(a,b,c,d){if("undefined"==typeof d&&(d=5),!a||!b||!c)return!1;var e=(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x),f=mj(a,b);return Math.abs(e/f)<=d}function oj(a,b){return Math.abs(a.x-b.x)<=Ez?"h":Math.abs(a.y-b.y)<=Ez&&"v"}function pj(a,b){return{x:Math.round(a.x+(b.x-a.x)/2),y:Math.round(a.y+(b.y-a.y)/2)}}function qj(a,b){var c,d=Ed(b),e=a._container.getBoundingClientRect();c={x:e.left,y:e.top};var f=a.viewbox();return{x:f.x+(d.x-c.x)/f.scale,y:f.y+(d.y-c.y)/f.scale}}function rj(a,b){var c=Tb("g");Mb(c).add(Fz),Fb(a,c);var d=Tb("circle");Jb(d,{cx:0,cy:0,r:4}),Mb(d).add("djs-visual"),Fb(c,d);var e=Tb("circle");return Jb(e,{cx:0,cy:0,r:10}),Mb(e).add("djs-hit"),Fb(c,e),b&&Mb(c).add(b),c}function sj(a,b,c){var d=Tb("g");Fb(a,d);var e=14,f=3,g=6,h=e+g,i=f+g,j=Tb("rect");Jb(j,{x:-e/2,y:-f/2,width:e,height:f}),Mb(j).add("djs-visual"),Fb(d,j);var k=Tb("rect");return Jb(k,{x:-h/2,y:-i/2,width:h,height:i}),Mb(k).add("djs-hit"),Fb(d,k),Uc(d,"h"===c?90:0,0,0),d}function tj(a,b,c){var d=Tb("g"),e=pj(b,c),f=oj(b,c);return Fb(a,d),sj(d,e,f),Mb(d).add(Gz),Mb(d).add("h"===f?"vertical":"horizontal"),Tc(d,e.x,e.y),d}function uj(a,b){return b=String.prototype.toLowerCase.call(b),"finite"==b?isFinite(a):!("array"!=b||!(a instanceof Array||Array.isArray&&Array.isArray(a)))||("null"==b&&null===a||b==("undefined"==typeof a?"undefined":Iz(a))&&null!==a||"object"==b&&a===Object(a)||Object.prototype.toString.call(a).slice(8,-1).toLowerCase()==b)}function vj(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[Jz](c)&&(b[c]=vj(a[c]));return b}function wj(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function xj(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join(""),g=d.cache=d.cache||{},h=d.count=d.count||[];return g[Jz](f)?(wj(h,f),c?c(g[f]):g[f]):(h.length>=1e3&&delete g[h.shift()],h.push(f),g[f]=a.apply(b,e),c?c(g[f]):g[f])}return d}function yj(a){if(!a)return null;var b=zj(a);if(b.arr)return vj(b.arr);var c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},d=[];return uj(a,"array")&&uj(a[0],"array")&&(d=vj(a)),d.length||String(a).replace(Sz,function(a,b,e){var f=[],g=b.toLowerCase();if(e.replace(Tz,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(d.push([b].concat(f.splice(0,2))),g="l",b="m"==b?"l":"L"),"o"==g&&1==f.length&&d.push([b,f[0]]),"r"==g)d.push([b].concat(f));else for(;f.length>=c[g]&&(d.push([b].concat(f.splice(0,c[g]))),c[g]););}),d.toString=zj.toString,b.arr=vj(d),d}function zj(a){var b=zj.ps=zj.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[Jz](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]}function Aj(a,b,c,d){return null==a&&(a=b=c=d=0),null==b&&(b=a.y,c=a.width,d=a.height,a=a.x),{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:Mz.min(c,d)/2,r2:Mz.max(c,d)/2,r0:Mz.sqrt(c*c+d*d)/2,path:Mj(a,b,c,d),vb:[a,b,c,d].join(" ")}}function Bj(){return this.join(",").replace(Kz,"$1")}function Cj(a){var b=vj(a);return b.toString=Bj,b}function Dj(a,b,c,d,e,f,g,h,i){var j=1-i,k=Qz(j,3),l=Qz(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*Mz.atan2(q-s,r-t)/Nz;return{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}}function Ej(a,b,c,d,e,f,g,h){uj(a,"array")||(a=[a,b,c,d,e,f,g,h]);var i=Tj.apply(null,a);return Aj(i.min.x,i.min.y,i.max.x-i.min.x,i.max.y-i.min.y)}function Fj(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function Gj(a,b){return a=Aj(a),b=Aj(b),Fj(b,a.x,a.y)||Fj(b,a.x2,a.y)||Fj(b,a.x,a.y2)||Fj(b,a.x2,a.y2)||Fj(a,b.x,b.y)||Fj(a,b.x2,b.y)||Fj(a,b.x,b.y2)||Fj(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function Hj(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function Ij(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:i<0?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,o=0;o<k;o++){var p=j*l[o]+j,q=Hj(p,a,c,e,g),r=Hj(p,b,d,f,h),s=q*q+r*r;n+=m[o]*Mz.sqrt(s)}return j*n}function Jj(a,b,c,d,e,f,g,h){if(!(Pz(a,c)<Oz(e,g)||Oz(a,c)>Pz(e,g)||Pz(b,d)<Oz(f,h)||Oz(b,d)>Pz(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+Oz(a,c).toFixed(2)||n>+Pz(a,c).toFixed(2)||n<+Oz(e,g).toFixed(2)||n>+Pz(e,g).toFixed(2)||o<+Oz(b,d).toFixed(2)||o>+Pz(b,d).toFixed(2)||o<+Oz(f,h).toFixed(2)||o>+Pz(f,h).toFixed(2)))return{x:l,y:m}}}}function Kj(a,b,c){var d=Ej(a),e=Ej(b);if(!Gj(d,e))return c?0:[];for(var f=Ij.apply(0,a),g=Ij.apply(0,b),h=~~(f/5),i=~~(g/5),j=[],k=[],l={},m=c?0:[],n=0;n<h+1;n++){var o=Dj.apply(0,a.concat(n/h));j.push({x:o.x,y:o.y,t:n/h})}for(n=0;n<i+1;n++)o=Dj.apply(0,b.concat(n/i)),k.push({x:o.x,y:o.y,t:n/i});for(n=0;n<h;n++)for(var p=0;p<i;p++){var q=j[n],r=j[n+1],s=k[p],t=k[p+1],u=Rz(r.x-q.x)<.01?"y":"x",v=Rz(t.x-s.x)<.01?"y":"x",w=Jj(q.x,q.y,r.x,r.y,s.x,s.y,t.x,t.y);if(w){if(l[w.x.toFixed(0)]==w.y.toFixed(0))continue;l[w.x.toFixed(0)]=w.y.toFixed(0);var x=q.t+Rz((w[u]-q[u])/(r[u]-q[u]))*(r.t-q.t),y=s.t+Rz((w[v]-s[v])/(t[v]-s[v]))*(t.t-s.t);x>=0&&x<=1&&y>=0&&y<=1&&(c?m++:m.push({x:w.x,y:w.y,t1:x,t2:y}))}}return m}function Lj(a,b,c){a=Uj(a),b=Uj(b);for(var d,e,f,g,h,i,j,k,l,m,n=c?0:[],o=0,p=a.length;o<p;o++){var q=a[o];if("M"==q[0])d=h=q[1],e=i=q[2];else{"C"==q[0]?(l=[d,e].concat(q.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,h,i,h,i],d=h,e=i);for(var r=0,s=b.length;r<s;r++){var t=b[r];if("M"==t[0])f=j=t[1],g=k=t[2];else{"C"==t[0]?(m=[f,g].concat(t.slice(1)),f=m[6],g=m[7]):(m=[f,g,f,g,j,k,j,k],f=j,g=k);var u=Kj(l,m,c);if(c)n+=u;else{for(var v=0,w=u.length;v<w;v++)u[v].segment1=o,u[v].segment2=r,u[v].bez1=l,u[v].bez2=m;n=n.concat(u)}}}}}return n}function Mj(a,b,c,d,e){if(e)return[["M",+a+ +e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];var f=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];return f.toString=Bj,f}function Nj(a,b,c,d,e){if(null==e&&null==d&&(d=c),a=+a,b=+b,c=+c,d=+d,null!=e)var f=Math.PI/180,g=a+c*Math.cos(-d*f),h=a+c*Math.cos(-e*f),i=b+c*Math.sin(-d*f),j=b+c*Math.sin(-e*f),k=[["M",g,i],["A",c,c,0,+(e-d>180),0,h,j]];else k=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];return k.toString=Bj,k}function Oj(a){var b=zj(a);if(b.abs)return Cj(b.abs);if(uj(a,"array")&&uj(a&&a[0],"array")||(a=yj(a)),!a||!a.length)return[["M",0,0]];var c,d=[],e=0,f=0,g=0,h=0,i=0;"M"==a[0][0]&&(e=+a[0][1],f=+a[0][2],g=e,h=f,i++,d[0]=["M",e,f]);for(var j,k,l=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),m=i,n=a.length;m<n;m++){if(d.push(j=[]),k=a[m],c=k[0],c!=c.toUpperCase())switch(j[0]=c.toUpperCase(),j[0]){case"A":j[1]=k[1],j[2]=k[2],j[3]=k[3],j[4]=k[4],j[5]=k[5],j[6]=+k[6]+e,j[7]=+k[7]+f;break;case"V":j[1]=+k[1]+f;break;case"H":j[1]=+k[1]+e;break;case"R":for(var o=[e,f].concat(k.slice(1)),p=2,q=o.length;p<q;p++)o[p]=+o[p]+e,o[++p]=+o[p]+f;d.pop(),d=d.concat(Sj(o,l));break;case"O":d.pop(),o=Nj(e,f,k[1],k[2]),o.push(o[0]),d=d.concat(o);break;case"U":d.pop(),d=d.concat(Nj(e,f,k[1],k[2],k[3])),j=["U"].concat(d[d.length-1].slice(-2));break;case"M":g=+k[1]+e,h=+k[2]+f;default:for(p=1,q=k.length;p<q;p++)j[p]=+k[p]+(p%2?e:f)}else if("R"==c)o=[e,f].concat(k.slice(1)),d.pop(),d=d.concat(Sj(o,l)),j=["R"].concat(k.slice(-2));else if("O"==c)d.pop(),o=Nj(e,f,k[1],k[2]),o.push(o[0]),d=d.concat(o);else if("U"==c)d.pop(),d=d.concat(Nj(e,f,k[1],k[2],k[3])),j=["U"].concat(d[d.length-1].slice(-2));else for(var r=0,s=k.length;r<s;r++)j[r]=k[r];if(c=c.toUpperCase(),"O"!=c)switch(j[0]){case"Z":e=+g,f=+h;break;case"H":e=j[1];break;case"V":f=j[1];break;case"M":g=j[j.length-2],h=j[j.length-1];default:e=j[j.length-2],f=j[j.length-1]}}return d.toString=Bj,b.abs=Cj(d),d}function Pj(a,b,c,d){return[a,b,c,d,c,d]}function Qj(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function Rj(a,b,c,d,e,f,g,h,i,j){var k,l=120*Nz/180,m=Nz/180*(+e||0),n=[],o=xj(function(a,b,c){var d=a*Mz.cos(c)-b*Mz.sin(c),e=a*Mz.sin(c)+b*Mz.cos(c);return{x:d,y:e}});if(j)x=j[0],y=j[1],v=j[2],w=j[3];else{k=o(a,b,-m),a=k.x,b=k.y,k=o(h,i,-m),h=k.x,i=k.y;var p=(a-h)/2,q=(b-i)/2,r=p*p/(c*c)+q*q/(d*d);r>1&&(r=Mz.sqrt(r),c=r*c,d=r*d);var s=c*c,t=d*d,u=(f==g?-1:1)*Mz.sqrt(Rz((s*t-s*q*q-t*p*p)/(s*q*q+t*p*p))),v=u*c*q/d+(a+h)/2,w=u*-d*p/c+(b+i)/2,x=Mz.asin(((b-w)/d).toFixed(9)),y=Mz.asin(((i-w)/d).toFixed(9));x=a<v?Nz-x:x,y=h<v?Nz-y:y,x<0&&(x=2*Nz+x),y<0&&(y=2*Nz+y),g&&x>y&&(x-=2*Nz),!g&&y>x&&(y-=2*Nz)}var z=y-x;if(Rz(z)>l){var A=y,B=h,C=i;y=x+l*(g&&y>x?1:-1),h=v+c*Mz.cos(y),i=w+d*Mz.sin(y),n=Rj(h,i,c,d,e,0,g,B,C,[y,A,v,w])}z=y-x;var D=Mz.cos(x),E=Mz.sin(x),F=Mz.cos(y),G=Mz.sin(y),H=Mz.tan(z/4),I=4/3*c*H,J=4/3*d*H,K=[a,b],L=[a+I*E,b-J*D],M=[h+I*G,i-J*F],N=[h,i];if(L[0]=2*K[0]-L[0],L[1]=2*K[1]-L[1],j)return[L,M,N].concat(n);n=[L,M,N].concat(n).join().split(",");for(var O=[],P=0,Q=n.length;P<Q;P++)O[P]=P%2?o(n[P-1],n[P],m).y:o(n[P],n[P+1],m).x;return O}function Sj(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function Tj(a,b,c,d,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=[],r=[[],[]],s=0;s<2;++s)if(0==s?(j=6*a-12*c+6*e,i=-3*a+9*c-9*e+3*g,k=3*c-3*a):(j=6*b-12*d+6*f,i=-3*b+9*d-9*f+3*h,k=3*d-3*b),Rz(i)<1e-12){if(Rz(j)<1e-12)continue;l=-k/j,0<l&&l<1&&q.push(l)}else o=j*j-4*k*i,p=Mz.sqrt(o),o<0||(m=(-j+p)/(2*i),0<m&&m<1&&q.push(m),n=(-j-p)/(2*i),0<n&&n<1&&q.push(n));for(var t,u=q.length,v=u;u--;)l=q[u],t=1-l,r[0][u]=t*t*t*a+3*t*t*l*c+3*t*l*l*e+l*l*l*g,r[1][u]=t*t*t*b+3*t*t*l*d+3*t*l*l*f+l*l*l*h;return r[0][v]=a,r[1][v]=b,r[0][v+1]=g,r[1][v+1]=h,r[0].length=r[1].length=v+2,{min:{x:Oz.apply(0,r[0]),y:Oz.apply(0,r[1])},max:{x:Pz.apply(0,r[0]),y:Pz.apply(0,r[1])}}}function Uj(a,b){var c=!b&&zj(a);if(!b&&c.curve)return Cj(c.curve);for(var d=Oj(a),e=b&&Oj(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(Rj.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"].concat(Qj(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(Qj(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(Pj(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(Pj(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(Pj(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(Pj(b.x,b.y,b.X,b.Y))}return a}),i=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)k[b]="A",e&&(l[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1),p=Pz(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],p=Pz(d.length,e&&e.length||0))},k=[],l=[],m="",n="",o=0,p=Pz(d.length,e&&e.length||0);o<p;o++){d[o]&&(m=d[o][0]),"C"!=m&&(k[o]=m,o&&(n=k[o-1])),d[o]=h(d[o],f,n),"A"!=k[o]&&"C"==m&&(k[o]="C"),i(d,o),e&&(e[o]&&(m=e[o][0]),"C"!=m&&(l[o]=m,o&&(n=l[o-1])),e[o]=h(e[o],g,n),"A"!=l[o]&&"C"==m&&(l[o]="C"),i(e,o)),j(d,e,f,g,o),j(e,d,g,f,o);var q=d[o],r=e&&e[o],s=q.length,t=e&&r.length;f.x=q[s-2],f.y=q[s-1],f.bx=Lz(q[s-4])||f.x,f.by=Lz(q[s-3])||f.y,g.bx=e&&(Lz(r[t-4])||g.x),g.by=e&&(Lz(r[t-3])||g.y),g.x=e&&r[t-2],g.y=e&&r[t-1]}return e||(c.curve=Cj(d)),e?[d,e]:d}function Vj(a,b){var c=a.x,d=a.y;return[["M",c,d],["m",0,-b],["a",b,b,0,1,1,0,2*b],["a",b,b,0,1,1,0,-2*b],["z"]]}function Wj(a){var b=[];return a.forEach(function(a,c){b.push([0===c?"M":"L",a.x,a.y])}),b}function Xj(a,b){var c,d;for(c=0;d=a[c];c++)if(mj(d,b)<=Xz)return{point:a[c],bendpoint:!0,index:c};return null}function Yj(a,b){var c,d=Uz(Vj(b,Xz),Wj(a)),e=d[0],f=d[d.length-1];return e?e!==f?e.segment2!==f.segment2?(c=Wz(e.segment2,f.segment2)-1,{point:a[c],bendpoint:!0,index:c}):{point:{x:Vz(e.x+f.x)/2,y:Vz(e.y+f.y)/2},index:e.segment2}:{point:{x:Vz(e.x),y:Vz(e.y)},index:e.segment2}:null}function Zj(a,b){return Xj(a,b)||Yj(a,b)}function $j(a,b,c,d,e){function f(a,c){var d=qj(b,c),e=Zj(a,d);return e}function g(a,b,c){var d,e,f,g,h,i,j=a.index,k=a.point;return!(j<=0||a.bendpoint)&&(d=b[j-1],e=b[j],f=pj(d,e),g=oj(d,e),h=Math.abs(k.x-f.x),i=Math.abs(k.y-f.y),g&&h<=c&&i<=c)}function h(a,b){var c=b.waypoints,h=f(c,a);if(h)return g(h,c,10)?e.start(a,b,h.index):d.start(a,b,h.index,!h.bendpoint),!0}function i(a,b,d){Ut.bind(a,b,function(a){c.triggerMouseEvent(b,a,d),a.stopPropagation()})}function j(a,c){var d=b.getLayer("overlays"),e=jb('.djs-bendpoints[data-element-id="'+Hz(a.id)+'"]',d);return!e&&c&&(e=Tb("g"),Jb(e,{"data-element-id":a.id}),Mb(e).add("djs-bendpoints"),Fb(d,e),i(e,"mousedown",a),i(e,"click",a),i(e,"dblclick",a)),e}function k(a,b){b.waypoints.forEach(function(b,c){var d=rj(a);Fb(a,d),Tc(d,b.x,b.y)}),rj(a,"floating")}function l(a,b){for(var c,d,e=b.waypoints,f=1;f<e.length;f++)c=e[f-1],d=e[f],oj(c,d)&&tj(a,c,d)}function m(a){p(kb("."+Fz,a),function(a){Ob(a)})}function n(a){p(kb("."+Gz,a),function(a){Ob(a)})}function o(a){var b=j(a);return b||(b=j(a,!0),k(b,a),l(b,a)),b}function q(a){var b=j(a);b&&(n(b),m(b),l(b,a),k(b,a))}a.on("connection.changed",function(a){q(a.element)}),a.on("connection.remove",function(a){var b=j(a.element);b&&Ob(b)}),a.on("element.marker.update",function(a){var b,c=a.element;c.waypoints&&(b=o(c),a.add?Mb(b).add(a.marker):Mb(b).remove(a.marker))}),a.on("element.mousemove",function(a){var b,c,d,e=a.element,g=e.waypoints;if(g){if(b=j(e,!0),c=jb(".floating",b),!c)return;d=f(g,a.originalEvent),d&&Tc(c,d.point.x,d.point.y)}}),a.on("element.mousedown",function(a){var b=a.originalEvent,c=a.element,d=c.waypoints;if(d)return h(b,c,d)}),a.on("selection.changed",function(a){var b=a.newSelection,c=b[0];c&&c.waypoints&&o(c)}),a.on("element.hover",function(a){var b=a.element;b.waypoints&&(o(b),c.registerEvent(a.gfx,"mousemove","element.mousemove"))}),a.on("element.out",function(a){c.unregisterEvent(a.gfx,"mousemove","element.mousemove")}),a.on("element.updateId",function(a){var b=a.element,c=a.newId;if(b.waypoints){var d=j(b);d&&Jb(d,{"data-element-id":c})}}),this.addHandles=o,this.updateHandles=q,this.getBendpointsContainer=j}function _j(a,b,c,d,e,f,g){function h(a){e.update("connection",a.connection,a.connectionGfx)}function i(a){a=a.slice();for(var b,c,d,e=0;a[e];)b=a[e],c=a[e-1],d=a[e+1],0===mj(b,d)||nj(c,d,b)?a.splice(e,1):e++;return a}var j=a.get("connectionDocking",!1);this.start=function(a,b,e,f){var g,h,i=b.waypoints,j=c.getGraphics(b);g=f||0!==e?f||e!==i.length-1?aA:cA:bA,h={connection:b,bendpointIndex:e,insert:f,type:g},d.init(a,"bendpoint.move",{data:{connection:b,connectionGfx:j,context:h}})},b.on("bendpoint.move.start",function(a){var b=a.context,d=b.connection,e=d.waypoints,f=e.slice(),g=b.insert,h=b.bendpointIndex;b.originalWaypoints=e,g&&f.splice(h,0,null),d.waypoints=f,b.draggerGfx=rj(c.getLayer("overlays")),Mb(b.draggerGfx).add("djs-dragging"),c.addMarker(d,_z)}),b.on("bendpoint.move.hover",function(a){var b=a.context;if(b.hover=a.hover,a.hover){c.addMarker(a.hover,$z);var d=b.allowed=f.allowed(b.type,b);d?(c.removeMarker(b.hover,Zz),c.addMarker(b.hover,Yz),b.target=b.hover):d===!1&&(c.removeMarker(b.hover,Yz),c.addMarker(b.hover,Zz),b.target=null)}}),b.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(a){var b=a.context.hover;b&&(c.removeMarker(b,$z),c.removeMarker(b,a.context.target?Yz:Zz))}),b.on("bendpoint.move.move",function(a){var b,c,d=a.context,e=d.type,f=a.connection;f.waypoints[d.bendpointIndex]={x:a.x,y:a.y},j&&(d.hover&&(e===bA&&(b=d.hover),e===cA&&(c=d.hover)),f.waypoints=j.getCroppedWaypoints(f,b,c)),Tc(d.draggerGfx,a.x,a.y),h(a)}),b.on(["bendpoint.move.end","bendpoint.move.cancel"],function(a){var b=a.context,d=b.hover,e=b.connection;Ob(b.draggerGfx),b.newWaypoints=e.waypoints.slice(),e.waypoints=b.originalWaypoints,c.removeMarker(e,_z),d&&(c.removeMarker(d,Yz),c.removeMarker(d,Zz))}),b.on("bendpoint.move.end",function(a){var b,c=a.context,d=c.newWaypoints,e=c.bendpointIndex,f=d[e],j=c.allowed;if(f.x=dA(f.x),f.y=dA(f.y),j&&c.type===bA)g.reconnectStart(c.connection,c.target,f);else if(j&&c.type===cA)g.reconnectEnd(c.connection,c.target,f);else{if(j===!1||c.type!==aA)return h(a),!1;b={bendpointMove:{insert:a.context.insert,bendpointIndex:e}},g.updateWaypoints(c.connection,i(d),b)}}),b.on("bendpoint.move.cancel",function(a){h(a)})}function ak(a){return{x:Math.round(a.x),y:Math.round(a.y)}}function bk(a){return{top:a.y,right:a.x+(a.width||0),bottom:a.y+(a.height||0),left:a.x}}function ck(a){return ak({x:a.x+(a.width||0)/2,y:a.y+(a.height||0)/2})}function dk(a,b,c){c=c||0,h(c)||(c={x:c,y:c});var d=bk(a),e=bk(b),f=d.bottom+c.y<=e.top,g=d.left-c.x>=e.right,i=d.top-c.y>=e.bottom,j=d.right+c.x<=e.left,k=f?"top":i?"bottom":null,l=j?"left":g?"right":null;return l&&k?k+"-"+l:l||k||"intersect"}function ek(a,b,c){var d=fk(a,b);return 1===d.length?ak(d[0]):2===d.length&&mj(d[0],d[1])<1?ak(d[0]):d.length>1?(d=z(d,function(a){var b=Math.floor(100*a.t2)||1;return b=100-b,b=(b<10?"0":"")+b,a.segment2+"#"+b}),ak(d[c?0:d.length-1])):null}function fk(a,b){return Uz(a,b)}function gk(a,b,c){return hk(a,b,a[b]+c)}function hk(a,b,c){return{x:"x"===b?c:a.x,y:"y"===b?c:a.y}}function ik(a,b,c,d){var e=Math.max(b[d],c[d]),f=Math.min(b[d],c[d]),g=20,h=Math.min(Math.max(f+g,a[d]),e-g);return hk(b,d,h)}function jk(a){return"x"===a?"y":"x"}function kk(a,b,c){var d,e;return a.original?a.original:(d=ck(b),e=jk(c),hk(a,e,d[e]))}function lk(a,b,c,d,e,f,g){function h(a,b){if(!l)return b;var c,d=a.waypoints;return a.waypoints=b,c=l.getCroppedWaypoints(a),a.waypoints=d,c}function i(a){e.update("connection",a.connection,a.connectionGfx)}function j(a,b,c){var d=a.newWaypoints,e=a.segmentStartIndex+b,f=d[e],g=a.segmentEndIndex+b,h=d[g],i=jk(a.axis),j=ik(c,f,h,i);Tc(a.draggerGfx,j.x,j.y)}function k(a,b){var c=0,d=a.filter(function(d,e){return!nj(a[e-1],a[e+1],d)||(c=e<=b?c-1:c,!1)});return{waypoints:d,segmentOffset:c}}var l=a.get("connectionDocking",!1);this.start=function(a,b,e){var f,g,h,i=c.getGraphics(b),j=e-1,k=e,l=b.waypoints,m=l[j],n=l[k];g=oj(m,n),g&&(h="v"===g?"y":"x",0===j&&(m=kk(m,b.source,h)),k===l.length-1&&(n=kk(n,b.target,h)),f={connection:b,segmentStartIndex:j,segmentEndIndex:k,segmentStart:m,segmentEnd:n,axis:h},d.init(a,{x:(m.x+n.x)/2,y:(m.y+n.y)/2},"connectionSegment.move",{cursor:"x"===h?"resize-ew":"resize-ns",data:{connection:b,connectionGfx:i,context:f}}))},b.on("connectionSegment.move.start",function(a){var b=a.context,d=a.connection,e=c.getLayer("overlays");b.originalWaypoints=d.waypoints.slice(),b.draggerGfx=tj(e,b.segmentStart,b.segmentEnd),Mb(b.draggerGfx).add("djs-dragging"),c.addMarker(d,fA)}),b.on("connectionSegment.move.move",function(a){var b=a.context,c=b.connection,d=b.segmentStartIndex,e=b.segmentEndIndex,f=b.segmentStart,g=b.segmentEnd,k=b.axis,l=b.originalWaypoints.slice(),m=gk(f,k,a["d"+k]),n=gk(g,k,a["d"+k]),o=l.length,p=0;l[d]=m,l[e]=n;var q,r;d<2&&(q=dk(c.source,m),1===d?"intersect"===q&&(l.shift(),l[0]=m,p--):"intersect"!==q&&(l.unshift(f),p++)),e>o-3&&(r=dk(c.target,n),e===o-2?"intersect"===r&&(l.pop(),l[l.length-1]=n):"intersect"!==r&&l.push(g)),b.newWaypoints=c.waypoints=h(c,l),j(b,p,a),b.newSegmentStartIndex=d+p,i(a)}),b.on("connectionSegment.move.hover",function(a){a.context.hover=a.hover,c.addMarker(a.hover,eA)}),b.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(a){var b=a.context.hover;b&&c.removeMarker(b,eA)}),b.on("connectionSegment.move.cleanup",function(a){var b=a.context,d=b.connection;b.draggerGfx&&Ob(b.draggerGfx),c.removeMarker(d,fA)}),b.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(a){var b=a.context,c=b.connection;c.waypoints=b.originalWaypoints,i(a)}),b.on("connectionSegment.move.end",function(a){var b=a.context,c=b.connection,d=b.newWaypoints,e=b.newSegmentStartIndex;d=d.map(function(a){return{original:a.original,x:Math.round(a.x),y:Math.round(a.y)}});var f=k(d,e),i=f.waypoints,j=h(c,i),l=f.segmentOffset,m={segmentMove:{segmentStartIndex:b.segmentStartIndex,newSegmentStartIndex:e+l}};g.updateWaypoints(c,j,m)})}function mk(a){function b(a,b){if(g(a)){for(var c=a.length;c--;)if(gA(a[c]-b)<=iA)return a[c]}else{a=+a;var d=b%a;if(d<iA)return b-d;if(d>a-iA)return b-d+a}return b}function c(a){if(a.width)return{x:hA(a.width/2+a.x),y:hA(a.height/2+a.y)}}function d(a){var b=a.snapPoints,d=a.connection,e=d.waypoints,f=a.segmentStart,g=a.segmentStartIndex,h=a.segmentEnd,i=a.segmentEndIndex,j=a.axis;if(b)return b;var k=[e[g-1],f,h,e[i+1]];return g<2&&k.unshift(c(d.source)),i>e.length-3&&k.unshift(c(d.target)),a.snapPoints=b={horizontal:[],vertical:[]},p(k,function(a){a&&(a=a.original||a,"y"===j&&b.horizontal.push(a.y),"x"===j&&b.vertical.push(a.x))}),b}function e(a){var b=a.snapPoints,c=a.connection.waypoints,d=a.bendpointIndex;if(b)return b;var e=[c[d-1],c[d+1]];return a.snapPoints=b={horizontal:[],vertical:[]},p(e,function(a){a&&(a=a.original||a,b.horizontal.push(a.y),b.vertical.push(a.x))}),b}a.on("connectionSegment.move.move",1500,function(a){var c,e,f=a.context,g=d(f),h=a.x,i=a.y;if(g){c=b(g.vertical,h),e=b(g.horizontal,i);var j=h-c,k=i-e;I(a,{dx:a.dx-j,dy:a.dy-k,x:c,y:e})}}),a.on("bendpoint.move.move",1500,function(a){var d,f,g=a.context,h=e(g),i=g.target,j=i&&c(i),k=a.x,l=a.y;if(h){d=b(j?h.vertical.concat([j.x]):h.vertical,k),f=b(j?h.horizontal.concat([j.y]):h.horizontal,l);var m=k-d,n=l-f;I(a,{dx:a.dx-m,dy:a.dy-n,x:a.x-m,y:a.y-n})}})}function nk(a,b,c){function d(a){var d=0;p(a.drgElements,function(a){var e,f,g;$c(a,"dmn:Decision")&&(f=a.extensionElements,f||(f=a.extensionElements=b.createDi(),f.$parent=a),g=c._getDefaultSize(a),e=b.createDiBounds({x:150+30*d,y:150+30*d,width:g.width,height:g.height}),f.get("values").push(e),e.$parent=f,d++)})}a.on("import.start",function(a){var b=a.definitions;Oi(b)||d(b)})}function ok(){}function pk(a,b){this._eventBus=a,this._canvas=b,this._init()}function qk(a){var b={},c=[],d=[],e=[];return p(a,function(a){var d=a.parent;b[d.id]||(b[d.id]=[]),c.indexOf(d.id)===-1&&c.push(d.id),b[d.id].push(a)}),p(c,function(a){p(b[a],function(a){b[a.id]&&e.push(a.id)})}),p(c,function(a){var c=e.indexOf(a);c===-1&&(d=d.concat(b[a]))}),d}function rk(a,b,c,d,e,f){this._eventBus=a,this._modeling=b,this._elementFactory=c,this._rules=d,this._canvas=f,this._clipboard=e,this._descriptors=[],this.registerDescriptor(function(a,b){return b.priority=1,b.id=a.id,a.parent&&(b.parent=a.parent.id),a.labelTarget&&(b.priority=4,b.labelTarget=a.labelTarget.id),a.host&&(b.priority=2,b.host=a.host.id),"number"==typeof a.x&&(b.x=a.x,b.y=a.y),a.width&&(b.width=a.width,b.height=a.height),a.waypoints&&(b.priority=3,b.waypoints=[],p(a.waypoints,function(a){var c={x:a.x,y:a.y};a.original&&(c.original={x:a.original.x,y:a.original.y}),b.waypoints.push(c)})),a.source&&a.target&&(b.source=a.source.id,b.target=a.target.id),b})}function sk(a,b,c,d,e,f,h,i,j){this._actions={undo:function(){b.undo()},redo:function(){b.redo()},copy:function(){var a=d.get();f.copy(a)},paste:function(){var a=j.getHoverContext();f.paste(a)},stepZoom:function(a){e.stepZoom(a.value)},zoom:function(a){h.zoom(a.value)},removeSelection:function(){var a=d.get();if(a.length){var b,e=i.allowed("elements.delete",{elements:a});if(e===!1)return;b=g(e)?e:a,b.length&&c.removeElements(b.slice())}},moveCanvas:function(a){var b=0,c=0,d=a.invertY,e=a.speed,f=e/Math.min(Math.sqrt(h.viewbox().scale),1);switch(a.direction){case"left":b=f;break;case"up":c=f;break;case"right":b=-f;break;case"down":c=-f}c&&d&&(c=-c),
h.scroll({dx:b,dy:c})}}}function tk(a,b){return new Error(a+" "+b)}function uk(a,b){this._eventBus=a,this._dragging=b,this._tools=[],this._active=null}function vk(a,b,c,d,e,f){this._selection=e,this._dragging=c;var g=this,h={create:function(a){var c,d=b.getDefaultLayer();c=a.frame=Tb("rect"),Jb(c,{"class":"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Fb(d,c)},update:function(a){var b=a.frame,c=a.bbox;Jb(b,{x:c.x,y:c.y,width:c.width,height:c.height})},remove:function(a){a.frame&&Ob(a.frame)}};f.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),a.on("lasso.selection.end",function(b){var c=b.originalEvent.target;(b.hover||c instanceof SVGElement)&&a.once("lasso.selection.ended",function(){g.activateLasso(b.originalEvent,!0)})}),a.on("lasso.end",function(a){var b=wk(a),c=d.filter(function(a){return a});g.select(c,b)}),a.on("lasso.start",function(a){var b=a.context;b.bbox=wk(a),h.create(b)}),a.on("lasso.move",function(a){var b=a.context;b.bbox=wk(a),h.update(b)}),a.on("lasso.cleanup",function(a){var b=a.context;h.remove(b)}),a.on("element.mousedown",1500,function(a){if(Id(a))return g.activateLasso(a.originalEvent),!0})}function wk(a){var b,c={x:a.x-a.dx,y:a.y-a.dy},d={x:a.x,y:a.y};return b=c.x<=d.x&&c.y<d.y||c.x<d.x&&c.y<=d.y?{x:c.x,y:c.y,width:d.x-c.x,height:d.y-c.y}:c.x>=d.x&&c.y<d.y||c.x>d.x&&c.y<=d.y?{x:d.x,y:c.y,width:c.x-d.x,height:d.y-c.y}:c.x<=d.x&&c.y>d.y||c.x<d.x&&c.y>=d.y?{x:c.x,y:d.y,width:d.x-c.x,height:c.y-d.y}:c.x>=d.x&&c.y>d.y||c.x>d.x&&c.y>=d.y?{x:d.x,y:d.y,width:c.x-d.x,height:c.y-d.y}:{x:d.x,y:d.y,width:0,height:0}}function xk(a,b,c,d,e,f){a.invoke(sk,this),this.register({selectElements:function(){var a=b.getRootElement(),e=c.filter(function(b){return b!==a});return d.select(e),e},lassoTool:function(){e.toggle()},directEditing:function(){var a=d.get();a.length&&f.activate(a[0])}})}function yk(a,b){this._providers=[],this._eventBus=a,this._overlays=b,this._current=null,this._init()}function zk(a,b){var c=db(a),d=g(b)?b:b.split(/\s+/g);d.forEach(function(a){c.add(a)})}function Ak(a,b,c,d,e,f){function g(a,b){return d.allowed("connection.create",{source:a,target:b})}function h(a,b,c,d){var e=f.getShapePath(c),g=d&&f.getShapePath(d),h=f.getConnectionPath({waypoints:[a,b]});return a=ek(e,h,!0)||a,b=d&&ek(g,h,!1)||b,[a,b]}a.on("connect.move",function(a){var b,c,d=a.context,e=d.source,f=d.target,g=d.visual,i=d.sourcePosition;b={x:a.x,y:a.y},c=h(i,b,e,f),Jb(g,{points:[c[0].x,c[0].y,c[1].x,c[1].y]})}),a.on("connect.hover",function(a){var b,c=a.context,d=c.source,f=a.hover;b=c.canExecute=g(d,f),null!==b&&(c.target=f,e.addMarker(f,b?zA:AA))}),a.on(["connect.out","connect.cleanup"],function(a){var b=a.context;b.target&&e.removeMarker(b.target,b.canExecute?zA:AA),b.target=null,b.canExecute=!1}),a.on("connect.cleanup",function(a){var b=a.context;b.visual&&Ob(b.visual)}),a.on("connect.start",function(a){var b,c=a.context;b=Tb("polyline"),Jb(b,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),Fb(e.getDefaultLayer(),b),c.visual=b}),a.on("connect.end",function(a){var b=a.context,d=b.source,e=b.sourcePosition,f=b.target,h={x:a.x,y:a.y},i=b.canExecute||g(d,f);if(!i)return!1;var j=null,k={connectionStart:e,connectionEnd:h};"object"===("undefined"==typeof i?"undefined":yA(i))&&(j=i),c.connect(d,f,j,k)}),this.start=function(a,c,d,e){"object"!==("undefined"==typeof d?"undefined":yA(d))&&(e=d,d=ck(c)),b.init(a,"connect",{autoActivate:e,data:{shape:c,context:{source:c,sourcePosition:d}}})}}function Bk(a,b,c,d,e,f,g){function h(a,b,d,e){if(!b)return!1;var f,g,h,i={source:d,shape:a,target:b,position:e};return g=c.allowed("shape.attach",i),g||(f=c.allowed("shape.create",i)),(f||g)&&(h=d&&c.allowed("connection.create",{source:d,target:a,hints:{targetParent:b,targetAttach:g}})),!(!f&&!g)&&{attach:g,connect:h}}function i(a,b){[FA,DA,EA,GA].forEach(function(c){c===b?e.addMarker(a,c):e.removeMarker(a,c)})}function j(a){var b,c,d;b=Tb("g"),Jb(b,f.cls("djs-drag-group",["no-events"])),Fb(e.getDefaultLayer(),b),c=Tb("g"),Mb(c).add("djs-dragger"),Fb(b,c),Tc(c,a.width/-2,a.height/-2);var h=Tb("g");return Mb(h).add("djs-visual"),Fb(c,h),d=h,g.drawShape(d,a),b}a.on("create.move",function(a){var b,c=a.context,d=a.hover,e=c.shape,f=c.source,g={x:a.x,y:a.y};b=c.canExecute=d&&h(e,d,f,g),d&&null!==b&&(c.target=d,b&&b.attach?i(d,FA):i(d,b?GA:EA))}),a.on("create.move",CA,function(a){var b=a.context,c=b.shape,d=b.visual;d||(d=b.visual=j(c)),Tc(d,a.x,a.y)}),a.on(["create.end","create.out","create.cleanup"],function(a){var b=a.context,c=b.target;c&&i(c,null)}),a.on("create.end",function(a){var b=a.context,c=b.source,e=b.shape,f=b.target,g=b.canExecute,h=g&&g.attach,i=g&&g.connect,j={x:a.x,y:a.y};return!!g&&(e=i?d.appendShape(c,e,j,f,{attach:h,connection:i===!0?{}:i}):d.createShape(e,j,f,{attach:h}),void(b.shape=e))}),a.on("create.cleanup",function(a){var b=a.context;b.visual&&Ob(b.visual)}),this.start=function(a,c,d){b.init(a,"create",{cursor:"grabbing",autoActivate:!0,data:{shape:c,context:{shape:c,source:d}}})}}function Ck(a,b){this._eventBus=a,this._canvas=b,this._providers={},this._current={}}function Dk(a){this._modeling=a}function Ek(a,b,c,d){function e(c,d,e){e=e||{};var f=d.type,g=c.businessObject,h=a.create(f),i={type:f,businessObject:h};if(i.width=c.width,i.height=c.height,h.name=g.name,d.table){var j=a.create("dmn:DecisionTable");h.decisionTable=j,j.$parent=h;var k=a.create("dmn:OutputClause");k.typeRef="string",k.$parent=j,j.output=[k];var l=a.create("dmn:InputClause");l.$parent=j;var m=a.create("dmn:LiteralExpression",{typeRef:"string"});l.inputExpression=m,m.$parent=l,j.input=[l]}return d.expression&&(h.literalExpression=a.create("dmn:LiteralExpression"),h.variable=a.create("dmn:InformationItem")),b.replaceElement(c,i,e)}this.replaceElement=e}function Fk(a,b,c,d,e,f){this._popupMenu=a,this._modeling=b,this._moddle=c,this._drdReplace=d,this._rules=e,this._translate=f,this.register()}function Gk(a,b,c,d,e,f,g,h,i,j){b.registerProvider(this),this._contextPad=b,this._modeling=c,this._elementFactory=d,this._connect=e,this._create=f,this._rules=g,this._popupMenu=h,this._canvas=i,this._translate=j,a.on("create.end",250,function(a){var c=a.context.shape;if(Hd(a)){var d=b.getEntries(c);d.replace&&d.replace.action.click(a,c)}})}function Hk(a,b,c){var d=this;this._config=a||{},this._eventBus=b,this._editorActions=c,this._listeners=[],this._keyHandler=function(a){var b,c,e=a.target,f=d._listeners,g=a.keyCode||a.charCode||-1;if(!e||!cu(e,"input, textarea")&&"true"!==e.contentEditable)for(b=0;c=f[b];b++)c(g,a)&&(a.preventDefault(),a.stopPropagation())},b.on("diagram.destroy",function(){d._fire("destroy"),d.unbind(),d._listeners=null}),b.on("diagram.init",function(){d._fire("init")}),b.on("attach",function(){a&&a.bindTo&&d.bind(a.bindTo)}),b.on("detach",function(){d.unbind()}),this._init()}function Ik(a){return a.ctrlKey||a.metaKey||a.shiftKey||a.altKey}function Jk(a){return!a.altKey&&(a.ctrlKey||a.metaKey)}function Kk(a){return a.shiftKey}function Lk(a,b){a.addListener(function(c,d){if(65===c&&a.isCmd(d))return b.trigger("selectElements"),!0;if(!a.hasModifier(d))return 76===c?(b.trigger("lassoTool"),!0):69===c?(b.trigger("directEditing"),!0):void 0})}function Mk(a,b){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=b,this._eventBus=a,this._uid=1,a.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}function Nk(a,b,c,d){a.on("element.changed",function(d){var e=d.element;(e.parent||e===b.getRootElement())&&(d.gfx=c.getGraphics(e)),d.gfx&&a.fire(vc(e)+".changed",d)}),a.on("elements.changed",function(b){var c=b.elements;c.forEach(function(b){a.fire("element.changed",{element:b})}),d.updateContainments(c)}),a.on("shape.changed",function(a){d.update("shape",a.element,a.gfx)}),a.on("connection.changed",function(a){d.update("connection",a.element,a.gfx)})}function Ok(a){a.preventDefault()}function Pk(a){a.stopPropagation()}function Qk(a){return a.nodeType===Node.TEXT_NODE}function Rk(a){return[].slice.call(a)}function Sk(a){this.container=a.container,this.parent=Zt('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=jb("[contenteditable]",this.parent),this.keyHandler=a.keyHandler||function(){},this.resizeHandler=a.resizeHandler||function(){},this.autoResize=H(this.autoResize,this),this.handlePaste=H(this.handlePaste,this)}function Tk(a,b){this._eventBus=a,this._providers=[],this._textbox=new Sk({container:b.getContainer(),keyHandler:H(this._handleKey,this),resizeHandler:H(this._handleResize,this)})}function Uk(a){return $c(a,"dmn:Decision")||$c(a,"dmn:BusinessKnowledgeModel")||$c(a,"dmn:InputData")||$c(a,"dmn:KnowledgeSource")?"name":$c(a,"dmn:TextAnnotation")?"text":void 0}function Vk(a){var b=a.businessObject,c=Uk(b);if(c)return b[c]||""}function Wk(a,b,c){var d=a.businessObject,e=Uk(d);return e&&(d[e]=b),c&&(a.hidden=!b),a}function Xk(){function a(a,b){var c=a.label||a,d=a.labelTarget||a;return Wk(c,b,d!==c),[c,d]}function b(b){return b.oldLabel=Vk(b.element),a(b.element,b.newLabel)}function c(b){return a(b.element,b.oldLabel)}this.execute=b,this.revert=c}function Yk(a,b,c,d){this._canvas=b,this._commandStack=d,c.registerProvider(this),d.registerHandler("element.updateLabel",Xk),a.on("element.dblclick",function(a){c.activate(a.element)}),a.on(["element.mousedown","drag.init","canvas.viewbox.changed"],function(a){c.complete()}),a.on(["commandStack.changed"],function(){c.cancel()}),a.on("create.end",500,function(a){var b=a.shape;($c(b,"dmn:Decision")||$c(b,"dmn:InputData")||$c(b,"dmn:BusinessKnowledgeModel")||$c(b,"dmn:KnowledgeSource"))&&c.activate(b)})}function Zk(a){this._eventBus=a}function $k(a,b){return function(c){return a.call(b||null,c.context,c.command,c)}}function _k(a){switch(a.type){case"dmn:InputData":return"Input";case"dmn:Decision":return"Decision";case"dmn:KnowledgeSource":return"Authority";case"dmn:BusinessKnowledgeModel":return"Knowledge"}}function al(a,b,c){Zk.call(this,a),this.preExecute("connection.create",function(a){var c,d,e,f,g,h=a.connection,i=h.businessObject,j=a.source,k=a.target;"dmn:Association"===h.type?(c=b.create("dmn:DMNElementReference",{href:"#"+j.id}),d=b.create("dmn:DMNElementReference",{href:"#"+k.id}),i.sourceRef=c,i.targetRef=d,i.extensionElements=b.createDi(),g=b.createDiEdge(j,[ck(j),ck(k)]),i.extensionElements.values.push(g)):($c(j,"dmn:Decision")&&$c(k,"dmn:InputData")&&(a.target=j,a.source=j=k),e=_k(j),f=b.create("dmn:DMNElementReference",{href:"#"+j.id}),i["required"+e]=f,g=b.createDiEdge(j,[ck(j),ck(a.target)]),a.di=g)},!0)}function bl(a,b,c){function d(a){var d,e=a.source,f=a.target,g=a.parent;g&&(d=c.canConnect(e,f)||{type:"dmn:Association"},d.waypoints=a.waypoints.slice(),b.removeConnection(a),b.connect(e,f,d))}Zk.call(this,a),this.postExecuted("connection.reconnectStart",function(a){var b=a.context.connection.target.businessObject.extensionElements.values,c=o(b,function(b){return"biodi:Edge"===b.$type&&b.source===a.context.oldSource.id})[0];c&&b.splice(b.indexOf(c),1)}),this.postExecuted(["connection.reconnectStart","connection.reconnectEnd"],function(a){var b=a.context.connection;d(b)})}function cl(a,b){Zk.call(this,a),this._modeling=b,this.postExecuted(["shape.replace"],1500,function(a){var c=a.context,d=c.oldShape,e=c.newShape,f=e.id;b.unclaimId(d.businessObject.id,d.businessObject),b.updateProperties(e,{id:d.id}),p(e.outgoing,function(a){var b,c,e=a.businessObject;e.$instanceOf("dmn:Association")?(e.sourceRef.href="#"+d.id,b=e.extensionElements):(e.requiredDecision.href="#"+d.id,b=e.$parent.extensionElements),c=o(b.values,function(a){return"biodi:Edge"===a.$type&&a.source===f})[0],c&&(c.source=d.id)})})}function dl(a){Zk.call(this,a),this.init()}function el(a){dl.call(this,a)}function fl(a,b){if($c(a,"dmn:Definitions")||$c(b,"dmn:Definitions"))return!1;if($c(a,"dmn:Decision")||$c(a,"dmn:InputData")){if($c(b,"dmn:Decision")||$c(a,"dmn:Decision")&&$c(b,"dmn:InputData"))return{type:"dmn:InformationRequirement"};if($c(b,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return $c(a,"dmn:BusinessKnowledgeModel")&&dd(b,["dmn:Decision","dmn:BusinessKnowledgeModel"])?{type:"dmn:KnowledgeRequirement"}:$c(a,"dmn:KnowledgeSource")&&dd(b,["dmn:Decision","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:!!$c(b,"dmn:TextAnnotation")&&{type:"dmn:Association"}}function gl(a,b){return $c(b,"dmn:Definitions")}function hl(a,b){return!b||!!$c(b,"dmn:Definitions")}function il(a){this._model=a}function jl(a,b,c,d,e){function f(a){var b,d=a.context;d.cropped||(b=d.connection,b.waypoints=c.getCroppedWaypoints(b),d.cropped=!0)}function g(a){var b=a.context,c=b.shape||b.connection,d=b.oldParent;b.connection&&!$c(c,"dmn:Association")&&(d=c.target),k.updateParent(c,d)}function h(a){var b=a.context,c=b.shape||b.connection,d=b.parent||b.newParent;b.connection&&!$c(c,"dmn:Association")&&(d=c.target),k.updateParent(c,d)}function i(a){var b=a.context.shape;($c(b,"dmn:DRGElement")||$c(b,"dmn:TextAnnotation"))&&k.updateBounds(b)}function j(a){k.updateConnectionWaypoints(a.context)}Zk.call(this,a),this._drdFactory=b,this._drdRules=d,this._definitionPropertiesView=e;var k=this;this.executed(["connection.layout","connection.create","connection.reconnectEnd","connection.reconnectStart"],f),this.reverted(["connection.layout"],function(a){delete a.context.cropped}),this.executed(["shape.create","shape.delete","connection.create","connection.move","connection.delete"],g),this.reverted(["shape.create","shape.delete","connection.create","connection.move","connection.delete"],h),this.executed(["shape.create","shape.move"],i),this.reverted(["shape.create","shape.move"],i),this.executed(["connection.layout","connection.updateWaypoints","connection.move"],j),this.reverted(["connection.layout","connection.updateWaypoints","connection.move"],j),this.executed(["connection.create"],function(a){var b,c,d=a.context,e=d.connection,f=d.target.businessObject;$c(e,"dmn:Association")?g(a):(k.updateSemanticParent(e.businessObject,f),b=d.di,c=f.extensionElements.values,p(b.waypoints,function(a,b){a.x=e.waypoints[b].x,a.y=e.waypoints[b].y}),c.push(b))}),this.reverted(["connection.create"],function(a){var b,c,d,e=a.context,f=e.connection;h(a),$c(f,"dmn:Association")||(b=e.di,c=e.target.businessObject.extensionElements.values,d=c.indexOf(b),d!==-1&&c.splice(d,1))}),this.executed(["connection.delete"],function(a){var b,c=a.context,d=bd(c.connection),e=c.source,f=bd(c.target);$c(d,"dmn:Association")||(p(f.extensionElements.values,function(a,c){if($c(a,"biodi:Edge")&&e.id===a.source)return b=c,!1}),void 0!==b&&(c.oldDI=f.extensionElements.values[b],f.extensionElements.values.splice(b,1)))}),this.reverted(["connection.delete"],function(a){var b=a.context,c=b.connection,d=bd(b.target),e=b.oldDI;e&&!$c(c,"dmn:Association")&&d.extensionElements.values.push(e)}),this.executed(["element.updateProperties"],function(a){e.update()}),this.reverted(["element.updateProperties"],function(a){e.update()}),this.reverted(["connection.reconnectEnd"],function(a){k.updateSemanticParent(a.context.connection.businessObject,a.context.oldTarget.businessObject)})}function kl(a){Qc.call(this),this._drdFactory=a}function ll(a){this._modeling=a}function ml(a,b){return s(a.outgoing,function(a){return a.target===b})}function nl(a){this._canvas=a}function ol(a,b){if("function"!=typeof b)throw new Error("removeFn iterator must be a function");if(a){for(var c;c=a[0];)b(c);return a}}function pl(a,b){this._canvas=a,this._modeling=b}function ql(a){return a.waypoints}function rl(a,b,c){var d=de(b),e=de(c),f=ee(a,d),g={x:f.x*(c.width/b.width),y:f.y*(c.height/b.height)};return ak({x:e.x+g.x,y:e.y+g.y})}function sl(a,b,c){var d=xl(a),e=d[0];return rl(e.original||e,c,b)}function tl(a,b,c){var d=xl(a),e=d[d.length-1];return rl(e.original||e,c,b)}function ul(a,b,c){return sl(a,b,wl(b,c))}function vl(a,b,c){return tl(a,b,wl(b,c))}function wl(a,b){return{x:a.x-b.x,y:a.y-b.y,width:a.width,height:a.height}}function xl(a){var b=a.waypoints;if(!b.length)throw new Error("connection#"+a.id+": no waypoints");return b}function yl(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}function zl(a){this._modeling=a}function Al(a){this._modeling=a,this._helper=new zl(a)}function Bl(a){this._modeling=a}function Cl(a,b){this._modeling=a,this._rules=b}function Dl(a){this._modeling=a}function El(a){var b={};return a.forEach(function(a){b[a.id]=a.hidden}),b}function Fl(a,b){a.forEach(function(a){a.hidden=b})}function Gl(a,b){a.forEach(function(a){a.hidden=b[a.id]})}function Hl(a,b,c){var d=c.x,e=c.y;switch(b){case"n":return{x:a.x,y:a.y+e,width:a.width,height:a.height-e};case"s":return{x:a.x,y:a.y,width:a.width,height:a.height+e};case"w":return{x:a.x+d,y:a.y,width:a.width-d,height:a.height};case"e":return{x:a.x,y:a.y,width:a.width+d,height:a.height};default:throw new Error("unrecognized direction: "+b)}}function Il(a){this._modeling=a}function Jl(a){nl.call(this,a)}function Kl(a){["width","height"].forEach(function(b){"undefined"==typeof a[b]&&(a[b]=0)})}function Ll(a,b){this._canvas=a,this._layouter=b}function Ml(a,b){this._canvas=a,this._modeling=b}function Nl(){}function Ol(a,b){this._layouter=a,this._canvas=b}function Pl(){}function Ql(){}function Rl(a){this._helper=new zl(a)}function Sl(a,b){this._modeling=a,this._elementRegistry=b}function Tl(a){this._modeling=a}function Ul(a,b){this._modeling=a,this._canvas=b}function Vl(a){this._modeling=a}function Wl(a,b){return lc(a&&a.attachers,b)}function Xl(a,b,c){if(a){var d=a.attachers;d||(a.attachers=d=[]),mc(d,b,c)}}function Yl(a,b){p(b,function(b){a[b]&&delete a[b]})}function Zl(a,b,c,d,e,f){this._eventBus=a,this._canvas=b,this._selection=c,this._elementFactory=d,this._modeling=e,this._rules=f}function $l(a,b,c){this._eventBus=a,this._elementFactory=b,this._commandStack=c;var d=this;a.on("diagram.init",function(){d.registerHandlers(c)})}function _l(a,b){this._elementRegistry=a,this._moddle=b}function am(a,b){return gB in a&&a[gB]!==b[gB]}function bm(a,b){return q(b,function(b,c){return b[c]=a.get(c),b},{})}function cm(a,b){p(b,function(b,c){a.set(c,b)})}function dm(a){this._moddle=a}function em(a,b,c,d,e){this._canvas=a,this._drdRules=e,$l.call(this,b,c,d)}function fm(){}function gm(){}function hm(a,b){return a?a.original||a:ck(b)}function im(a){return I({original:a.point.original||a.point},a.actual)}function jm(a,b){this._elementRegistry=a,this._graphicsFactory=b}function km(a,b){this._eventBus=a,this._canvas=b,this._providers=[];var c=this;a.on("tool-manager.update",function(a){var b=a.tool;c.updateToolHighlight(b)}),a.on("i18n.changed",function(){c._update()}),a.on("diagram.init",function(){c._diagramInitialized=!0,c._providers.length&&(c._init(),c._update())})}function lm(a,b){var c=db(a),d=g(b)?b:b.split(/\s+/g);d.forEach(function(a){c.add(a)})}function mm(a,b,c,d,e){this._palette=a,this._create=b,this._elementFactory=c,this._lassoTool=d,this._translate=e,a.registerProvider(this)}function nm(a,b,c){this._eventBus=a,this._modeling=b,this._canvas=c,a.on("definitionIdView.create",function(a){var b=a.html,c=jb(".dmn-definitions-name",b),d=jb(".dmn-definitions-id",b);this._setup(c,"name"),this._setup(d,"id")},this)}function om(a){te.call(this,a)}function pm(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function qm(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":rB(b))&&"function"!=typeof b?a:b}function rm(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":rB(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function sm(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function tm(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function um(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function vm(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function wm(a){return Ot(a,"[data-element-id]",!0)}function xm(a,b){return a^b}function ym(a){return a.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\//g,"").replace(FB,"").match(/[a-zA-Z_]\w*/g)||[]}function zm(a,b,c){var d=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\/|[a-zA-Z_]\w*/g;return a.replace(d,function(a){return"("==a[a.length-1]?c(a):~b.indexOf(a)?c(a):a})}function Am(a){for(var b=[],c=0;c<a.length;c++)~b.indexOf(a[c])||b.push(a[c]);return b}function Bm(a){return function(b){return a+b}}function Cm(a,b){if(!(this instanceof Cm))return new Cm(a,b);if(this.node=this.start=this.peeked=a,this.root=b,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],a&&this.higher(a))throw new Error("root must be a parent or ancestor to node")}function Dm(a,b){var c="nextSibling"==a;return function(d,e,f){d=this.compile(d),e=e&&e>0?e:1;for(var g=this.node,h=this.closingTag,i=this._revisit;g;){if(EB(c,h)&&g[b])g=g[b],h=!c;else if(1==g.nodeType&&!g[b]&&EB(c,h)){if(h=c,!i)continue}else if(g[a])g=g[a],h=!c;else if(g=g.parentNode,h=c,!i)continue;if(!g||this.higher(g,this.root))break;if(d(g)&&this.selects(g,f)&&this.rejects(g,f)){if(--e)continue;return f||(this.node=g),this.closingTag=h,g}}return null}}function Em(a){IB.removeAllRanges(),IB.addRange(a)}function Fm(){return IB}function Gm(a){if(!IB.rangeCount)return null;var b=IB.focusNode;return Km(b)&&(b=b.parentNode),a==b||a.contains(b)}function Hm(a,b){var c=Jm(a,b);Em(c)}function Im(a){function b(a,b){return 1===arguments.length&&(b=a),a.parentNode===h&&b==h.childNodes[j]}function c(a,b){return 1===arguments.length&&(b=a),a.parentNode===g&&b==g.childNodes[i]}if(!Gm(a))return null;for(var d,e,f=IB.getRangeAt(0),g=f.startContainer,h=f.endContainer,i=f.startOffset,j=f.endOffset,k=HB(a.firstChild,a),l=k.node,m=!1,n=0;l&&(c(l)&&(e=n),!b(l));){if(m||(Lm(l)||d&&d.nextSibling==l&&(Mm(l)||Nm(l)))&&n++,Km(l)){if(g===l&&(e=n+i),h===l){n+=j;break}n+=l.textContent.length}if((Km(l)||m)&&(c(l,l.nextSibling)&&(e=n),b(l,l.nextSibling)))break;d=l,l=k.next(),m=k.closingTag}return{start:"undefined"==typeof e?n:e,end:n}}function Jm(a,b){for(var c,d=b.start,e=b.end,f=document.createRange(),g=HB(a.firstChild,a),h=g.node,i=!1,j=0;h;){if(j===d&&(i?f.setStartAfter(h):f.setStartBefore(h)),j===e)return i?f.setEndAfter(h):f.setEndBefore(h),f;if(i||(Lm(h)||h.previousSibling&&(Mm(h)||Nm(h)))&&j++,Km(h)){if(c=h.textContent.length,j<=d&&j+c>d&&f.setStart(h,d-j),j+c>e)return f.setEnd(h,e-j),f;j+=c}h=g.next(),i=g.closingTag}return j<=d&&(a.lastChild?f.setStartAfter(a.lastChild):f.setStart(a,0)),a.lastChild?f.setEndAfter(a.lastChild):f.setEnd(a,0),f}function Km(a){return 3===a.nodeType}function Lm(a){return 1===a.nodeType&&"BR"===a.nodeName}function Mm(a){return 1===a.nodeType&&"DIV"===a.nodeName}function Nm(a){return 1===a.nodeType&&"P"===a.nodeName}function Om(a){return a.getAttribute("data-element-id")}function Pm(a){var b=a.getAttribute("data-coords");if(!b)return null;var c=b.split(":"),d=JB(c,2),e=d[0],f=d[1];return{row:e,col:f}}function Qm(a,b){var c=a.row+":"+a.col;return jb('[data-coords="'+Hz(c)+'"]',b)}function Rm(a,b){return jb('[data-element-id="'+Hz(a)+'"]',b)}function Sm(a){return Ot(a,".no-deselect",!0)}function Tm(a){return Ot(a,LB,!0)}function Um(a){var b=KB;return cu(a,b)?a:jb(b,a)}function Vm(a){var b=Um(a);if(b&&document.body.contains(b)&&document.activeElement!==b){b.focus();var c=Im(b);c&&0!==c.end||Hm(b,{start:5e3,end:5e3})}}function Wm(a,b,c,d,e){function f(a,c){b.fire("selection."+a+".changed",c),b.fire("cellSelection.changed",{elementId:a,selection:c})}function g(a){var b=a.target;if(!Sm(b)){var c=Tm(b),d=c&&Om(c),e=!a.defaultPrevented;j(d,e),a.stopPropagation()}}function h(a){var b=Om(a.target),c=!a.defaultPrevented;return a.stopPropagation(),j(b,c)}function i(a){var b=Om(a.target);f(b,{focussed:!1})}function j(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l!==a&&f(l,{selected:!1,focussed:!1}),l=a,a&&f(a,{selected:!0,focussed:b}),a?d.select(a):d.deselect()}var k=a.container,l=null;b.on("cell.click",MB,g),b.on("cell.focusin",MB,h),b.on("cell.focusout",MB,i),b.on("cellSelection.changed",function(a){var b=a.elementId,c=a.selection,d=Rm(b,k);c.focussed&&d&&Vm(d)}),b.on("selection.changed",function(a){var b=a.selection,c=a.oldSelection,d=b&&b.id,e=c&&c.id;d&&d!==l?j(b.id):e&&e===l&&j()}),this.isCellSelected=function(){return!!l},this.getCellSelection=function(){return l},this.selectCell=function(a){if(l){if(!(a in NB))throw new Error("direction must be any of { above, below, left, right }");var b=Rm(l,k),c=Pm(b);if(!c)return!1;var d=Xm(c,a),e=Qm(d,k);if(!e)return!1;var f=Om(e);return f&&j(f,{focussed:!0,selected:!0}),!0}},b.on("contextMenu.close",function(){if(l)return j(l)})}function Xm(a,b){var c=a.row,d=a.col;if("above"===b||"below"===b){var e=parseInt(c,10);if(isNaN(e))return a;var f="above"===b?e-1:e+1;return{col:d,row:f}}if("left"===b||"right"===b){var g=parseInt(d,10);if(isNaN(g))return a;var h="left"===b?g-1:g+1;return{row:c,col:h}}throw new Error("invalid direction <"+b+">")}function Ym(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Zm(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":PB(b))&&"function"!=typeof b?a:b}function $m(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":PB(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function an(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bn(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function cn(a,b,c){return c=c||YB,b=b||{},g(a)?dn(a,b,c):en(a,b,c)}function dn(a,b,c){return q(a,function(a,b){var d=a.descriptorCache,e=a.root,f=en(b,d,c),g=f.root,h=f.descriptorCache;return{root:[].concat(bn(e),[g]),descriptorCache:XB({},d,h)}},{root:[],descriptorCache:b})}function en(a,b,c){var d=a.id,e={id:d},f=b.elements||{},g=f[d];if(g)return{root:g,descriptorCache:b};var h=fn(a,e,c,XB({},b,{elements:f}));return{root:h.root,descriptorCache:XB({},h.descriptorCache,{elements:XB({},h.descriptorCache.elements,an({},d,h.root))})}}function fn(a,b,c,d){function e(a,b){return cn(a,b,c)}return q(c,function(b,c){return c(a,b.root,b.descriptorCache,e)},{root:b,descriptorCache:d})}function gn(a,b,c,d){var e=c,f=XB({},b,{type:jn(a)});if(a instanceof Sv||a instanceof Tv){var g=d(a.cells,e);f.cells=g.root,e=g.descriptorCache}return{root:f,descriptorCache:e}}function hn(a,b,c){var d=a.businessObject;if(!d)return{root:b,descriptorCache:c};var e=kn(d,c);return{root:XB({},b,{businessObject:e.root}),descriptorCache:e.descriptorCache}}function jn(a){if(a instanceof Sv)return"row";if(a instanceof Tv)return"col";if(a instanceof Uv)return"cell";throw new Error("cannot deduce element type: #"+a.id)}function kn(a,b){var c,d,e=a.id;if(e&&(c=b.boCache||{},d=c[e]))return{root:d,descriptorCache:b};var f={$type:a.$type};return e&&(f.id=e,c=XB({},c,an({},e,f)),b=XB({},b,{boCache:c})),a.$descriptor.properties.forEach(function(c){var d=a[c.name];if(d){if(g(d)&&(d=d.map(function(a){var c=kn(a,b);return b=c.descriptorCache,c.root})),d.$type){var e=kn(d,b);b=e.descriptorCache,d=e.root}f[c.name]=d}}),{root:f,descriptorCache:b}}function ln(a,b,c){return c=c||ZB,b=b||{},g(a.root)?mn(a,b,c):nn(a,b,c)}function mn(a,b,c){var d=a.root,e=a.descriptorCache;return q(d,function(a,b){var d=a.reviveCache,f=a.root,g=nn({root:b,descriptorCache:e},d,c),h=g.root,i=g.reviveCache;return{root:[].concat(bn(f),[h]),reviveCache:i}},{root:[],reviveCache:b})}function nn(a,b,c){var d=a.root,e=d.id,f=b.elements||{},g=f[e];if(g)return{root:g,reviveCache:b};var h={id:e},i=on(a,h,c,XB({},b,{elements:f}));return{root:i.root,reviveCache:XB({},i.reviveCache,{elements:XB({},i.reviveCache.elements,an({},e,i.root))})}}function on(a,b,c,d){function e(a,b){return ln(a,b,c)}return q(c,function(b,c){return c(a,b.root,b.reviveCache,e)},{root:b,reviveCache:d})}function pn(a,b,c,d){var e=a.root,f=a.descriptorCache,g=XB({},b);if(b.businessObject&&b.businessObject.id&&(g.id=b.businessObject.id),"row"===e.type||"col"===e.type){var h=d({root:e.cells,descriptorCache:f},c);g.cells=h.root,c=h.reviveCache}var i=rn(e),j=new i(g);return j instanceof Sv?j.cells.forEach(function(a){a.row=j}):j instanceof Tv&&j.cells.forEach(function(a){a.col=j}),{root:j,reviveCache:c}}function qn(a,b,c){var d=a.root.businessObject;if(!d)return{root:b,reviveCache:c};var e=sn({root:d,descriptorCache:a.descriptorCache},c);return{root:XB({},b,{businessObject:e.root}),reviveCache:e.reviveCache}}function rn(a){switch(a.type){case"row":return Sv;case"cell":return Uv;case"col":return Tv;default:throw new Error("unknown element type: #"+a.type)}}function sn(a,b){var c=a.root,d=c.id,e=void 0,f=void 0;if(d&&(e=b.boCache||{},f=e[d]))return{root:f,reviveCache:b};var h={};u(c).forEach(function(a){var d=void 0,f=void 0;c[a].$type?(f=sn({root:c[a]},b),d=f.root,b=f.reviveCache,e=b.boCache||{}):d=g(c[a])?c[a].map(function(a){return f=sn({root:a},b),b=f.reviveCache,e=b.boCache||{},f.root}):c[a],h[a]=d});var i=h.$type;delete h.$type,b._keepIds&&!b._model.ids.assigned(h.id)||delete h.id;var j=b._dmnFactory.create(i,h);return p(h,function(a){a.$type&&(a.$parent=j),g(a)&&a.forEach(function(a){return a.$parent=j})}),d&&(e=XB({},e,an({},d,j)),b=XB({},b,{boCache:e})),{root:j,reviveCache:b}}function tn(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function un(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function vn(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function wn(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function xn(a,b){return new Error(a+" "+b)}function yn(a){var b=""+a,c=mC.exec(b);if(!c)return b;var d,e="",f=0,g=0;for(f=c.index;f<b.length;f++){switch(b.charCodeAt(f)){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&#39;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;default:continue}g!==f&&(e+=b.substring(g,f)),g=f+1,e+=d}return g!==f?e+b.substring(g,f):e}function zn(a,b,c){var d=a.start,e=d,f=c.length-b.length,g=(c.length-b.length,b.substring(d));c.lastIndexOf(g)===c.length-g.length&&(b=b.substring(0,b.length-g.length),c=c.substring(0,c.length-g.length));var f=An(b,c);return f&&(e="remove"===f.type?f.newStart:f.newEnd),Bn(e)}function An(a,b){var c,d,e,f,g,h=0,i=0;for(b.length>a.length?(d=b,f=a):(d=a,f=b);h<d.length;)e=d.charAt(h),g=f.charAt(i),e!==g?(c||(c={l_start:h,s_start:i}),h++):(c&&!c.complete&&(c.l_end=h,c.s_end=i,c.complete=!0),i++,h++);if(c&&!c.complete&&(c.complete=!0,c.s_end=f.length,c.l_end=d.length),c)return b.length>a.length?{newStart:c.l_start,newEnd:c.l_end,type:"add"}:{newStart:c.s_start,newEnd:c.s_end,type:b.length<a.length?"remove":"replace"}}function Bn(a,b){return{start:a,end:void 0===b?a:b}}function Cn(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Dn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":qC(b))&&"function"!=typeof b?a:b}function En(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":qC(b)));
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Fn(){return document.createElement("br")}function Gn(a){return a.innerText.replace(/\n$/,"")}function Hn(){var a=Fm(),b=a.getRangeAt(0);if(b){var c=b.cloneRange(),d=Fn();c.deleteContents(),c.insertNode(d),c.setStartAfter(d),c.setEndAfter(d),Em(c)}}function In(){}function Jn(){var a=window.navigator.userAgent;return a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0}function Kn(a){return a.metaKey||a.ctrlKey}function Ln(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Mn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":tC(b))&&"function"!=typeof b?a:b}function Nn(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":tC(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function On(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Pn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":wC(b))&&"function"!=typeof b?a:b}function Qn(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":wC(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Rn(a){a.onGetComponent("cell",function(a){var b=a.cellType;return"after-label-cells"===b?Eg:"after-rule-cells"===b?yC:void 0})}function Sn(a){return function(b){if(a!==!1){var c=i(a)?a:AC;return G(b,c)}return b}}function Tn(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Un(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":DC(b))&&"function"!=typeof b?a:b}function Vn(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":DC(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Wn(a,b,c){return Math.max(b,Math.min(c,a))}function Xn(a){var b=jb(IC,a);b&&(b.focus(),b.selectionStart&&"text"===b.type?b.selectionStart=1e5:"contentEditable"in b&&Hm(b,{start:1e5,end:1e5}))}function Yn(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Zn(a){return!a.altKey&&(a.ctrlKey||a.metaKey)}function $n(a){return a.shiftKey}function _n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ao(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function bo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":PC(b))&&"function"!=typeof b?a:b}function co(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":PC(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function eo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function fo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":SC(b))&&"function"!=typeof b?a:b}function go(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":SC(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function ho(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function io(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function jo(a){return a instanceof Uv}function ko(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function lo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function mo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":bD(b))&&"function"!=typeof b?a:b}function no(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":bD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function oo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function po(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":eD(b))&&"function"!=typeof b?a:b}function qo(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":eD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function ro(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function so(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":hD(b))&&"function"!=typeof b?a:b}function to(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":hD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function uo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function vo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":kD(b))&&"function"!=typeof b?a:b}function wo(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":kD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function xo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function yo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function zo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":pD(b))&&"function"!=typeof b?a:b}function Ao(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":pD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Bo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Co(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":sD(b))&&"function"!=typeof b?a:b}function Do(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":sD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Eo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Fo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":wD(b))&&"function"!=typeof b?a:b}function Go(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":wD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ho(a){return a&&a.split(/\n/).length>1}function Io(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function Jo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ko(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":zD(b))&&"function"!=typeof b?a:b}function Lo(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":zD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Mo(a){return Object.keys(a).length}function No(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Oo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Po(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ED(b))&&"function"!=typeof b?a:b}function Qo(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ED(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ro(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function So(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":HD(b))&&"function"!=typeof b?a:b}function To(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":HD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Uo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Vo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Wo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ND(b))&&"function"!=typeof b?a:b}function Xo(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ND(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Yo(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Zo(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":PD(b))&&"function"!=typeof b?a:b}function $o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":PD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _o(a){var b=[];for(var c in a)b.push([c,a[c]]);return b}function ap(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function bp(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":UD(b))&&"function"!=typeof b?a:b}function cp(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":UD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function dp(a){if(!a||ep(a.trim()))return{values:[]};var b=a.split(","),c={values:[]},d="";return b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim()),d=""):d+=","}),d?void 0:c}function ep(a){return""===a}function fp(a){return a.map(function(a){return a.value})}function gp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function hp(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":XD(b))&&"function"!=typeof b?a:b}function ip(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":XD(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function jp(a){return 13===a}function kp(a){return null===a}function lp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function mp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function np(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":cE(b))&&"function"!=typeof b?a:b}function op(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":cE(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function pp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function qp(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":fE(b))&&"function"!=typeof b?a:b}function rp(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":fE(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function sp(a,b,c){a.onGetComponent("cell",function(a){var b=a.cellType;return"input-label"===b?eE:"output-label"===b?hE:void 0}),c.on("addInput",function(){b.trigger("addInput")}),c.on("addOutput",function(){b.trigger("addOutput")})}function tp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function up(a,b){a.stopPropagation(),b!==!0&&a.preventDefault()}function vp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function wp(a,b,c){var d=b.get(a.dataset.colId);if(!d)return-1;var e=c.getRoot(),f=e.cols;return f.indexOf(d)}function xp(a,b,c){var d=a.dataset.rowId;if(d){var e=kb("[data-row-id="+d+"]",b);p(e,function(a){Lp(a)&&(db(a).add("dragover"),db(a).add(c))})}}function yp(a,b,c){var d=a.dataset.colId;if(d){var e=kb("[data-col-id="+d+"]",b);p(e,function(a){Lp(a)&&(db(a).add("dragover"),db(a).add(c))})}}function zp(a){var b=kb(".dragover",a);p(b,function(a){Lp(a)&&(db(a).remove("dragover"),db(a).remove("top"),db(a).remove("right"),db(a).remove("bottom"),db(a).remove("left"))})}function Ap(a,b){var c=kb("[data-row-id="+a.id+"]",b);p(c,function(a){Lp(a)&&db(a).add("dragged")})}function Bp(a,b){var c=kb("[data-col-id="+a.id+"]",b);p(c,function(a){Lp(a)&&db(a).add("dragged")})}function Cp(a){var b=kb(".dragged",a);p(b,function(a){Lp(a)&&db(a).remove("dragged")})}function Dp(a,b){var c=b.getBoundingClientRect();return a.clientX<c.left+c.width/2?sE:qE}function Ep(a,b){var c=b.getBoundingClientRect();return a.clientY<c.top+c.height/2?pE:rE}function Fp(a,b,c,d){return d.indexOf(a)>d.indexOf(b)&&(b=Ip(b,d)),c===pE?Hp(b,d):b}function Gp(a,b,c,d){return d.indexOf(a)>d.indexOf(b)&&(b=Kp(b,d)),c===sE?Jp(b,d):b}function Hp(a,b){var c=b.indexOf(a);return b[Math.max(0,c-1)]}function Ip(a,b){var c=b.indexOf(a);return b[Math.min(b.length-1,c+1)]}function Jp(a,b){var c=b.indexOf(a);if(ad(a)){var d=b.filter(function(a){return ad(a)})[0],e=b.indexOf(d);return b[Math.max(e,c-1)]}return b[Math.max(0,c-1)]}function Kp(a,b){var c=b.indexOf(a);if(_c(a)){var d=b.filter(function(a){return _c(a)}),e=d[d.length-1],f=b.indexOf(e);return b[Math.min(f,c+1)]}return b[Math.min(b.length-1,c+1)]}function Lp(a){return a&&(1===a.nodeType||11==a.nodeType)}function Mp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Np(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":vE(b))&&"function"!=typeof b?a:b}function Op(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":vE(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Pp(a){return jb(".content-editable",a)}function Qp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Rp(a,b){var c=b.top,d=b.left,e=b.width,f=b.height;return{x:d+a.parentNode.scrollLeft-BE,y:c+a.parentNode.scrollTop,width:e+2*BE,height:f}}function Sp(a){return a&&a.businessObject&&a.businessObject.description}function Tp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Up(a,b){var c=a.$model.ids.assigned(b),d=c&&c!==a;return!b||d?"Element must have an unique id.":Vp(b)}function Vp(a){return a=Xp(a),Wp(a)?"Id must not contain spaces.":KE.test(a)?void 0:JE.test(a)?"Id must not contain prefix.":"Id must be a valid QName."}function Wp(a){return IE.test(a)}function Xp(a){return a.replace(LE,"$1")}function Yp(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Zp(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ME(b))&&"function"!=typeof b?a:b}function $p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ME(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function _p(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function aq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function bq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":TE(b))&&"function"!=typeof b?a:b}function cq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":TE(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function dq(a){switch(a){case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#";default:return""}}function eq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function fq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":WE(b))&&"function"!=typeof b?a:b}function gq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":WE(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function hq(a,b,c,d){a.onGetComponent("cell",function(a){var b=a.cellType;if("before-label-cells"===b)return VE}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"hit-policy-edit"===a.contextMenuType)return $E}),c.on("hitPolicy.edit",function(a){var c=a.event,e=Ot(c.target,"th",!0),f=e.getBoundingClientRect(),g=f.left,h=f.top,i=f.width,j=f.height,k=d.getContainer();b.open({x:g+k.parentNode.scrollLeft,y:h+k.parentNode.scrollTop,width:i,height:j},{contextMenuType:"hit-policy-edit",offset:{x:4,y:4}})})}function iq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function jq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function kq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":dF(b))&&"function"!=typeof b?a:b}function lq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":dF(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function mq(a){return function(b){var c=b.context,d=c.row||c.col;$c(d,"dmn:DMNElement")&&a(b)}}function nq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function oq(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function pq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function qq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":iF(b))&&"function"!=typeof b?a:b}function rq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":iF(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function sq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function tq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":nF(b))&&"function"!=typeof b?a:b}function uq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":nF(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function vq(a,b){return pF in a&&pF in b}function wq(a){var b=a.$parent,c=b.drgElements;return c}function xq(a,b,c){var d={authorityRequirement:function(){a.authorityRequirement.forEach(function(a){var d=a.requiredAuthority,e=a.requiredDecision,f=a.requiredInput;d&&d.href==="#"+b&&(d.href="#"+c),e&&e.href==="#"+b&&(e.href="#"+c),f&&f.href==="#"+b&&(f.href="#"+c)})},informationRequirement:function(){a.informationRequirement.forEach(function(a){var d=a.requiredDecision,e=a.requiredInput;d&&d.href==="#"+b&&(d.href="#"+c),e&&e.href==="#"+b&&(e.href="#"+c)})},knowledgeRequirement:function(){a.knowledgeRequirement.forEach(function(a){var d=a.requiredKnowledge;d&&d.href==="#"+b&&(d.href="#"+c)})}};p(d,function(b,c){a[c]&&b()})}function yq(a,b,c){a.extensionElements&&a.extensionElements.values.forEach(function(a){$c(a,"biodi:Edge")&&a.source===b&&(a.source=c)})}function zq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Aq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Bq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Cq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Dq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Eq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Fq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Gq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Hq(a,b){p(a,function(a,c){b.registerHandler(c,a)})}function Iq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Jq(a){return null===a}function Kq(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Lq(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function Mq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Nq(a,b){return a[MF]!==b}function Oq(a){return f(a)&&h(a)}function Pq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Qq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Rq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":QF(b))&&"function"!=typeof b?a:b}function Sq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":QF(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Tq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Uq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":UF(b))&&"function"!=typeof b?a:b}function Vq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":UF(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Wq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Xq(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":XF(b))&&"function"!=typeof b?a:b}function Yq(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":XF(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Zq(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function $q(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":aG(b))&&"function"!=typeof b?a:b}function _q(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":aG(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function ar(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function br(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function cr(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":iG(b))&&"function"!=typeof b?a:b}function dr(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":iG(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function er(a){return a.businessObject.expressionLanguage}function fr(a,b){return _c(a.col)?!b||"feel"===b:ad(a.col)?!b||"juel"===b:void 0}function gr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function hr(a){return!a.altKey&&(a.ctrlKey||a.metaKey)}function ir(a){return!a||jr(a)?"none":"true"===a.trim()?"true":"false"===a.trim()?"false":void 0}function jr(a){return""===a}function kr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function lr(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":pG(b))&&"function"!=typeof b?a:b}function mr(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":pG(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function nr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function or(a){return _c(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}function pr(a){if(!xG.test(a.trim()))return"Date must match pattern yyyy-MM-ddTHH:mm:ss."}function qr(a,b){return a===BG?'date and time("'+b[0]+'")':a===CG?'< date and time("'+b[0]+'")':a===DG?'> date and time("'+b[0]+'")':a===EG?'[date and time("'+b[0]+'")..date and time("'+b[1]+'")]':void 0;
}function rr(){var a=new Date;return a.setUTCHours(0,0,0,0),a.toISOString().slice(0,-5)}function sr(a){if(!a||""===a.trim())return{type:"exact",date:""};var b=a.match(yG);return b?{type:"between",dates:[b[1],b[2]]}:(b=a.match(zG))?{type:"<"===b[1]?"before":"after",date:b[2]}:(b=a.match(AG),b?{type:"exact",date:b[1]}:void 0)}function tr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ur(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":FG(b))&&"function"!=typeof b?a:b}function vr(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":FG(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function wr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function xr(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":MG(b))&&"function"!=typeof b?a:b}function yr(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":MG(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function zr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Ar(a){return _c(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}function Br(a){return"date"===a}function Cr(a){return u(TG).filter(function(b){return a===TG[b]})[0]}function Dr(a){if(!a||Er(a.trim()))return{type:"comparison"};var b=a.match(RG),c=a.match(SG);if(b){if(Fr(b))return{type:"comparison",value:parseFloat(b[1]),operator:"equals"};if(Gr(b))return{type:"comparison",value:parseFloat(b[3]),operator:Cr(b[2])}}else if(c)return{type:"range",values:[c[2],c[3]].map(function(a){return parseFloat(a)}),start:"]"===c[1]?"exclude":"include",end:"["===c[4]?"exclude":"include"}}function Er(a){return""===a}function Fr(a){return a[0]&&a[1]&&!a[2]&&!a[3]}function Gr(a){return a[0]&&!a[1]&&a[2]&&a[3]}function Hr(a,b){return"equals"===a?""+b:TG[a]+" "+b}function Ir(a,b,c,d){var e="exclude"===c?"]":"[",f="exclude"===d?"[":"]";return""+e+a+".."+b+f}function Jr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Kr(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":UG(b))&&"function"!=typeof b?a:b}function Lr(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":UG(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Mr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Nr(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ZG(b))&&"function"!=typeof b?a:b}function Or(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ZG(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Pr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Qr(a){return _c(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}function Rr(a){return"integer"===a||"long"===a||"double"===a}function Sr(a){if(!a||Ur(a.trim()))return{type:"disjunction",values:[]};var b=a.split(","),c={type:"disjunction",values:[]},d="";if(b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim()),d=""):d+=","}),!d)return c;c.type="negation",c.values=[],d="";var e=a.match(/^\s*not\((.*)\)\s*$/);return e&&(b=e[1].split(","),b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim()),d=""):d+=","}),!d)?c:void 0}function Tr(a){var b=_c(a)?a.inputValues:a.outputValues;return!b||Ur(b.text)?[]:b.text.split(",").map(function(a){return a.trim()})}function Ur(a){return""===a}function Vr(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Wr(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":cH(b))&&"function"!=typeof b?a:b}function Xr(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":cH(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Yr(a){return 13===a}function Zr(a){return a.filter(function(a){return a.isChecked}).map(function(a){return a.value})}function $r(a,b){return a.indexOf(b)!==-1}function _r(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function as(a){return _c(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}function bs(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function cs(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ds(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":mH(b))&&"function"!=typeof b?a:b}function es(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":mH(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function fs(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function gs(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":pH(b))&&"function"!=typeof b?a:b}function hs(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":pH(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function is(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function js(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ks(a,b){return new Error(a+" "+b)}function ls(a){return!a.altKey&&(a.ctrlKey||a.metaKey)}function ms(a){return a.shiftKey}function ns(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function os(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ps(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":FH(b))&&"function"!=typeof b?a:b}function qs(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":FH(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function rs(a){return a&&a.expressionLanguage?a.expressionLanguage.toLowerCase():void 0}function ss(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ts(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function us(a,b){p(a,function(a,c){b.registerHandler(c,a)})}function vs(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function ws(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":QH(b))&&"function"!=typeof b?a:b}function xs(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":QH(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function ys(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function zs(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function As(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Bs(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":WH(b))&&"function"!=typeof b?a:b}function Cs(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":WH(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function Ds(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function Es(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==("undefined"==typeof b?"undefined":ZH(b))&&"function"!=typeof b?a:b}function Fs(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":ZH(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var Gs=Object.prototype.toString,Hs=Object.prototype.hasOwnProperty,Is=Array.prototype.slice,Js=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ls="__fn",Ms=1e3,Ns=Array.prototype.slice;K.prototype.on=function(a,b,c,d){if(a=g(a)?a:[a],j(b)&&(d=c,c=b,b=Ms),!i(b))throw new Error("priority must be a number");var e=c;d&&(e=H(c,d),e[Ls]=c[Ls]||c);var f=this,h={priority:b,callback:e};a.forEach(function(a){f._addListener(a,h)})},K.prototype.once=function(a,b,c,d){function e(){return f.off(a,e),c.apply(d,arguments)}var f=this;if(j(b)&&(d=c,c=b,b=Ms),!i(b))throw new Error("priority must be a number");e[Ls]=c,this.on(a,b,e)},K.prototype.off=function(a,b){a=g(a)?a:[a];var c=this;a.forEach(function(a){c._removeListener(a,b)})},K.prototype.createEvent=function(a){var b=new L;return b.init(a),b},K.prototype.fire=function(a,b){var c,d,e,f;if(f=Ns.call(arguments),"object"===("undefined"==typeof a?"undefined":Ks(a))&&(c=a,a=c.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){c=b instanceof L?b:this.createEvent(b),f[0]=c;var g=c.type;a!==g&&(c.type=a);try{e=this._invokeListeners(c,f,d)}finally{a!==g&&(c.type=g)}return void 0===e&&c.defaultPrevented&&(e=!1),e}},K.prototype.handleError=function(a){return this.fire("error",{error:a})===!1},K.prototype._destroy=function(){this._listeners={}},K.prototype._invokeListeners=function(a,b,c){var d,e,f;for(d=0;(e=c[d])&&!a.cancelBubble;d++)f=this._invokeListener(a,b,e);return f},K.prototype._invokeListener=function(a,b,c){var d;try{d=M(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),d===!1&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},K.prototype._addListener=function(a,b){var c,d,e=this._getListeners(a);for(d=0;c=e[d];d++)if(c.priority<b.priority)return void e.splice(d,0,b);e.push(b)},K.prototype._getListeners=function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b},K.prototype._removeListener=function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)d=c.callback,d!==b&&d[Ls]!==b||f.splice(e,1);else f.length=0},L.prototype.stopPropagation=function(){this.cancelBubble=!0},L.prototype.preventDefault=function(){this.defaultPrevented=!0},L.prototype.init=function(a){I(this,a||{})},N.prototype.get=function(a){return this.$model.properties.get(this,a)},N.prototype.set=function(a,b){this.$model.properties.set(this,a,b)},O.prototype.createType=function(a){function b(a){d.define(this,"$type",{value:f,enumerable:!0}),d.define(this,"$attrs",{value:{}}),d.define(this,"$parent",{writable:!0}),p(a,H(function(a,b){this.set(b,a)},this))}var c=this.model,d=this.properties,e=Object.create(N.prototype);p(a.properties,function(a){a.isMany||void 0===a["default"]||(e[a.name]=a["default"])}),d.defineModel(e,c),d.defineDescriptor(e,a);var f=a.ns.name;return b.prototype=e,b.hasType=e.$instanceOf=this.model.hasType,d.defineModel(b,c),d.defineDescriptor(b,a),b};var Os={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Ps={String:function(a){return a},Boolean:function(a){return"true"===a},Integer:function(a){return parseInt(a,10)},Real:function(a){return parseFloat(a,10)}};T.prototype.build=function(){return J(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},T.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,c!==!1);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},T.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(h===-1)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},T.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=S(e[0],d),g=S(e[1],f.prefix).name,h=this.propertiesByName[g];if(!h)throw new Error("refined property <"+g+"> not found");this.replaceProperty(h,a,c),delete a.redefines},T.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},T.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},T.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},T.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},T.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},T.prototype.hasProperty=function(a){return this.propertiesByName[a]},T.prototype.addTrait=function(a,b){var c=this.allTypesByName,d=this.allTypes,e=a.name;e in c||(p(a.properties,H(function(c){c=I({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this)),d.push(a),c[e]=a)},U.prototype.getPackage=function(a){return this.packageMap[a]},U.prototype.getPackages=function(){return this.packages},U.prototype.registerPackage=function(a){a=I({},a);var b=this.packageMap;V(b,a,"prefix"),V(b,a,"uri"),p(a.types,H(function(b){this.registerType(b,a)},this)),b[a.uri]=b[a.prefix]=a,this.packages.push(a)},U.prototype.registerType=function(a,b){a=I({},a,{superClass:(a.superClass||[]).slice(),"extends":(a["extends"]||[]).slice(),properties:(a.properties||[]).slice(),meta:I(a.meta||{})});var c=S(a.name,b.prefix),d=c.name,e={};p(a.properties,H(function(a){var b=S(a.name,c.prefix),d=b.name;Q(a.type)||(a.type=S(a.type,b.prefix).name),I(a,{ns:b,name:d}),e[d]=a},this)),I(a,{ns:c,name:d,propertiesByName:e}),p(a["extends"],H(function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this)),this.definePackage(a,b),this.typeMap[d]=a},U.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=S(c,Q(c)?"":a.prefix);g.mapTypes(e,b,d)}var f=Q(a.name)?{name:a.name}:this.typeMap[a.name],g=this;if(!f)throw new Error("unknown type <"+a.name+">");p(f.superClass,c?d:e),b(f,!c),p(f.traits,d)},U.prototype.getEffectiveDescriptor=function(a){var b=S(a),c=new T(b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},U.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})},W.prototype.set=function(a,b,c){var d=this.model.getPropertyDescriptor(a,b),e=d&&d.name;X(c)?d?delete a[e]:delete a.$attrs[b]:d?e in a?a[e]=c:Y(a,d,c):a.$attrs[b]=c},W.prototype.get=function(a,b){var c=this.model.getPropertyDescriptor(a,b);if(!c)return a.$attrs[b];var d=c.name;return!a[d]&&c.isMany&&Y(a,c,[]),a[d]},W.prototype.define=function(a,b,c){Object.defineProperty(a,b,c)},W.prototype.defineDescriptor=function(a,b){this.define(a,"$descriptor",{value:b})},W.prototype.defineModel=function(a,b){this.define(a,"$model",{value:b})},Z.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},Z.prototype.getType=function(a){var b=this.typeCache,c=k(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},Z.prototype.createAny=function(a,b,c){var d=S(a),e={$type:a,$instanceOf:function(a){return a===this.$type}},f={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,f),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),p(c,function(a,b){h(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},Z.prototype.getPackage=function(a){return this.registry.getPackage(a)},Z.prototype.getPackages=function(){return this.registry.getPackages()},Z.prototype.getElementDescriptor=function(a){return a.$descriptor},Z.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return b in c.allTypesByName},Z.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]},Z.prototype.getTypeDescriptor=function(a){return this.registry.typeMap[a]};var Qs="undefined"!=typeof window?window:"undefined"!=typeof b?b:"undefined"!=typeof self?self:{},Rs=$(function(a,b){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(b){function e(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return new(Function.prototype.bind.apply(f,[null].concat(b)))}var f=function(){function a(){c(this,a);for(var b=arguments.length,d=Array(b),e=0;e<b;e++)d[e]=arguments[e];this.data=[null].concat(d),this.top=this.data.length-1}return d(a,[{key:"clear",value:function(){return this.data.length=1,this.top=0,this}},{key:"empty",value:function(){return 0===this.top}},{key:"length",value:function(){return this.top}},{key:"peek",value:function(){return this.data[this.top]}},{key:"pop",value:function(){var a=void 0;return this.top>0&&(a=this.data.pop(),this.top--),a}},{key:"push",value:function(a){return this.data[++this.top]=a,this}},{key:"search",value:function(a){var b=this.data.indexOf(a);return b===-1?-1:this.data.length-b}}]),a}();a.exports=e}("undefined"!=typeof window?window:Qs)}),Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ts=String.fromCharCode,Us=Object.prototype.hasOwnProperty,Vs=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,Ws={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(Ws).forEach(function(a){Ws[a.toUpperCase()]=Ws[a]});var Xs="http://www.w3.org/2001/XMLSchema-instance",Ys="xsi",Zs="xsi:type",$s="non-whitespace outside of root node",_s={xsi:"http://www.w3.org/2001/XMLSchema-instance"},at="xsi:type";wa.prototype.handleEnd=function(){},wa.prototype.handleText=function(){},wa.prototype.handleNode=function(){},xa.prototype=Object.create(wa.prototype),xa.prototype.handleNode=function(){return this},ya.prototype=Object.create(wa.prototype),ya.prototype.handleText=function(a){this.body=(this.body||"")+a},za.prototype=Object.create(ya.prototype),za.prototype.handleNode=function(a){if(this.element)throw sa("expected no sub nodes");return this.element=this.createReference(a),this},za.prototype.handleEnd=function(){this.element.id=this.body},za.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},Aa.prototype=Object.create(ya.prototype),Aa.prototype.handleEnd=function(){var a=this.body||"",b=this.element,c=this.propertyDesc;a=P(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},Ba.prototype=Object.create(ya.prototype),Ba.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},Ca.prototype=Object.create(Ba.prototype),Ca.prototype.addReference=function(a){this.context.addReference(a)},Ca.prototype.handleEnd=function(){var a=this.body,b=this.element,c=ta(b),d=c.bodyProperty;d&&void 0!==a&&(a=P(d.type,a),b.set(d.name,a))},Ca.prototype.createElement=function(a){var b,c=a.attributes,d=this.type,e=ta(d),f=this.context,g=new d({}),h=this.model;return p(c,function(a,c){var d,i=e.propertiesByName[c];i&&i.isReference?i.isMany?(d=a.split(" "),p(d,function(a){f.addReference({element:g,property:i.ns.name,id:a})})):f.addReference({element:g,property:i.ns.name,id:a}):(i?a=P(i.type,a):"xmlns"!==c&&(b=S(c,e.ns.prefix),h.getPackage(b.prefix)&&f.addWarning({message:"unknown attribute <"+c+">",element:g,property:c,value:a})),g.set(c,a))}),g},Ca.prototype.getPropertyForNode=function(a){var b,c,d=a.name,e=S(d),f=this.type,g=this.model,h=ta(f),i=e.name,j=h.propertiesByName[i];if(j)return ma(j)&&(b=a.attributes[at])?(b=ra(b,g),c=g.getType(b),I({},j,{effectiveType:ta(c).name})):j;var k=g.getPackage(e.prefix);if(k){if(b=pa(e,k),c=g.getType(b),j=m(h.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return I({},j,{effectiveType:ta(c).name})}else if(j=m(h.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return j;throw sa("unrecognized element <"+e.name+">")},Ca.prototype.toString=function(){return"ElementDescriptor["+ta(this.type).name+"]"},Ca.prototype.valueHandler=function(a,b){return new Aa(a,b)},Ca.prototype.referenceHandler=function(a){return new za(a,this.context)},Ca.prototype.handler=function(a){return"Element"===a?new Ea(this.model,a,this.context):new Ca(this.model,a,this.context)},Ca.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,R(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?(I(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},Da.prototype=Object.create(Ca.prototype),Da.prototype.createElement=function(a){var b=a.name,c=S(b),d=this.model,e=this.type,f=d.getPackage(c.prefix),g=f&&pa(c,f)||b;if(!e.hasType(g))throw sa("unexpected element <"+a.originalName+">");return Ca.prototype.createElement.call(this,a)},Ea.prototype=Object.create(Ba.prototype),Ea.prototype.createElement=function(a){var b=a.name,c=S(b),d=c.prefix,e=a.ns[d+"$uri"],f=a.attributes;return this.model.createAny(b,e,f)},Ea.prototype.handleChild=function(a){var b,c=new Ea(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},Ea.prototype.handleText=function(a){this.body=this.body||""+a},Ea.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},Fa.prototype.fromXML=function(a,b,c){function d(a,b,c){var d=b(),e=d.line,f=d.column,g=d.data;"<"===g.charAt(0)&&g.indexOf(" ")!==-1&&(g=g.slice(0,g.indexOf(" "))+">");var h="unparsable content "+(g?g+" ":"")+"detected\n\tline: "+e+"\n\tcolumn: "+f+"\n\tnested error: "+a.message;if(c)return o.addWarning({message:h,error:a}),console.warn("could not parse node"),console.warn(a),!0;throw console.error("could not parse document"),console.error(a),sa(h)}function e(a,b){return d(a,b,!0)}function f(){var a,b,c=o.elementsById,d=o.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=ta(e).propertiesByName[b.property];if(f||o.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var h=e.get(g.name),i=h.indexOf(b);i===-1&&(i=h.length),f?h[i]=f:h.splice(i,1)}else e.set(g.name,f)}}function g(){q.pop().handleEnd()}function h(a){if(r.test(a)){var b=s.exec(a),c=b&&b[1];c&&!t.test(c)&&o.addWarning({message:"unsupported document encoding <"+c+">, falling back to UTF-8"})}}function i(a,b){var c=q.peek();try{q.push(c.handleNode(a))}catch(e){d(e,b,n)&&q.push(new xa)}}function j(a){q.peek().handleText(a)}function k(a){a=a.trim(),a&&q.peek().handleText(a)}var l=b.rootHandler;b instanceof Ca?(l=b,b={}):"string"==typeof b?(l=this.handler(b),b={}):"string"==typeof l&&(l=this.handler(l));var m=this.model,n=this.lax,o=new va(I({},b,{rootHandler:l})),p=new ja({proxy:!0}),q=new Rs;l.context=o,q.push(l);var r=/^<\?xml /i,s=/ encoding="([^"]+)"/i,t=/^utf-8$/i,u=m.getPackages().reduce(function(a,b){return a[b.uri]=b.prefix,a},{});p.ns(u).on("openTag",function(a,b,c,d){var e=a.attrs||{},f=Object.keys(e).reduce(function(a,c){var d=b(e[c]);return a[c]=d,a},{}),g={name:a.name,originalName:a.originalName,attributes:f,ns:a.ns};i(g,d)}).on("question",h).on("closeTag",g).on("cdata",j).on("text",function(a,b){k(b(a))}).on("error",d).on("warn",e),ua(function(){var b;try{p.parse(a),f()}catch(d){b=d}var e=l.element;b||e||(b=sa("failed to parse document as <"+l.type.$descriptor.name+">")),c(b,b?void 0:e,o)})},Fa.prototype.handler=function(a){return new Da(this.model,a)};var bt='<?xml version="1.0" encoding="UTF-8"?>\n',ct=/<|>|'|"|&|\n\r|\n/g,dt=/<|>|&/g,et={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},ft={"<":"lt",">":"gt","&":"amp"};Ua.prototype.build=function(a){return this.element=a,this},Ua.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Va.prototype.serializeValue=Va.prototype.serializeTo=function(a){a.append(this.escape?Ra(this.value):this.value)},Va.prototype.build=function(a,b){return this.value=b,"String"===a.type&&b.search(dt)!==-1&&(this.escape=!0),this},Ja(Wa,Va),Wa.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"),this.serializeValue(a),a.append("</"+this.tagName+">").appendNewLine()},Xa.prototype.build=function(a){this.element=a;var b,c,d=a.$descriptor,e=this.propertyDescriptor,f=d.isGeneric;return b=f?this.parseGeneric(a):this.parseNsAttributes(a),e?this.ns=this.nsPropertyTagName(e):this.ns=this.nsTagName(d),this.tagName=this.addTagName(this.ns),f||(c=Oa(a),this.parseAttributes(Sa(c)),this.parseContainments(Ta(c))),this.parseGenericAttributes(a,b),this},Xa.prototype.nsTagName=function(a){var b=this.logNamespaceUsed(a.ns);return Ma(b,a)},Xa.prototype.nsPropertyTagName=function(a){var b=this.logNamespaceUsed(a.ns);return Na(b,a)},Xa.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},Xa.prototype.nsAttributeName=function(a){var b;if(b=k(a)?S(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.getNamespaces().logUsed(c),this.isLocalNs(c)?{localName:b.localName}:I({localName:b.localName},c)},Xa.prototype.parseGeneric=function(a){var b=this,c=this.body,d=[];return p(a,function(e,f){var g;"$body"===f?c.push((new Va).build({type:"String"},e)):"$children"===f?p(e,function(a){c.push(new Xa(b).build(a))}):0!==f.indexOf("$")&&(g=b.parseNsAttribute(a,f,e),g&&d.push({name:f,value:e}))}),d},Xa.prototype.parseNsAttribute=function(a,b,c){var d,e=a.$model,f=S(b);if("xmlns"===f.prefix&&(d={prefix:f.localName,uri:c}),f.prefix||"xmlns"!==f.localName||(d={uri:c}),!d)return{name:b,value:c};if(e&&e.getPackage(c))this.logNamespace(d,!0,!0);else{var g=this.logNamespaceUsed(d,!0);this.getNamespaces().logUsed(g)}},Xa.prototype.parseNsAttributes=function(a,b){var c=this,d=a.$attrs,e=[];return p(d,function(b,d){var f=c.parseNsAttribute(a,d,b);f&&e.push(f)}),e},Xa.prototype.parseGenericAttributes=function(a,b){var c=this;p(b,function(b){if(b.name!==at)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},Xa.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;p(a,function(a){var e=d.get(a.name),f=a.isReference,g=a.isMany;if(g||(e=[e]),a.isBody)c.push((new Va).build(a,e[0]));else if(R(a.type))p(e,function(d){c.push(new Wa(b.addTagName(b.nsPropertyTagName(a))).build(a,d))});else if(f)p(e,function(d){c.push(new Ua(b.addTagName(b.nsPropertyTagName(a))).build(d))});else{var h=ma(a),i=na(a);p(e,function(d){var e;e=h?new Ya(b,a):i?new Xa(b,a):new Xa(b),c.push(e.build(d))})}})},Xa.prototype.getNamespaces=function(a){var b,c=this.namespaces,d=this.parent;return c||(b=d&&d.getNamespaces(),a||!b?this.namespaces=c=new Ga(b):c=b),c},Xa.prototype.logNamespace=function(a,b,c){var d=this.getNamespaces(c),e=a.uri,f=a.prefix,g=d.byUri(e);return g||d.add(a,b),d.mapPrefix(f,e),a},Xa.prototype.logNamespaceUsed=function(a,b){var c,d,e,f=this.element,g=f.$model,h=this.getNamespaces(b),i=a.prefix,j=a.uri;if(!i&&!j)return{localName:a.localName};if(e=_s[i]||g&&(g.getPackage(i)||{}).uri,j=j||e||h.uriByPrefix(i),!j)throw new Error("no namespace uri given for prefix <"+i+">");if(a=h.byUri(j),!a){for(c=i,d=1;h.uriByPrefix(c);)c=i+"_"+d++;a=this.logNamespace({prefix:c,uri:j},e===j)}return i&&h.mapPrefix(i,j),a},Xa.prototype.parseAttributes=function(a){var b=this,c=this.element;p(a,function(a){var d=c.get(a.name);
if(a.isReference)if(a.isMany){var e=[];p(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},Xa.prototype.addTagName=function(a){var b=this.logNamespaceUsed(a);return this.getNamespaces().logUsed(b),Ka(a)},Xa.prototype.addAttribute=function(a,b){var c=this.attrs;k(b)&&(b=Qa(b)),c.push({name:a,value:b})},Xa.prototype.serializeAttributes=function(a){var b=this.attrs,c=this.namespaces;c&&(b=La(c).concat(b)),p(b,function(b){a.append(" ").append(Ka(b.name)).append('="').append(b.value).append('"')})},Xa.prototype.serializeTo=function(a){var b=this.body[0],c=b&&b.constructor!==Va;a.appendIndent().append("<"+this.tagName),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),p(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+this.tagName+">")),a.appendNewLine()},Ja(Ya,Xa),Ya.prototype.parseNsAttributes=function(a){var b=Xa.prototype.parseNsAttributes.call(this,a),c=a.$descriptor;if(c.name===this.propertyDescriptor.type)return b;var d=this.typeNs=this.nsTagName(c);this.getNamespaces().logUsed(this.typeNs);var e=a.$model.getPackage(d.uri),f=e.xml&&e.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(at),(d.prefix?d.prefix+":":"")+f+c.ns.localName),b},Ya.prototype.isLocalNs=function(a){return a.uri===(this.typeNs||this.ns).uri},ab.prototype=Object.create(Z.prototype),ab.prototype.fromXML=function(a,b,c,d){k(b)||(d=c,c=b,b="dmn:Definitions"),j(c)&&(d=c,c={});var e=new Fa(I({model:this,lax:!0},c)),f=e.handler(b);e.fromXML(a,f,d)},ab.prototype.toXML=function(a,b,c){j(b)&&(c=b,b={});var d,e,f=new _a(b);try{d=f.toXML(a)}catch(g){e=g}return c(e,d)};var gt="DMN",ht="http://www.omg.org/spec/DMN/20151101/dmn.xsd",it={tagAlias:"lowerCase"},jt="dmn",kt=[{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"label",type:"String",isAttr:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",type:"String",isAttr:!0}]},{name:"DMNElementReference",properties:[{name:"href",type:"String",isAttr:!0}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"namespace",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"expressionLanguage",type:"String",isAttr:!0,"default":"http://www.omg.org/spec/FEEL/20140401"},{name:"exporter",type:"String",isAttr:!0},{name:"exporterVersion",type:"String",isAttr:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"drgElements",type:"DRGElement",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"Import",properties:[{name:"namespace",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"importType",type:"String",isAttr:!0}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String"},{name:"allowedAnswers",type:"String"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0,xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"decisionTable",type:"DecisionTable",xml:{serialize:"property"}},{name:"literalExpression",type:"LiteralExpression",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["DRGElement"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition"},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0,xml:{serialize:"property"}},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}}]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0,xml:{serialize:"property"}},{name:"type",type:"String",isAttr:!0},{name:"owner",type:"DMNElementReference",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0}]},{name:"InformationRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"KnowledgeRequirement",properties:[{name:"requiredKnowledge",type:"DMNElementReference",isUnique:!0,xml:{serialize:"property"}}]},{name:"AuthorityRequirement",properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeLanguage",type:"String",isAttr:!0},{name:"isCollection",type:"Boolean",isAttr:!0,"default":!1},{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"importedValues",type:"ImportedValues"},{name:"text",type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String",isAttr:!0}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,"default":"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0,"default":"Rule-as-Row"},{name:"outputLabel",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String",isMany:!0,xml:{serialize:"property"}},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String",xml:{serialize:"property"}},{name:"textFormat",type:"String",isAttr:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0,"default":"None"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",type:"String",isAttr:!0},{name:"typeRef",type:"String",isAttr:!0}]},{name:"UnaryTests",superClass:["DMNElement"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"expression",type:"String",isReference:!0,xml:{serialize:"property"}}]}],lt=[{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]}],mt={name:gt,uri:ht,xml:it,prefix:jt,types:kt,emumerations:lt},nt="Camunda",ot="http://camunda.org/schema/1.0/dmn",pt="camunda",qt={tagAlias:"lowerCase"},rt=[{name:"InputVariable","extends":["dmn:InputClause"],properties:[{name:"inputVariable",isAttr:!0,type:"String"}]}],st={name:nt,uri:ot,prefix:pt,xml:qt,types:rt},tt="DC",ut="http://www.omg.org/spec/DD/20100524/DC",vt=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real","default":"0",isAttr:!0},{name:"y",type:"Real","default":"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],wt="dc",xt=[],yt={name:tt,uri:ut,types:vt,prefix:wt,associations:xt},zt="bpmn.io DI for DMN",At="http://bpmn.io/schema/dmn/biodi/1.0",Bt="biodi",Ct={tagAlias:"lowerCase"},Dt=[{name:"Edge",superClass:["Element"],properties:[{name:"source",type:"String",isAttr:!0},{name:"waypoints",type:"Waypoint",isMany:!0,xml:{serialize:"property"}}]},{name:"Bounds",superClass:["dc:Bounds","Element"]},{name:"Waypoint",superClass:["dc:Point"]}],Et={name:zt,uri:At,prefix:Bt,xml:Ct,types:Dt},Ft={dmn:mt,camunda:st,dc:yt,biodi:Et},Gt=[].indexOf,Ht=function(a,b){if(Gt)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},It=/\s+/,Jt=Object.prototype.toString;eb.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=Ht(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},eb.prototype.remove=function(a){if("[object RegExp]"==Jt.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=Ht(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},eb.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},eb.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},eb.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(It);return""===c[0]&&c.shift(),c},eb.prototype.has=eb.prototype.contains=function(a){return this.list?this.list.contains(a):!!~Ht(this.array(),a)};var Kt,Lt=Element.prototype,Mt=Lt.matchesSelector||Lt.webkitMatchesSelector||Lt.mozMatchesSelector||Lt.msMatchesSelector||Lt.oMatchesSelector,Nt=gb,Ot=function(a,b,c){for(var d=c?a:a.parentNode;d&&d!==document;){if(Nt(d,b))return d;d=d.parentNode}},Pt=window.addEventListener?"addEventListener":"attachEvent",Qt=window.removeEventListener?"removeEventListener":"detachEvent",Rt="addEventListener"!==Pt?"on":"",St=function(a,b,c,d){return a[Pt](Rt+b,c,d||!1),c},Tt=function(a,b,c,d){return a[Qt](Rt+b,c,d||!1),c},Ut={bind:St,unbind:Tt},Vt=["focus","blur"],Wt=function(a,b,c,d,e){return Vt.indexOf(c)!==-1&&(e=!0),Ut.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=Ot(e,b,!0,a),c.delegateTarget&&d.call(a,c)},e)},Xt=function(a,b,c,d){Vt.indexOf(b)!==-1&&(d=!0),Ut.unbind(a,b,c,d)},Yt={bind:Wt,unbind:Xt},Zt=hb,$t=!1;"undefined"!=typeof document&&(Kt=document.createElement("div"),Kt.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',$t=!Kt.getElementsByTagName("link").length,Kt=void 0);var _t={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:$t?[1,"X<div>","</div>"]:[0,"",""]};_t.td=_t.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],_t.option=_t.optgroup=[1,'<select multiple="multiple">',"</select>"],_t.thead=_t.tbody=_t.colgroup=_t.caption=_t.tfoot=[1,"<table>","</table>"],_t.polyline=_t.ellipse=_t.polygon=_t.circle=_t.text=_t.line=_t.path=_t.rect=_t.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var au="undefined"!=typeof Element?Element.prototype:{},bu=au.matches||au.matchesSelector||au.webkitMatchesSelector||au.mozMatchesSelector||au.msMatchesSelector||au.oMatchesSelector,cu=ib,du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},eu=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},fu="function"==typeof Symbol&&"symbol"===du(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":du(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":du(a)},gu=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),hu={width:"100%",height:"100%",position:"relative"},iu=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};nb(this,a),this._viewsChanged=function(){b._emit("views.changed",{views:b._views,activeView:b._activeView})},this._eventBus=new K,this._viewsChanged=G(this._viewsChanged,0),this._views=[],this._viewers={},this._init(c)}return gu(a,[{key:"importXML",value:function(a,b,c){var d=this;"object"!==("undefined"==typeof b?"undefined":fu(b))&&(c=b,b={open:!0}),"function"!=typeof c&&(c=ob),a=this._emit("import.parse.start",{xml:a})||a,this._moddle.fromXML(a,"dmn:Definitions",function(a,e,f){e=d._emit("import.parse.complete",{error:a,definitions:e,context:f})||e;var g=f.warnings;if(d._setDefinitions(e),a&&(a=qb(a)),a||!b.open)return d._emit("import.done",{error:a,warmings:g}),c(a,g);var h=d._activeView||d._getInitialView(d._views);return h?void d.open(h,function(a,b){var e=[].concat(g,b||[]);d._emit("import.done",{error:a,warnings:e}),c(a,e)}):c(new Error("no displayable contents"))})}},{key:"getDefinitions",value:function(){return this._definitions}},{key:"getActiveView",value:function(){return this._activeView}},{key:"getActiveViewer",value:function(){var a=this.getActiveView();return a&&this._getViewer(a)}},{key:"getView",value:function(a){return this._views.filter(function(b){return b.element===a})[0]}},{key:"getViews",value:function(){return this._views}},{key:"saveXML",value:function(a,b){var c=this;"function"==typeof a&&(b=a,a={});var d=this._definitions;return d?(d=this._emit("saveXML.start",{definitions:d})||d,void this._moddle.toXML(d,a,function(a,d){try{d=c._emit("saveXML.serialized",{error:a,xml:d})||d,c._emit("saveXML.done",{error:a,xml:d})}catch(e){console.error("error in saveXML life-cycle listener",e)}b(a,d)})):b(new Error("no definitions loaded"))}},{key:"on",value:function(){var a;(a=this._eventBus).on.apply(a,arguments)}},{key:"off",value:function(){var a;(a=this._eventBus).off.apply(a,arguments)}},{key:"once",value:function(){var a;(a=this._eventBus).once.apply(a,arguments)}},{key:"attachTo",value:function(a){a.get&&a.constructor.prototype.jquery&&(a=a.get(0)),"string"==typeof a&&(a=jb(a)),a.appendChild(this._container)}},{key:"detach",value:function(){lb(this._container)}},{key:"destroy",value:function(){var a=this;Object.keys(this._viewers,function(b){var c=a._viewers[b];tb(c,"destroy")}),lb(this._container)}},{key:"_init",value:function(a){this._options=a,this._moddle=this._createModdle(a),this._viewers={},this._views=[];var b=Zt('<div class="dmn-js-parent"></div>'),c=I({},hu,a);I(b.style,{width:pb(c.width),height:pb(c.height),position:c.position}),this._container=b,a.container&&this.attachTo(a.container)}},{key:"open",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ob;this._switchView(a,b)}},{key:"_setDefinitions",value:function(a){this._definitions=a,this._updateViews()}},{key:"_updateViews",value:function(){var a=this._definitions;if(!a)return this._views=[],void this._switchView(null);var b=this._getViewProviders(),c=[a].concat(mb(a.drgElements||[]));this._views=c.reduce(function(a,c){var d=rb(b,function(a){return"string"==typeof a.opens?a.opens===c.$type:a.opens(c)});if(!d)return a;var e={element:c,type:d.id};return[].concat(mb(a),[e])},[]);var d,e=this._activeView;if(e){if(d=rb(this._views,function(a){return sb(e,a)})||this._getInitialView(this._views),!sb(e,d))return this._switchView(null);this._activeView=d}this._viewsChanged()}},{key:"_getInitialView",value:function(a){return a[0]}},{key:"_switchView",value:function(a){var b,c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ob,e=function(a,b){c._viewsChanged(),d(a,b)},f=this.getActiveView(),g=a&&this._getViewer(a),h=a&&a.element;return f&&(b=this._getViewer(f),b!==g&&(tb(b,"clear"),b.detach())),this._activeView=a,g?(b!==g&&g.attachTo(this._container),this._emit("import.render.start",{view:a,element:h}),g.open(h,function(b,d){c._emit("import.render.complete",{view:a,error:b,warnings:d}),e(b,d)})):void e()}},{key:"_getViewer",value:function(a){var b=a.type,c=this._viewers[b];return c||(c=this._viewers[b]=this._createViewer(a.type),this._emit("viewer.created",{type:b,viewer:c})),c}},{key:"_createViewer",value:function(a){var b=rb(this._getViewProviders(),function(b){return b.id===a});if(!b)throw new Error("no provider for view type <"+a+">");var c=b.constructor,d=this._options[a]||{},e=this._options.common||{};return new c(eu({},e,d,{additionalModules:[].concat(mb(d.additionalModules||[]),[{_parent:["value",this],moddle:["value",this._moddle]}])}))}},{key:"_emit",value:function(){var a;(a=this._eventBus).fire.apply(a,arguments)}},{key:"_createModdle",value:function(a){return new bb(a.moddleExtensions||{})}},{key:"_getViewProviders",value:function(){return[]}}]),a}(),ju=$(function(a){"function"==typeof Object.create?a.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:a.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}),ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},lu=/^class /,mu=/constructor\s*[^(]*\(\s*([^)]*)\)/m,nu=/^function\s*[^(]*\(\s*([^)]*)\)/m,ou=/\/\*([^*]*)\*\//m,pu="function"==typeof Symbol&&"symbol"===ku(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":ku(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":ku(a)},qu=1e3;Cb.prototype.canRender=function(){},Cb.prototype.drawShape=function(){},Cb.prototype.drawConnection=function(){},Cb.prototype.getShapePath=function(){},Cb.prototype.getConnectionPath=function(){};var ru=2,su={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":ru,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":ru,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1},tu=/\s+/,uu=Object.prototype.toString;Nb.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=Kb(b,a);return~c||b.push(a),Lb(this.el.className.baseVal)?this.el.className.baseVal=b.join(" "):this.el.className=b.join(" "),this},Nb.prototype.remove=function(a){if("[object RegExp]"===uu.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=Kb(b,a);return~c&&b.splice(c,1),this.el.className.baseVal=b.join(" "),this},Nb.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},Nb.prototype.toggle=function(a,b){return this.list?(Lb(b)?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(Lb(b)?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},Nb.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(tu);return""===c[0]&&c.shift(),c},Nb.prototype.has=Nb.prototype.contains=function(a){return this.list?this.list.contains(a):!!~Kb(this.array(),a)};var vu={svg:"http://www.w3.org/2000/svg"},wu='<svg xmlns="'+vu.svg+'"',xu=Tb("svg"),yu=/([&<>]{1})/g,zu=/([\n\r"]{1})/g,Au={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"},Bu=1;ju(jc,Cb),jc.prototype.canRender=function(){return!0},jc.prototype.drawShape=function(a,b){var c=Tb("rect");return Jb(c,{x:0,y:0,width:b.width||0,height:b.height||0}),Jb(c,this.SHAPE_STYLE),Fb(a,c),c},jc.prototype.drawConnection=function(a,b){var c=hc(b.waypoints,this.CONNECTION_STYLE);return Fb(a,c),c},jc.prototype.getShapePath=function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]];return fc(f)},jc.prototype.getConnectionPath=function(a){var b,c,d=a.waypoints,e=[];for(b=0;c=d[b];b++)c=c.original||c,e.push([0===b?"M":"L",c.x,c.y]);return fc(e)},jc.$inject=["eventBus","styles"];var Cu={__init__:["defaultRenderer"],defaultRenderer:["type",jc],styles:["type",kc]},Du="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Eu="base",Fu={shape:["x","y","width","height"],connection:["waypoints"]};Bc.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Bc.prototype._init=function(a){var b=this._eventBus,c=this._container=zc(a),d=this._svg=Tb("svg");Jb(d,{width:"100%",height:"100%"}),Fb(c,d);var e=this._viewport=Ac(d,"viewport");this._layers={},a.deferUpdate!==!1&&(this._viewboxChanged=G(H(this._viewboxChanged,this),300)),b.on("diagram.init",function(){b.fire("canvas.init",{svg:d,viewport:e})},this),b.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),b.on("diagram.destroy",500,this._destroy,this),b.on("diagram.clear",500,this._clear,this)},Bc.prototype._destroy=function(a){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var b=this._container.parentNode;b&&b.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},Bc.prototype._clear=function(){var a=this,b=this._elementRegistry.getAll();b.forEach(function(b){var c=vc(b);"root"===c?a.setRootElement(null,!0):a._removeElement(b,c)}),delete this._cachedViewbox},Bc.prototype.getDefaultLayer=function(){return this.getLayer(Eu,0)},Bc.prototype.getLayer=function(a,b){if(!a)throw new Error("must specify a name");var c=this._layers[a];if(c||(c=this._layers[a]=this._createLayer(a,b)),"undefined"!=typeof b&&c.index!==b)throw new Error("layer <"+a+"> already created at index <"+b+">");return c.group},Bc.prototype._createLayer=function(a,b){b||(b=0);var c=q(this._layers,function(a,c){return b>=c.index&&a++,a},0);return{group:Ac(this._viewport,"layer-"+a,c),index:b}},Bc.prototype.getContainer=function(){return this._container},Bc.prototype._updateMarker=function(a,b,c){var d;a.id||(a=this._elementRegistry.get(a)),d=this._elementRegistry._elements[a.id],d&&(p([d.gfx,d.secondaryGfx],function(a){a&&(c?Mb(a).add(b):Mb(a).remove(b))}),this._eventBus.fire("element.marker.update",{element:a,gfx:d.gfx,marker:b,add:!!c}))},Bc.prototype.addMarker=function(a,b){this._updateMarker(a,b,!0)},Bc.prototype.removeMarker=function(a,b){this._updateMarker(a,b,!1)},Bc.prototype.hasMarker=function(a,b){a.id||(a=this._elementRegistry.get(a));var c=this.getGraphics(a);return Mb(c).has(b)},Bc.prototype.toggleMarker=function(a,b){this.hasMarker(a,b)?this.removeMarker(a,b):this.addMarker(a,b)},Bc.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},Bc.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootElement,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootElement already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootElement=a,a},Bc.prototype._ensureValid=function(a,b){if(!b.id)throw new Error("element must have an id");if(this._elementRegistry.get(b.id))throw new Error("element with id "+b.id+" already exists");var c=Fu[a],d=r(c,function(a){return"undefined"!=typeof b[a]});if(!d)throw new Error("must supply { "+c.join(", ")+" } with "+a)},Bc.prototype._setParent=function(a,b,c){mc(b.children,a,c),a.parent=b},Bc.prototype._addElement=function(a,b,c,d){c=c||this.getRootElement();var e=this._eventBus,f=this._graphicsFactory;this._ensureValid(a,b),e.fire(a+".add",{element:b,parent:c}),this._setParent(b,c,d);var g=f.create(a,b,d);return this._elementRegistry.add(b,g),f.update(a,b,g),e.fire(a+".added",{element:b,gfx:g}),b},Bc.prototype.addShape=function(a,b,c){return this._addElement("shape",a,b,c)},Bc.prototype.addConnection=function(a,b,c){return this._addElement("connection",a,b,c)},Bc.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;if(a=c.get(a.id||a))return e.fire(b+".remove",{element:a}),d.remove(a),lc(a.parent&&a.parent.children,a),a.parent=null,e.fire(b+".removed",{element:a}),c.remove(a),a},Bc.prototype.removeShape=function(a){return this._removeElement(a,"shape")},Bc.prototype.removeConnection=function(a){return this._removeElement(a,"connection")},Bc.prototype.getGraphics=function(a,b){return this._elementRegistry.getGraphics(a,b)},Bc.prototype._changeViewbox=function(a){this._eventBus.fire("canvas.viewbox.changing"),a.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Bc.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Bc.prototype.viewbox=function(a){if(void 0===a&&this._cachedViewbox)return this._cachedViewbox;var b,c,d,e,f,g,h=this._viewport,i=this.getSize();return a?(this._changeViewbox(function(){e=Math.min(i.width/a.width,i.height/a.height);var b=this._svg.createSVGMatrix().scale(e).translate(-a.x,-a.y);ec(h,b)}),a):(b=this.getDefaultLayer().getBBox(),d=ec(h),c=d?d.matrix:Vb(),e=xc(c.a,1e3),f=xc(-c.e||0,1e3),g=xc(-c.f||0,1e3),a=this._cachedViewbox={x:f?f/e:0,y:g?g/e:0,width:i.width/e,height:i.height/e,scale:e,inner:{width:b.width,height:b.height,x:b.x,y:b.y},outer:i})},Bc.prototype.scroll=function(a){var b=this._viewport,c=b.getCTM();return a&&this._changeViewbox(function(){a=I({dx:0,dy:0},a||{}),c=this._svg.createSVGMatrix().translate(a.dx,a.dy).multiply(c),Cc(b,c)}),{x:c.e,y:c.f}},Bc.prototype.zoom=function(a,b){if(!a)return this.viewbox(a).scale;if("fit-viewport"===a)return this._fitViewport(b);var c,d;return this._changeViewbox(function(){"object"!==("undefined"==typeof b?"undefined":Du(b))&&(c=this.viewbox().outer,b={x:c.width/2,y:c.height/2}),d=this._setZoom(a,b)}),xc(d.a,1e3)},Bc.prototype._fitViewport=function(a){var b,c,d=this.viewbox(),e=d.outer,f=d.inner;return f.x>=0&&f.y>=0&&f.x+f.width<=e.width&&f.y+f.height<=e.height&&!a?c={x:0,y:0,width:Math.max(f.width+f.x,e.width),height:Math.max(f.height+f.y,e.height)}:(b=Math.min(1,e.width/f.width,e.height/f.height),c={x:f.x+(a?f.width/2-e.width/b/2:0),y:f.y+(a?f.height/2-e.height/b/2:0),width:e.width/b,height:e.height/b}),this.viewbox(c),this.viewbox(!1).scale},Bc.prototype._setZoom=function(a,b){var c,d,e,f,g,h=this._svg,i=this._viewport,j=h.createSVGMatrix(),k=h.createSVGPoint();e=i.getCTM();var l=e.a;return b?(c=I(k,b),d=c.matrixTransform(e.inverse()),f=j.translate(d.x,d.y).scale(1/l*a).translate(-d.x,-d.y),g=e.multiply(f)):g=j.scale(a),Cc(this._viewport,g),g},Bc.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Bc.prototype.getAbsoluteBBox=function(a){var b,c=this.viewbox();if(a.waypoints){var d=this.getGraphics(a);b=d.getBBox()}else b=a;var e=b.x*c.scale-c.x*c.scale,f=b.y*c.scale-c.y*c.scale,g=b.width*c.scale,h=b.height*c.scale;return{x:e,y:f,width:g,height:h}},Bc.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Gu="data-element-id";Dc.$inject=["eventBus"],Dc.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),Jb(b,Gu,d),c&&Jb(c,Gu,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},Dc.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(Jb(d.gfx,Gu,""),d.secondaryGfx&&Jb(d.secondaryGfx,Gu,""),delete b[c])},Dc.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a)),this._eventBus.fire("element.updateId",{element:a,newId:b});var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},Dc.prototype.get=function(a){var b;b="string"==typeof a?a:a&&Jb(a,Gu);var c=this._elements[b];return c&&c.element},Dc.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},Dc.prototype.getAll=function(){return this.filter(function(a){return a})},Dc.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},Dc.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},Dc.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")};var Hu=Ec,Iu=Fc,Ju={extend:Hu,isExtended:Iu};Jc.prototype.bind=function(a,b){if("string"==typeof b){if(!this.props[b])throw new Error("no property <"+b+"> in ref");b=this.props[b]}b.collection?Hc(this,b,a):Ic(this,b,a)},Jc.prototype.ensureRefsCollection=function(a,b){var c=a[b.name];return Ju.isExtended(c)||Hc(this,b,a),c},Jc.prototype.ensureBound=function(a,b){Gc(a,b)||this.bind(a,b)},Jc.prototype.unset=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).remove(c):a[b.name]=void 0)},Jc.prototype.set=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).add(c):a[b.name]=c);
};var Ku=Jc,Lu=Ku,Mu=Ju;Lu.Collection=Mu;var Nu=new Lu({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Ou=new Lu({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),Pu=new Lu({name:"attachers",collection:!0},{name:"host"}),Qu=new Lu({name:"outgoing",collection:!0},{name:"source"}),Ru=new Lu({name:"incoming",collection:!0},{name:"target"});ju(Lc,Kc),ju(Mc,Lc),ju(Nc,Lc),ju(Oc,Kc);var Su={connection:Oc,shape:Lc,label:Nc,root:Mc};Qc.prototype.createRoot=function(a){return this.create("root",a)},Qc.prototype.createLabel=function(a){return this.create("label",a)},Qc.prototype.createShape=function(a){return this.create("shape",a)},Qc.prototype.createConnection=function(a){return this.create("connection",a)},Qc.prototype.create=function(a,b){return b=I({},b||{}),b.id||(b.id=a+"_"+this._uid++),Pc(a,b)},Vc.$inject=["eventBus","elementRegistry"],Vc.prototype._getChildren=function(a){var b,c=this._elementRegistry.getGraphics(a);return a.parent?(b=Sc(c),b||(b=Tb("g"),Mb(b).add("djs-children"),Fb(c.parentNode,b))):b=c,b},Vc.prototype._clear=function(a){var b=Rc(a);return fb(b),b},Vc.prototype._createContainer=function(a,b,c){var d=Tb("g");Mb(d).add("djs-group"),"undefined"!=typeof c?Wc(d,b,b.childNodes[c]):Fb(b,d);var e=Tb("g");Mb(e).add("djs-element"),Mb(e).add("djs-"+a),Fb(d,e);var f=Tb("g");return Mb(f).add("djs-visual"),Fb(e,f),e},Vc.prototype.create=function(a,b,c){var d=this._getChildren(b.parent);return this._createContainer(a,d,c)},Vc.prototype.updateContainments=function(a){var b,c=this,d=this._elementRegistry;b=q(a,function(a,b){return b.parent&&(a[b.parent.id]=b.parent),a},{}),p(b,function(a){var b=a.children;if(b){var e=c._getChildren(a);p(b.slice().reverse(),function(a){var b=d.getGraphics(a);Wc(b.parentNode,e)})}})},Vc.prototype.drawShape=function(a,b){var c=this._eventBus;return c.fire("render.shape",{gfx:a,element:b})},Vc.prototype.getShapePath=function(a){var b=this._eventBus;return b.fire("render.getShapePath",a)},Vc.prototype.drawConnection=function(a,b){var c=this._eventBus;return c.fire("render.connection",{gfx:a,element:b})},Vc.prototype.getConnectionPath=function(a){var b=this._eventBus;return b.fire("render.getConnectionPath",a)},Vc.prototype.update=function(a,b,c){if(b.parent){var d=this._clear(c);if("shape"===a)this.drawShape(d,b),Tc(c,b.x,b.y);else{if("connection"!==a)throw new Error("unknown type: "+a);this.drawConnection(d,b)}b.hidden?Jb(c,"display","none"):Jb(c,"display","block")}},Vc.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);Ob(b.parentNode)};var Tu={__depends__:[Cu],__init__:["canvas"],canvas:["type",Bc],elementRegistry:["type",Dc],elementFactory:["type",Qc],eventBus:["type",K],graphicsFactory:["type",Vc]};Zc.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Zc.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};var Uu=Zc,Vu=0,Wu={width:150,height:50};pd.prototype.createText=function(a,b){return this.layoutText(a,b).element},pd.prototype.getDimensions=function(a,b){return this.layoutText(a,b).dimensions},pd.prototype.layoutText=function(a,b){var c=I({},this._config.size,b.box),d=I({},this._config.style,b.style),e=hd(b.align||this._config.align),f=id(void 0!==b.padding?b.padding:this._config.padding),g=b.fitBox||!1,h=qd(d),i=a.split(/\r?\n/g),j=[],k=c.width-f.left-f.right,l=Tb("text");Jb(l,{x:0,y:0}),Jb(l,d);var m=od();for(Fb(m,l);i.length;)j.push(kd(i,k,l));"middle"===e.vertical&&(f.top=f.bottom=0);var n=q(j,function(a,b,c){return a+(h||b.height)},0)+f.top+f.bottom,o=q(j,function(a,b,c){return b.width>a?b.width:a},0),r=f.top;"middle"===e.vertical&&(r+=(c.height-n)/2),r-=(h||j[0].height)/4;var s=Tb("text");Jb(s,d),p(j,function(a){var b;switch(r+=h||a.height,e.horizontal){case"left":b=f.left;break;case"right":b=(g?o:k)-f.right-a.width;break;default:b=Math.max(((g?o:k)-a.width)/2+f.left,0)}var c=Tb("tspan");Jb(c,{x:b,y:r}),c.textContent=a.text,Fb(s,c)}),Ob(l);var t={width:o,height:n};return{dimensions:t,element:s}},ju(rd,Cb),rd.$inject=["eventBus","pathMap","styles"];var Xu=/\{([^}]+)\}/g,Yu=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,Zu={__init__:["drdRenderer"],drdRenderer:["type",rd],pathMap:["type",td]};zd.$inject=["eventBus","canvas","elementFactory","elementRegistry"],zd.prototype.root=function(a){var b=this._elementFactory.createRoot(wd(a));return this._canvas.setRootElement(b),b},zd.prototype.add=function(a,b){var c,d,e,f,g,h,i,j=this._elementFactory,k=this._canvas,l=this._eventBus;if(b.$instanceOf("biodi:Bounds"))g=wd(a,{x:Math.round(b.x),y:Math.round(b.y),width:Math.round(b.width),height:Math.round(b.height)}),c=j.createShape(g),k.addShape(c),l.fire("drdElement.added",{element:c,di:b});else{if(!b.$instanceOf("biodi:Edge"))throw new Error("unknown di for element "+a.id);d=yd(b),h=b.source,i=a.$parent.id,$c(a,"dmn:Association")&&(i=xd(a.targetRef)),e=this._getShape(h),f=this._getShape(i),e&&f&&(g=wd(a,{hidden:!1,source:e,target:f,waypoints:d}),c=j.createConnection(g),k.addConnection(c),l.fire("drdElement.added",{element:c,di:b}))}return c},zd.prototype._getShape=function(a){return this._elementRegistry.get(a)};var $u={drdImporter:["type",zd]},_u={__depends__:[Zu,$u]},av={translate:["value",Ad]},bv=500;Kd.$inject=["eventBus","elementRegistry","styles"];var cv={__init__:["interactionEvents"],interactionEvents:["type",Kd]},dv=500;Ld.prototype.updateShapeOutline=function(a,b){Jb(a,{x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},Ld.prototype.updateConnectionOutline=function(a,b){var c=tc(b);Jb(a,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},Ld.$inject=["eventBus","styles","elementRegistry"];var ev={__init__:["outline"],outline:["type",Ld]};Md.$inject=["eventBus"],Md.prototype.deselect=function(a){var b=this._selectedElements,c=b.indexOf(a);if(c!==-1){var d=b.slice();b.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:b})}},Md.prototype.get=function(){return this._selectedElements},Md.prototype.isSelected=function(a){return this._selectedElements.indexOf(a)!==-1},Md.prototype.select=function(a,b){var c=this._selectedElements,d=c.slice();g(a)||(a=a?[a]:[]),b?p(a,function(a){c.indexOf(a)===-1&&c.push(a)}):this._selectedElements=c=a.slice(),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:c})};var fv="hover",gv="selected";Nd.$inject=["eventBus","canvas","selection","styles"],Od.$inject=["eventBus","selection","canvas","elementRegistry"];var hv={__init__:["selectionVisuals","selectionBehavior"],__depends__:[cv,ev],selection:["type",Md],selectionVisuals:["type",Nd],selectionBehavior:["type",Od]};Pd.prototype.next=function(){return this._prefix+ ++this._counter};var iv=new Pd("ov"),jv=500;Vd.$inject=["config.overlays","eventBus","canvas","elementRegistry"],Vd.prototype.get=function(a){if(k(a)&&(a={id:a}),k(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?o(b.overlays,A({type:a.type})):b.overlays.slice():[]}return a.type?o(this._overlays,A({type:a.type})):a.id?this._overlays[a.id]:null},Vd.prototype.add=function(a,b,c){if(h(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=I({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},Vd.prototype.remove=function(a){var b=this.get(a)||[];g(b)||(b=[b]);var c=this;p(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&(lb(a.html),lb(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);d!==-1&&b.overlays.splice(d,1)}})},Vd.prototype.show=function(){Sd(this._overlayRoot)},Vd.prototype.hide=function(){Sd(this._overlayRoot,!1)},Vd.prototype.clear=function(){this._overlays={},this._overlayContainers=[],fb(this._overlayRoot)},Vd.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,e=b.y;if(b.waypoints){var f=tc(b);d=f.x,e=f.y}Rd(c,d,e),cb(a.html,"data-container-id",b.id)},Vd.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,e=b.left,f=b.top;if(void 0!==b.right){var g;g=d.waypoints?tc(d).width:d.width,e=b.right*-1+g}if(void 0!==b.bottom){var h;h=d.waypoints?tc(d).height:d.height,f=b.bottom*-1+h}Rd(c,e||0,f||0)},Vd.prototype._createOverlayContainer=function(a){var b=Zt('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},Vd.prototype._updateRoot=function(a){var b=a.scale||1,c="matrix("+[b,0,0,b,-1*a.x*b,-1*a.y*b].join(",")+")";Td(this._overlayRoot,c)},Vd.prototype._getOverlayContainer=function(a,b){var c=m(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a)},Vd.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&f.constructor.prototype.jquery&&(f=f.get(0)),k(f)&&(f=Zt(f)),c=this._getOverlayContainer(e),b=Zt('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&db(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},Vd.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=c&&c.minZoom,e=c&&c.maxZoom,f=a.htmlContainer,g=!0;c&&((Ud(d)&&d>b.scale||Ud(e)&&e<b.scale)&&(g=!1),Sd(f,g)),this._updateOverlayScale(a,b)},Vd.prototype._updateOverlayScale=function(a,b){var c,d,e,f=a.scale,g=a.htmlContainer,h="";f!==!0&&(f===!1?(c=1,d=1):(c=f.min,d=f.max),Ud(c)&&b.scale<c&&(e=(1/b.scale||1)*c),Ud(d)&&b.scale>d&&(e=(1/b.scale||1)*d)),Ud(e)&&(h="scale("+e+","+e+")"),Td(g,h)},Vd.prototype._updateOverlaysVisibilty=function(a){var b=this;p(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},Vd.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});p(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){lb(e.html);var f=c._overlayContainers.indexOf(e);f!==-1&&c._overlayContainers.splice(f,1)}}),b.on("element.changed",jv,function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&(p(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&db(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)};var kv={__init__:["overlays"],overlays:["type",Vd]};Wd.$inject=["eventBus","canvas"],Wd.prototype._init=function(){var a=this._canvas,b=this._eventBus,c=a.getContainer(),d=this._container=Zt(Wd.HTML_MARKUP);c.appendChild(d),this.nameElement=jb(".dmn-definitions-name",this._container),this.idElement=jb(".dmn-definitions-id",this._container),Yt.bind(d,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(a){a.stopPropagation()}),b.fire("definitionIdView.create",{html:d})},Wd.prototype.update=function(a){var b=this._canvas.getRootElement().businessObject;this.nameElement.textContent=b.name,this.idElement.textContent=b.id},Wd.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>',Xd.$inject=["eventBus","canvas"];var lv={__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",Wd],definitionPropertiesPaletteAdapter:["type",Xd]},mv=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),nv=[{className:"dmn-icon-decision-table",matches:function(a){var b=a.businessObject;return $c(b,"dmn:Decision")&&b.decisionTable}},{className:"dmn-icon-literal-expression",matches:function(a){var b=a.businessObject;return $c(b,"dmn:Decision")&&b.literalExpression}}],ov=function(){function a(b,c,d,e){var f=this;Yd(this,a),this._injector=b,this._eventBus=c,this._overlays=d,this._config=e||{enabled:!0},c.on(["shape.added"],function(a){for(var b=a.element,c=0;c<nv.length;c++){var d=nv[c],e=d.matches,g=d.className,h=e&&e(b);h&&f.addOverlay(b,g)}})}return mv(a,[{key:"addOverlay",value:function(a,b){var c=Zt('\n      <div class="drill-down-overlay">\n        <span class="'+b+'"></span>\n      </div>\n    '),d=this._overlays.add(a,{position:{top:2,left:2},html:c});this._config.enabled!==!1&&(db(c).add("interactive"),this.bindEventListener(a,c,d))}},{key:"bindEventListener",value:function(a,b,c){var d=this,e=this._overlays,f=this._eventBus,g=e._overlayRoot;Yt.bind(g,'[data-overlay-id="'+c+'"]',"click",function(){var b=f.fire("drillDown.click",{element:a});b!==!1&&d.drillDown(a)})}},{key:"drillDown",value:function(a){var b=this._injector.get("_parent",!1);if(!b)return!1;var c=b.getView(a.businessObject);return!!c&&(b.open(c),!0)}}]),a}();ov.$inject=["injector","eventBus","overlays","config.drillDown"];var pv,qv={__depends__:[kv],__init__:["drillDown"],drillDown:["type",ov]},rv='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>',sv="data:image/svg+xml,"+encodeURIComponent(rv),tv='<img width="52" height="52" src="'+sv+'" />',uv=Zd(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),vv=Zd(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),wv=Zd(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),xv='<div class="bjs-powered-by-lightbox" style="'+uv+'"><div class="backdrop" style="'+vv+'"></div><div class="notice" style="'+wv+'"><a href="http://bpmn.io" target="_blank" style="float: left; margin-right: 10px">'+tv+'</a>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="http://bpmn.io" target="_blank">bpmn.io</a>.</div></div>',yv=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};ju(be,Uu),be.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=jb("defs",c._svg),f=ac(d),g=e&&e.outerHTML||"",h=d.getBBox(),i='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with dmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>";b(null,i)},be.prototype.getModules=function(){return this._modules},be.prototype.destroy=function(){Uu.prototype.destroy.call(this),lb(this._container)},be.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},be.prototype.off=function(a,b){this.get("eventBus").off(a,b)},be.prototype._init=function(a,b){var c=b.additionalModules,d=b.canvas,e=ae(b,["additionalModules","canvas"]),f=b.modules||this.getModules(),g=[{drd:["value",this]}],h=[].concat(g,_d(f),_d(c||[])),i=yv({},e,{canvas:yv({},d,{container:a}),modules:h});Uu.call(this,i),b&&b.container&&this.attachTo(b.container)},be.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},be.prototype._createContainer=function(){return Zt('<div class="dmn-drd-container"></div>')},be.prototype.open=function(a,b){var c;try{return this._definitions&&this.clear(),this._definitions=a,gd(this,a,b)}catch(d){c=d}return b(c)},be.prototype.attachTo=function(a){if(!a)throw new Error("parentNode required");this.detach();var b=this._container;a.appendChild(b),this._emit("attach",{}),this.get("canvas").resized()},be.prototype.detach=function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),b.removeChild(a))},be.prototype._modules=[_u,av,hv,kv,lv,qv];var zv=Math.sign||function(a){return a>=0?1:-1},Av={min:.2,max:4},Bv=10,Cv=.1,Dv=.75;ie.$inject=["config.zoomScroll","eventBus","canvas"],ie.prototype.scroll=function(a){this._canvas.scroll(a)},ie.prototype.reset=function(){this._canvas.zoom("fit-viewport")},ie.prototype.zoom=function(a,b){var c=ge(Av,2*Bv);this._totalDelta+=a,Math.abs(this._totalDelta)>Cv&&(this._zoom(a,b,c),this._totalDelta=0)},ie.prototype._handleWheel=function(a){if(!Ot(a.target,".djs-scrollable",!0)){var b=this._container;a.preventDefault();var c,d=a.ctrlKey,e=a.shiftKey,f=-1*this._scale;if(f*=d?0===a.deltaMode?.02:.32:0===a.deltaMode?1:16,d){var g=b.getBoundingClientRect(),h={x:a.clientX-g.left,y:a.clientY-g.top};c=Math.sqrt(Math.pow(a.deltaY,2)+Math.pow(a.deltaX,2))*zv(a.deltaY)*f,this.zoom(c,h)}else c=e?{dx:f*a.deltaY,dy:0}:{dx:f*a.deltaX,dy:f*a.deltaY},this.scroll(c)}},ie.prototype.stepZoom=function(a,b){var c=ge(Av,Bv);this._zoom(a,b,c)},ie.prototype._zoom=function(a,b,c){var d=this._canvas,e=a>0?1:-1,f=fe(d.zoom()),g=Math.round(f/c)*c;g+=c*e;var h=Math.pow(10,g);d.zoom(he(Av,h),b)},ie.prototype.toggle=function(a){var b=this._container,c=this._handleWheel,d=this._enabled;return"undefined"==typeof a&&(a=!d),d!==a&&Ut[a?"bind":"unbind"](b,"wheel",c,!1),this._enabled=a,a},ie.prototype._init=function(a){this.toggle(a)};var Ev={__init__:["zoomScroll"],zoomScroll:["type",ie]},Fv=/^djs-cursor-.*$/,Gv=5e3,Hv=15;ne.$inject=["eventBus","canvas"];var Iv={__init__:["moveCanvas"],moveCanvas:["type",ne]},Jv=$(function(a){var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(c,d,e,f){function g(a,b,c){return setTimeout(l(a,c),b)}function h(a,b,c){return!!Array.isArray(a)&&(i(a,c[b],c),!0)}function i(a,b,c){var d;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==f)for(d=0;d<a.length;)b.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function j(a,b,d){var e="DEPRECATED METHOD: "+b+"\n"+d+" AT \n";return function(){var b=new Error("get-stack-trace"),d=b&&b.stack?b.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=c.console&&(c.console.warn||c.console.log);return f&&f.call(c.console,e,d),a.apply(this,arguments)}}function k(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&na(d,c)}function l(a,b){return function(){return a.apply(b,arguments)}}function m(a,c){return("undefined"==typeof a?"undefined":b(a))==qa?a.apply(c?c[0]||f:f,c):a}function n(a,b){return a===f?b:a}function o(a,b,c){i(s(b),function(b){a.addEventListener(b,c,!1)})}function p(a,b,c){i(s(b),function(b){a.removeEventListener(b,c,!1)})}function q(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function r(a,b){return a.indexOf(b)>-1}function s(a){return a.trim().split(/\s+/g)}function t(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function u(a){return Array.prototype.slice.call(a,0)}function v(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];t(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function w(a,b){for(var c,d,e=b[0].toUpperCase()+b.slice(1),g=0;g<oa.length;){if(c=oa[g],d=c?c+e:b,d in a)return d;g++}return f}function x(){return wa++}function y(a){var b=a.ownerDocument||a;return b.defaultView||b.parentWindow||c}function z(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){m(a.options.enable,[a])&&c.handler(b)},this.init()}function A(a){var b,c=a.options.inputClass;return new(b=c?c:za?O:Aa?R:ya?T:N)(a,B)}function B(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ga&&d-e===0,g=b&(Ia|Ja)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,C(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function C(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=F(b)),e>1&&!c.firstMultiple?c.firstMultiple=F(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=G(d);b.timeStamp=ta(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=K(h,i),b.distance=J(h,i),D(c,b),b.offsetDirection=I(b.deltaX,b.deltaY);var j=H(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=sa(j.x)>sa(j.y)?j.x:j.y,b.scale=g?M(g.pointers,d):1,b.rotation=g?L(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,E(c,b);var k=a.element;q(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function D(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ga&&f.eventType!==Ia||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function E(a,b){var c,d,e,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ja&&(i>Fa||h.velocity===f)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=H(i,j,k);d=l.x,e=l.y,c=sa(l.x)>sa(l.y)?l.x:l.y,g=I(j,k),a.lastInterval=b}else c=h.velocity,d=h.velocityX,e=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=d,b.velocityY=e,b.direction=g}function F(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:ra(a.pointers[c].clientX),clientY:ra(a.pointers[c].clientY)},c++;return{timeStamp:ta(),pointers:b,center:G(b),deltaX:a.deltaX,deltaY:a.deltaY}}function G(a){var b=a.length;if(1===b)return{x:ra(a[0].clientX),y:ra(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:ra(c/b),y:ra(d/b)}}function H(a,b,c){return{x:b/a||0,y:c/a||0}}function I(a,b){return a===b?Ka:sa(a)>=sa(b)?a<0?La:Ma:b<0?Na:Oa}function J(a,b,c){c||(c=Sa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function K(a,b,c){c||(c=Sa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function L(a,b){return K(b[1],b[0],Ta)+K(a[1],a[0],Ta)}function M(a,b){return J(b[0],b[1],Ta)/J(a[0],a[1],Ta)}function N(){this.evEl=Va,this.evWin=Wa,this.pressed=!1,z.apply(this,arguments)}function O(){this.evEl=Za,this.evWin=$a,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function P(){this.evTarget=ab,this.evWin=bb,this.started=!1,z.apply(this,arguments)}function Q(a,b){var c=u(a.touches),d=u(a.changedTouches);return b&(Ia|Ja)&&(c=v(c.concat(d),"identifier",!0)),[c,d]}function R(){this.evTarget=db,this.targetIds={},z.apply(this,arguments)}function S(a,b){var c=u(a.touches),d=this.targetIds;if(b&(Ga|Ha)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=u(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return q(a.target,i)}),b===Ga)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ia|Ja)&&delete d[g[e].identifier],e++;return h.length?[v(f.concat(h),"identifier",!0),h]:void 0}function T(){z.apply(this,arguments);var a=l(this.handler,this);this.touch=new R(this.manager,a),this.mouse=new N(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function U(a,b){a&Ga?(this.primaryTouch=b.changedPointers[0].identifier,V.call(this,b)):a&(Ia|Ja)&&V.call(this,b)}function V(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,eb)}}function W(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(f<=fb&&g<=fb)return!0}return!1}function X(a,b){this.manager=a,this.set(b)}function Y(a){if(r(a,lb))return lb;var b=r(a,mb),c=r(a,nb);return b&&c?lb:b||c?b?mb:nb:r(a,kb)?kb:jb}function Z(){if(!hb)return!1;var a={},b=c.CSS&&c.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){a[d]=!b||c.CSS.supports("touch-action",d)}),a}function $(a){this.options=na({},this.defaults,a||{}),this.id=x(),this.manager=null,this.options.enable=n(this.options.enable,!0),this.state=pb,this.simultaneous={},this.requireFail=[]}function _(a){return a&ub?"cancel":a&sb?"end":a&rb?"move":a&qb?"start":""}function aa(a){return a==Oa?"down":a==Na?"up":a==La?"left":a==Ma?"right":""}function ba(a,b){var c=b.manager;return c?c.get(a):a}function ca(){$.apply(this,arguments)}function da(){ca.apply(this,arguments),this.pX=null,this.pY=null}function ea(){ca.apply(this,arguments)}function fa(){$.apply(this,arguments),this._timer=null,this._input=null}function ga(){ca.apply(this,arguments)}function ha(){ca.apply(this,arguments)}function ia(){$.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ja(a,b){return b=b||{},b.recognizers=n(b.recognizers,ja.defaults.preset),new ka(a,b)}function ka(a,b){this.options=na({},ja.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=A(this),this.touchAction=new X(this,this.options.touchAction),la(this,!0),i(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function la(a,b){var c=a.element;if(c.style){var d;i(a.options.cssProps,function(e,f){d=w(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ma(a,b){var c=d.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}var na,oa=["","webkit","Moz","MS","ms","o"],pa=d.createElement("div"),qa="function",ra=Math.round,sa=Math.abs,ta=Date.now;na="function"!=typeof Object.assign?function(a){if(a===f||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(d!==f&&null!==d)for(var e in d)d.hasOwnProperty(e)&&(b[e]=d[e])}return b}:Object.assign;var ua=j(function(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;)(!c||c&&a[d[e]]===f)&&(a[d[e]]=b[d[e]]),e++;return a},"extend","Use `assign`."),va=j(function(a,b){return ua(a,b,!0)},"merge","Use `assign`."),wa=1,xa=/mobile|tablet|ip(ad|hone|od)|android/i,ya="ontouchstart"in c,za=w(c,"PointerEvent")!==f,Aa=ya&&xa.test(navigator.userAgent),Ba="touch",Ca="pen",Da="mouse",Ea="kinect",Fa=25,Ga=1,Ha=2,Ia=4,Ja=8,Ka=1,La=2,Ma=4,Na=8,Oa=16,Pa=La|Ma,Qa=Na|Oa,Ra=Pa|Qa,Sa=["x","y"],Ta=["clientX","clientY"];z.prototype={handler:function(){},init:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(y(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(y(this.element),this.evWin,this.domHandler)}};var Ua={mousedown:Ga,mousemove:Ha,mouseup:Ia},Va="mousedown",Wa="mousemove mouseup";k(N,z,{handler:function(a){var b=Ua[a.type];b&Ga&&0===a.button&&(this.pressed=!0),b&Ha&&1!==a.which&&(b=Ia),this.pressed&&(b&Ia&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Da,srcEvent:a}))}});var Xa={pointerdown:Ga,pointermove:Ha,pointerup:Ia,pointercancel:Ja,pointerout:Ja},Ya={2:Ba,3:Ca,4:Da,5:Ea},Za="pointerdown",$a="pointermove pointerup pointercancel";c.MSPointerEvent&&!c.PointerEvent&&(Za="MSPointerDown",$a="MSPointerMove MSPointerUp MSPointerCancel"),k(O,z,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Xa[d],f=Ya[a.pointerType]||a.pointerType,g=f==Ba,h=t(b,a.pointerId,"pointerId");e&Ga&&(0===a.button||g)?h<0&&(b.push(a),h=b.length-1):e&(Ia|Ja)&&(c=!0),h<0||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var _a={touchstart:Ga,touchmove:Ha,touchend:Ia,touchcancel:Ja},ab="touchstart",bb="touchstart touchmove touchend touchcancel";k(P,z,{handler:function(a){var b=_a[a.type];if(b===Ga&&(this.started=!0),this.started){var c=Q.call(this,a,b);b&(Ia|Ja)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:Ba,srcEvent:a})}}});var cb={touchstart:Ga,touchmove:Ha,touchend:Ia,touchcancel:Ja},db="touchstart touchmove touchend touchcancel";k(R,z,{handler:function(a){var b=cb[a.type],c=S.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:Ba,srcEvent:a})}});var eb=2500,fb=25;k(T,z,{handler:function(a,b,c){var d=c.pointerType==Ba,e=c.pointerType==Da;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)U.call(this,b,c);else if(e&&W.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var gb=w(pa.style,"touchAction"),hb=gb!==f,ib="compute",jb="auto",kb="manipulation",lb="none",mb="pan-x",nb="pan-y",ob=Z();X.prototype={set:function(a){a==ib&&(a=this.compute()),hb&&this.manager.element.style&&ob[a]&&(this.manager.element.style[gb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return i(this.manager.recognizers,function(b){m(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),Y(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=r(d,lb)&&!ob[lb],f=r(d,nb)&&!ob[nb],g=r(d,mb)&&!ob[mb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Pa||g&&c&Qa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var pb=1,qb=2,rb=4,sb=8,tb=sb,ub=16,vb=32;$.prototype={defaults:{},set:function(a){return na(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(h(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=ba(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return h(a,"dropRecognizeWith",this)?this:(a=ba(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(h(a,"requireFailure",this))return this;var b=this.requireFail;return a=ba(a,this),t(b,a)===-1&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(h(a,"dropRequireFailure",this))return this;a=ba(a,this);var b=t(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){
return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function zb(a){function zb(c){b.manager.emit(c,a)}var b=this,c=this.state;c<sb&&zb(b.options.event+_(c)),zb(b.options.event),a.additionalEvent&&zb(a.additionalEvent),c>=sb&&zb(b.options.event+_(c))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=vb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(vb|pb)))return!1;a++}return!0},recognize:function(a){var b=na({},a);return m(this.options.enable,[this,b])?(this.state&(tb|ub|vb)&&(this.state=pb),this.state=this.process(b),void(this.state&(qb|rb|sb|ub)&&this.tryEmit(b))):(this.reset(),void(this.state=vb))},process:function(a){},getTouchAction:function(){},reset:function(){}},k(ca,$,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(qb|rb),e=this.attrTest(a);return d&&(c&Ja||!e)?b|ub:d||e?c&Ia?b|sb:b&qb?b|rb:qb:vb}}),k(da,ca,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ra},getTouchAction:function(){var a=this.options.direction,b=[];return a&Pa&&b.push(nb),a&Qa&&b.push(mb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Pa?(e=0===f?Ka:f<0?La:Ma,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ka:g<0?Na:Oa,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return ca.prototype.attrTest.call(this,a)&&(this.state&qb||!(this.state&qb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=aa(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),k(ea,ca,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[lb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&qb)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),k(fa,$,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[jb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ia|Ja)&&!e)this.reset();else if(a.eventType&Ga)this.reset(),this._timer=g(function(){this.state=tb,this.tryEmit()},b.time,this);else if(a.eventType&Ia)return tb;return vb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===tb&&(a&&a.eventType&Ia?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ta(),this.manager.emit(this.options.event,this._input)))}}),k(ga,ca,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[lb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&qb)}}),k(ha,ca,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pa|Qa,pointers:1},getTouchAction:function(){return da.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Pa|Qa)?b=a.overallVelocity:c&Pa?b=a.overallVelocityX:c&Qa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&sa(b)>this.options.velocity&&a.eventType&Ia},emit:function(a){var b=aa(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),k(ia,$,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[kb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime<b.time;if(this.reset(),a.eventType&Ga&&0===this.count)return this.failTimeout();if(d&&e&&c){if(a.eventType!=Ia)return this.failTimeout();var f=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||J(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&f?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=g(function(){this.state=tb,this.tryEmit()},b.interval,this),qb):tb}return vb},failTimeout:function(){return this._timer=g(function(){this.state=vb},this.options.interval,this),vb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==tb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ja.VERSION="2.0.7",ja.defaults={domEvents:!1,touchAction:ib,enable:!0,inputTarget:null,inputClass:null,preset:[[ga,{enable:!1}],[ea,{enable:!1},["rotate"]],[ha,{direction:Pa}],[da,{direction:Pa},["swipe"]],[ia],[ia,{event:"doubletap",taps:2},["tap"]],[fa]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wb=1,xb=2;ka.prototype={set:function(a){return na(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?xb:wb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&tb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===xb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(qb|rb|sb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof $)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(h(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(h(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=t(b,a);c!==-1&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==f&&b!==f){var c=this.handlers;return i(s(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==f){var c=this.handlers;return i(s(a),function(a){b?c[a]&&c[a].splice(t(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ma(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&la(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},na(ja,{INPUT_START:Ga,INPUT_MOVE:Ha,INPUT_END:Ia,INPUT_CANCEL:Ja,STATE_POSSIBLE:pb,STATE_BEGAN:qb,STATE_CHANGED:rb,STATE_ENDED:sb,STATE_RECOGNIZED:tb,STATE_CANCELLED:ub,STATE_FAILED:vb,DIRECTION_NONE:Ka,DIRECTION_LEFT:La,DIRECTION_RIGHT:Ma,DIRECTION_UP:Na,DIRECTION_DOWN:Oa,DIRECTION_HORIZONTAL:Pa,DIRECTION_VERTICAL:Qa,DIRECTION_ALL:Ra,Manager:ka,Input:z,TouchAction:X,TouchInput:R,MouseInput:N,PointerEventInput:O,TouchMouseInput:T,SingleTouchInput:P,Recognizer:$,AttrRecognizer:ca,Tap:ia,Pan:da,Swipe:ha,Pinch:ea,Rotate:ga,Press:fa,on:o,off:p,each:i,merge:va,extend:ua,assign:na,inherit:k,bindFn:l,prefixed:w});var yb="undefined"!=typeof c?c:"undefined"!=typeof self?self:{};yb.Hammer=ja,"function"==typeof f&&f.amd?f(function(){return ja}):a.exports?a.exports=ja:c[e]=ja}(window,document,"Hammer")}),Kv=.2,Lv=4,Mv=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];re.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],se.$inject=["canvas","eventBus"],se.prototype.addBBoxMarker=function(a){var b={fill:"none","class":"outer-bound-marker"},c=Tb("rect");Jb(c,{x:-1e4,y:1e4,width:10,height:10}),Jb(c,b),Fb(a,c);var d=Tb("rect");Jb(d,{x:1e4,y:1e4,width:10,height:10}),Jb(d,b),Fb(a,d)};var Nv={__depends__:[cv],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",re],touchFix:["type",se]},Ov={__depends__:[Nv]};ju(te,be),te.prototype._navigationModules=[Ev,Iv,Ov],te.prototype._modules=[].concat(te.prototype._modules,te.prototype._navigationModules);var Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Qv=function bI(a){we(this,bI),I(this,a),ye(this,"businessObject",{writable:!0})},Rv=function(a){function b(a){we(this,b);var c=ue(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return ye(c,"rows",{enumerable:!0,value:c.rows||[]}),ye(c,"cols",{enumerable:!0,value:c.cols||[]}),c}return ve(b,a),b}(Qv),Sv=function(a){function b(a){we(this,b);var c=ue(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return ye(c,"root",{writable:!0}),ye(c,"cells",{enumerable:!0,value:c.cells||[]}),c}return ve(b,a),b}(Qv),Tv=function(a){function b(a){we(this,b);var c=ue(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return ye(c,"root",{writable:!0}),ye(c,"cells",{enumerable:!0,value:c.cells||[]}),c}return ve(b,a),b}(Qv),Uv=function(a){function b(a){we(this,b);var c=ue(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return ye(c,"row",{writable:!0}),ye(c,"col",{writable:!0}),c}return ve(b,a),b}(Qv),Vv={root:Rv,row:Sv,col:Tv,cell:Uv},Wv=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Xv=function(){function a(){ze(this,a),this._uid=12}return Wv(a,[{key:"create",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.id||(b.id=a+"_"+this._uid++),xe(a,b)}},{key:"createRoot",value:function(a){return this.create("root",a)}},{key:"createRow",value:function(a){return this.create("row",a)}},{key:"createCol",value:function(a){return this.create("col",a)}},{key:"createCell",value:function(a){return this.create("cell",a)}}]),a}(),Yv=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Zv=function(){function a(b){Ae(this,a),this._eventBus=b,this._elements={},b.on("table.clear",this.clear.bind(this))}return Yv(a,[{key:"add",value:function(a,b){var c=a.id;this._elements[c]=a}},{key:"remove",value:function(a){var b=a.id||a;delete this._elements[b]}},{key:"get",value:function(a){return this._elements[a]}},{key:"getAll",value:function(){return Be(this._elements)}},{key:"forEach",value:function(a){Be(this._elements).forEach(function(b){return a(b)})}},{key:"filter",value:function(a){return Be(this._elements).filter(function(b){return a(b)})}},{key:"clear",value:function(){this._elements={}}},{key:"updateId",value:function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a)),this._eventBus.fire("element.updateId",{element:a,newId:b}),this.remove(a),a.id=b,this.add(a)}},{key:"_validateId",value:function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}}]),a}();Zv.$inject=["eventBus"];var $v=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_v=function(){function a(b){var c=this;Ce(this,a),this._listeners={},b.on("elements.changed",function(a){var b=a.elements;c.elementsChanged(b)}),b.on("root.remove",function(a){var d=a.root.id;c._listeners[d]&&b.once("root.add",function(a){var b=a.root.id;c.updateId(d,b)})}),b.on("element.updateId",function(a){var b=a.element,d=a.newId;c.updateId(b.id,d)})}return $v(a,[{key:"elementsChanged",value:function(a){for(var b={},c=a.length,d=0;d<c;d++){var e=a[d].id;if(b[e])return;b[e]=!0;var f=this._listeners[e]&&this._listeners[e].length;if(f)for(var g=0;g<f;g++)this._listeners[e][g]&&this._listeners[e][g]()}}},{key:"onElementsChanged",value:function(a,b){this._listeners[a]||(this._listeners[a]=[]),this._listeners[a][this._listeners[a].length]=b}},{key:"offElementsChanged",value:function(a,b){if(this._listeners[a])if(b){var c=this._listeners[a].indexOf(b);c!==-1&&this._listeners[a].splice(c,1)}else this._listeners[a].length=0}},{key:"updateId",value:function(a,b){this._listeners[a]&&(this._listeners[b]=this._listeners[a],delete this._listeners[a])}}]),a}();_v.$inject=["eventBus"];var aw=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),bw=1e3,cw=function(){function a(){De(this,a),this._listeners={}}return aw(a,[{key:"getComponent",value:function(a,b){var c=this._listeners[a];if(c){for(var d=void 0,e=0;e<c.length&&!(d=c[e].callback(b));e++);return d}}},{key:"getComponents",value:function(a,b){var c=this._listeners[a],d=[];if(!c)return d;for(var e=0;e<c.length;e++){var f=c[e].callback(b);f&&d.push(f)}return d.length?d:d}},{key:"onGetComponent",value:function(a,b,c){if(j(b)&&(c=b,b=bw),!i(b))throw new Error("priority must be a number");var d=this._getListeners(a),e=void 0,f=void 0,g={priority:b,callback:c};for(f=0;e=d[f];f++)if(e.priority<b)return void d.splice(f,0,g);d.push(g)}},{key:"offGetComponent",value:function(a,b){var c=this._getListeners(a),d=void 0,e=void 0,f=void 0;if(b)for(f=c.length-1;d=c[f];f--)e=d.callback,e===b&&c.splice(f,1);else c.length=0}},{key:"_getListeners",value:function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b}}]),a}(),dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ew="$NO_OP",fw="a runtime error occured! Use Inferno in development environment to find the error.",gw=!("undefined"==typeof window||!window.document),hw=Array.isArray,iw="$",jw={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,roots:[]},kw="http://www.w3.org/1999/xlink",lw="http://www.w3.org/XML/1998/namespace",mw="http://www.w3.org/2000/svg",nw={"xlink:actuate":kw,"xlink:arcrole":kw,"xlink:href":kw,"xlink:role":kw,"xlink:show":kw,"xlink:title":kw,"xlink:type":kw,"xml:base":lw,"xml:lang":lw,"xml:space":lw},ow={},pw=[],qw={},rw={},sw=mf("onInput",qf),tw=mf(["onClick","onChange"],qf);of.wrapped=!0;var uw=mf("onChange",uf),vw=mf("onInput",wf),ww=mf("onChange"),xw=jw.roots,yw=(gw?document.body:null,"undefined"==typeof Promise?null:Promise.resolve()),zw="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window),Aw=function(a,b){this.state=null,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=a||ow,this.context=b||ow};Aw.prototype.forceUpdate=function(a){this.$UN||pg(this,!0,a)},Aw.prototype.setState=function(a,b){this.$UN||this.$BS||ng(this,a,b)},Aw.prototype.render=function(a,b,c){},Aw.defaultProps=null;Object.freeze({});"production"!==a.env.NODE_ENV&&console.warn("You are running production build of Inferno in development mode. Use dev:module entry point.");var Bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cw=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Dw=function(a){function b(a){qg(this,b);var c=rg(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c._injector=a.injector;return c._sheet=d.get("sheet"),c._changeSupport=d.get("changeSupport"),c._components=d.get("components"),c.onElementsChanged=c.onElementsChanged.bind(c),c}return sg(b,a),Cw(b,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}},{key:"componentWillMount",value:function(){var a=this._sheet.getRoot(),b=a.id;this._changeSupport.onElementsChanged(b,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this._sheet.getRoot(),b=a.id;this._changeSupport.offElementsChanged(b,this.onElementsChanged)}},{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.rows,c=a.cols,d=this._components.getComponents("table.before"),e=this._components.getComponents("table.after"),f=this._components.getComponent("table.head"),g=this._components.getComponent("table.body"),h=this._components.getComponent("table.foot");return Re(1,"div","tjs-container",[d&&d.map(function(a,b){return Se(2,a,null,b)}),Re(1,"table","tjs-table",[f&&Se(2,f,{rows:b,cols:c}),g&&Se(2,g,{rows:b,cols:c}),h&&Se(2,h,{rows:b,cols:c})],0),e&&e.map(function(a,b){return Se(2,a,null,b)})],0)}}]),b}(Aw),Ew=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Fw=function(){function a(b,c,d,e,f){tg(this,a);var g=d.container;this._container=g,e.on("root.added",function(){kg(Se(2,Dw,{injector:f}),g)}),e.on("root.remove",function(){kg(null,g)})}return Ew(a,[{key:"getContainer",value:function(){return this._container}}]),a}();Fw.$inject=["changeSupport","components","config.renderer","eventBus","injector"];var Gw={__init__:["changeSupport","components","renderer"],changeSupport:["type",_v],components:["type",cw],renderer:["type",Fw]},Hw=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Iw=function(){function a(b,c){var d=this;ug(this,a),this._elementRegistry=b,this._eventBus=c,this._root=null,c.on("table.clear",function(){d.setRoot(null)})}return Hw(a,[{key:"setRoot",value:function(a){if(this._root){var b=this._root;this._eventBus.fire("root.remove",{root:b}),this._root=null,this._eventBus.fire("root.removed",{root:b})}a&&this._eventBus.fire("root.add",{root:a}),this._root=a,a&&this._eventBus.fire("root.added",{root:a})}},{key:"getRoot",value:function(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}},{key:"addRow",value:function(a,b){var c=this,d=this.getRoot();if(d.cols.length!=a.cells.length)throw new Error("number of cells is not equal to number of cols");return"undefined"==typeof b&&(b=d.rows.length),vg(b,d.rows,a),a.root=d,this._elementRegistry.add(a),a.cells.forEach(function(e,f){c._elementRegistry.add(e),e.row=a,e.col=d.cols[f],vg(b,d.cols[f].cells,e)}),this._eventBus.fire("row.add",{row:a}),a}},{key:"removeRow",value:function(a){var b=this,c=this.getRoot();"string"==typeof a&&(a=this._elementRegistry.get(a));var d=c.rows.indexOf(a);d!==-1&&(wg(d,c.rows),a.root=void 0,this._elementRegistry.remove(a),a.cells.forEach(function(a,e){b._elementRegistry.remove(a),a.col=void 0,wg(d,c.cols[e].cells)}),this._eventBus.fire("row.remove",{row:a}))}},{key:"addCol",value:function(a,b){var c=this,d=this.getRoot();if(this._elementRegistry.add(a),d.rows.length!=a.cells.length)throw new Error("number of cells is not equal to number of rows");return"undefined"==typeof b&&(b=d.cols.length),vg(b,d.cols,a),a.root=d,a.cells.forEach(function(e,f){c._elementRegistry.add(e),e.col=a,e.row=d.rows[f],vg(b,d.rows[f].cells,e)}),this._eventBus.fire("col.add",{col:a}),a}},{key:"removeCol",value:function(a){var b=this,c=this.getRoot();"string"==typeof a&&(a=this._elementRegistry.get(a));var d=c.cols.indexOf(a);d!==-1&&(wg(d,c.cols),a.root=void 0,this._elementRegistry.remove(a),a.cells.forEach(function(a,e){b._elementRegistry.remove(a),a.row=void 0,wg(d,c.rows[e].cells)}),this._eventBus.fire("col.remove",{col:a}))}},{key:"resized",value:function(){this._eventBus.fire("sheet.resized")}}]),a}();Iw.$inject=["elementRegistry","eventBus"];var Jw={__depends__:[Gw],__init__:["elementFactory","sheet"],elementFactory:["type",Xv],elementRegistry:["type",Zv],eventBus:["type",K],sheet:["type",Iw]},Kw=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Lw=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};yg(this,a);var c=b.injector;if(!c){var d=this._init(b),e=d.modules,f=d.config;c=Ag(f,e)}this.get=c.get,this.invoke=c.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}return Kw(a,[{key:"_init",value:function(a){var b=a.modules,c=xg(a,["modules"]);return{modules:b,config:c}}},{key:"destroy",value:function(){var a=this.get("eventBus");a.fire("table.destroy"),a.fire("diagram.destroy")}},{key:"clear",value:function(){var a=this.get("eventBus");a.fire("table.clear"),a.fire("diagram.clear")}}]),a}(),Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Nw="function"==typeof Symbol&&"symbol"===Mw(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":Mw(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":Mw(a)},Ow=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Pw={getSelectionClasses:function(){var a=this.state,b=a.selected,c=a.selectedSecondary,d=a.focussed;return Kg({selected:b,"selected-secondary":c,focussed:d})},selectionChanged:function(a){this.setState(a)},componentWillUpdate:function(a){a.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate:function(a){a.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount:function(){this.updateSelectionSubscription(!0)},componentWillUnmount:function(){this.updateSelectionSubscription(!1)},updateSelectionSubscription:function(a){var b=this.props.elementId;b&&b&&this.eventBus[a?"on":"off"]("selection."+b+".changed",this.selectionChanged)}};Pw.$inject=["eventBus"];var Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Rw=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Sw=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Tw=function(a){function b(a,c){Rg(this,b);var d=Sg(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return Pg(d,Pw),Mg(d),d}return Tg(b,a),Sw(b,[{key:"getRenderProps",value:function(){for(var a=this.props,b=a.className,c=a.elementId,d=a.coords,e=Qg(a,["className","elementId","coords"]),f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];var i={className:Kg.apply(void 0,g.concat([this.getSelectionClasses(),b]))};return c&&(i["data-element-id"]=c),d&&(i["data-coords"]=d),Rw({},i,e)}}]),b}(Aw),Uw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Vw=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},Ww=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Xw=function(a){function b(a,c){Ug(this,b);var d=Vg(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.state={},d}return Wg(b,a),Ww(b,[{key:"render",value:function(){var a=this.props.children,b=this.getRenderProps("cell");return Ue(Re(1,"td",null,a,0,Vw({},b)))}}]),b}(Tw),Yw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Zw=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),$w=(function(a){function b(){return Xg(this,b),Yg(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Zg(b,a),Zw(b,[{key:"getChildContext",value:function(){return{injector:this.props.injector}}},{key:"render",value:function(){return this.props.children}}]),b}(Aw),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}),_w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ax=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();(function(a){function b(a,c){$g(this,b);var d=_g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.state={},d}return ah(b,a),ax(b,[{key:"render",value:function(){var a=this.props.children,b=this.getRenderProps("cell","header-cell");return Ue(Re(1,"th",null,a,0,_w({},b)))}}]),b})(Tw);ch.$inject=["components"];var bx={__init__:["annotationsProvider"],annotationsProvider:["type",ch]},cx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),dx=function(){function a(b,c,d){eh(this,a),this._elementFactory=b,this._eventBus=c,this._sheet=d}return cx(a,[{key:"add",value:function(a){var b=this,c=void 0;if($c(a,"dmn:DecisionTable"))c=this._elementFactory.createRoot(fh(a)),this._sheet.setRoot(c);else if($c(a,"dmn:InputClause"))c=this._elementFactory.createCol(fh(a)),this._sheet.addCol(c);else if($c(a,"dmn:OutputClause"))c=this._elementFactory.createCol(fh(a)),this._sheet.addCol(c);else if($c(a,"dmn:DecisionRule")){a.inputEntry||(a.inputEntry=[]),a.outputEntry||(a.outputEntry=[]);var d=[].concat(dh(a.inputEntry),dh(a.outputEntry)).map(function(a){return b._elementFactory.createCell(fh(a))});c=this._elementFactory.createRow(I(fh(a),{cells:d})),this._sheet.addRow(c)}return this._eventBus.fire("dmnElement.added",{element:c}),c}}]),a}();dx.$inject=["elementFactory","eventBus","sheet"];var ex={tableImporter:["type",dx]},fx={__depends__:[ex,Gw]},gx=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},hx={slotFill:function(a,b){var c=a.type,d=a.context,e=gh(a,["type","context"]),f=this.components.getComponent(c,d)||b;return f?Ue(Se(2,f,gx({},d,e))):null},slotFills:function(a){var b=a.type,c=a.context,d=gh(a,["type","context"]),e=this.components.getComponents(b,c);return e.map(function(a){return Ue(Se(2,a,gx({},c,d)))})}};hx.$inject=["components"];var ix="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},jx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),kx=function(a){function b(a,c){hh(this,b);var d=ih(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onElementsChanged=function(){d.forceUpdate()},Pg(d,hx),d._sheet=c.injector.get("sheet"),d._changeSupport=c.changeSupport,d}return jh(b,a),jx(b,[{key:"componentWillMount",value:function(){var a=this._sheet.getRoot();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmout",value:function(){var a=this._sheet.getRoot();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(a){var b=this,c=this._sheet.getRoot();if(!$c(c,"dmn:DMNElement"))return null;var d=bd(c),e=d.input,f=d.output;return Re(1,"thead",null,[Re(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),this.slotFill({type:"cell",context:{cellType:"input-label"}},lx),this.slotFill({type:"cell",context:{cellType:"output-label"}},mx),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),Re(1,"tr",null,[e&&e.map(function(a){return b.slotFill({type:"cell",context:{cellType:"input-header",input:a},key:a.id},kh)}),f.map(function(a){return b.slotFill({type:"cell",context:{cellType:"output-header",output:a},key:a.id},lh)})],0),Re(1,"tr",null,[e&&e.map(function(a,c){var d=a.inputExpression;return b.slotFill({type:"cell",context:{cellType:"input-header-type-ref",element:d},className:"input-cell",key:a.id},mh)}),f.map(function(a){return b.slotFill({type:"cell",context:{cellType:"output-header-type-ref",element:a},className:"output-cell",key:a.id},mh)})],0)],4)}}]),b}(Aw),lx=function(a){function b(a,c){hh(this,b);var d=ih(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d._sheet=c.injector.get("sheet"),d}return jh(b,a),jx(b,[{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.input;if(!c||!c.length)return null;var d=b.input.length;return Re(1,"th","input-cell inputs-label header",Te("Input"),2,{colspan:d})}}]),b}(Aw),mx=function(a){function b(a,c){hh(this,b);var d=ih(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d._sheet=c.injector.get("sheet"),d}return jh(b,a),jx(b,[{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.output.length;return Re(1,"th","output-cell outputs-label header",Te("Output"),2,{colspan:c})}}]),b}(Aw);nh.$inject=["components"];var nx={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",nh]},ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},px=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),qx=function(a){function b(){return oh(this,b),ph(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return qh(b,a),px(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._sheet=a.get("sheet");
}},{key:"render",value:function(){var a=this._sheet.getRoot();if(!$c(a,"dmn:DMNElement"))return null;var b=a.businessObject.$parent,c=b.id,d=b.name;return Re(1,"header","decision-table-properties",[Re(1,"h3","decision-table-name",d,0,{title:"Decision Name"}),Re(1,"h5","decision-table-id",c,0,{title:"Decision Id"})],4)}}]),b}(Aw),rx=function cI(a){rh(this,cI),a.onGetComponent("table.before",function(){return qx})};rx.$inject=["components"];var sx={__init__:["decisionTableProperties"],decisionTableProperties:["type",rx]},tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ux=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),vx=function(a){function b(){return sh(this,b),th(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return uh(b,a),ux(b,[{key:"render",value:function(){var a=this.props,b=a.row,c=a.rowIndex,d=this.context.components,e=d.getComponents("cell-inner",{cellType:"rule-index",row:b,rowIndex:c});return Re(1,"td","rule-index",[e&&e.map(function(a){return Se(2,a,{row:b,rowIndex:c})}),c+1],0,{"data-row-id":b.id})}}]),b}(Aw),wx=function dI(a){vh(this,dI),a.onGetComponent("cell",function(a){var b=a.cellType;if("before-rule-cells"===b)return vx})};wx.$inject=["components"];var xx={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",wx]},yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},zx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Ax=function(a){function b(){return wh(this,b),xh(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return yh(b,a),zx(b,[{key:"render",value:function(a){var b=a.rows,c=a.cols,d=this.context.components;return Re(1,"tbody",null,b.map(function(a,b){var e=d.getComponent("row",{rowType:"rule"});return e&&Se(2,e,{row:a,rowIndex:b,cols:c},a.id)}),0)}}]),b}(Aw),Bx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Dx=function(a){function b(a,c){zh(this,b);var d=Ah(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return Pg(d,hx),d}return Bh(b,a),Cx(b,[{key:"render",value:function(){var a=this,b=this.props,c=b.row,d=b.rowIndex,e=b.cols,f=c.cells;return Re(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:c,rowIndex:d}}),f.map(function(b,f){return a.slotFill({type:"cell",context:{cellType:"rule",cell:b,rowIndex:d,colIndex:f},key:b.id,row:c,col:e[f]})}),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:c,rowIndex:d}})],0)}}]),b}(Aw),Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Fx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Gx=function(a){function b(){return Ch(this,b),Dh(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Eh(b,a),Fx(b,[{key:"render",value:function(){var a=this.props,b=a.cell,c=a.row,d=a.col;return $c(b,"dmn:UnaryTests")?Se(2,Xw,{className:"input-cell",elementId:b.id,"data-row-id":c.id,"data-col-id":d.id,children:b.businessObject.text}):Se(2,Xw,{className:"output-cell",elementId:b.id,"data-row-id":c.id,"data-col-id":d.id,children:b.businessObject.text})}}]),b}(Aw),Hx=function eI(a){Fh(this,eI),a.onGetComponent("table.body",function(){return Ax}),a.onGetComponent("row",function(a){var b=a.rowType;if("rule"===b)return Dx}),a.onGetComponent("cell",function(a){var b=a.cellType;if("rule"===b)return Gx})};Hx.$inject=["components"];var Ix={__init__:["decisionRules"],decisionRules:["type",Hx]},Jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Kx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Lx=function(a){function b(){return Gh(this,b),Hh(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Ih(b,a),Kx(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._sheet=a.get("sheet")}},{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.hitPolicy,d=c.charAt(0),e=b.aggregation,f=Jh(e);return Re(1,"th","hit-policy header",[d,f],0,{rowspan:"3",title:"Hit Policy = "+c})}}]),b}(Aw);Kh.$inject=["components"];var Mx={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",Kh]},Nx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ox=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Px=function(a){function b(a,c){Lh(this,b);var d=Mh(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.onClick=function(){d._eventBus.fire("showDrd")};var e=c.injector;return d._eventBus=e.get("eventBus"),d}return Nh(b,a),Ox(b,[{key:"render",value:function(){var a=this;return Re(1,"div","view-drd",Re(1,"button","view-drd-button",Te("View DRD"),2,{onClick:this.onClick}),2,null,null,function(b){return a.node=b})}}]),b}(Aw),Qx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Rx=function(){function a(b,c,d,e){var f=this;Oh(this,a),this._injector=d,this._sheet=e,b.onGetComponent("table.before",function(){if(f.canViewDrd())return Px}),c.on("showDrd",function(){var a=d.get("_parent",!1),b=e.getRoot(),c=Ph(b);if(c){var f=a.getView(c);a.open(f)}})}return Qx(a,[{key:"canViewDrd",value:function(){var a=this._injector.get("_parent",!1);if(!a)return!1;var b=this._sheet.getRoot(),c=Ph(b);return!!a.getView(c)}}]),a}();Rx.$inject=["components","eventBus","injector","sheet"];var Sx={__init__:["viewDrd"],viewDrd:["type",Rx]},Tx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ux=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Vx="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",Wx=function(a){function b(a,c){Qh(this,b);var d=Rh(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.onClick=function(){d._eventBus.fire("poweredBy.show")};var e=c.injector;return d._eventBus=e.get("eventBus"),d}return Sh(b,a),Ux(b,[{key:"render",value:function(){var a=this;return Re(1,"div","powered-by-logo",Re(1,"img","logo",null,1,{src:"data:image/png;base64,"+Vx}),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,function(b){return a.node=b})}}]),b}(Aw),Xx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Yx=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Zx="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",$x=function(a){function b(a){Th(this,b);var c=Uh(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={show:!1},c.onClick=c.onClick.bind(c),c.onShow=c.onShow.bind(c),c}return Vh(b,a),Yx(b,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){var a=this._eventBus=this.context.injector.get("eventBus");a.on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){var a=this.state.show;return a&&Re(1,"div","powered-by-overlay",Re(1,"div","powered-by-overlay-content",[Re(1,"div",null,Re(1,"img","logo",null,1,{src:"data:image/png;base64,"+Zx}),2),Re(1,"div",null,[Te("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),Re(1,"a",null,Te("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),Te(".")],4)],4,{onClick:function(a){return a.stopPropagation()}}),2,{onClick:this.onClick})}}]),b}(Aw),_x=function fI(a,b){Wh(this,fI),a.onGetComponent("table.before",function(){return Wx}),a.onGetComponent("table.before",function(){return $x})};_x.$inject=["components","eventBus"];var ay={__init__:["poweredBy"],poweredBy:["type",_x]},by="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},cy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),dy=function gI(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:gI(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},ey=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Zh(this,b);var c=b._createContainer(),d=$h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,I(a,{renderer:{container:c}})));return d._container=c,d}return _h(b,a),cy(b,[{key:"open",value:function(a,b){var c;try{return this._decision&&this.clear(),this._decision=a,Dg(this,a,b)}catch(d){c=d}return b(c)}},{key:"_init",value:function(a){var b=a.modules,c=a.additionalModules,d=Yh(a,["modules","additionalModules"]),e=b||this.getModules(),f=c||[],g=[{decisionTable:["value",this]}],h=[ay].concat(Xh(e),Xh(f),g);return{modules:h,config:d}}},{key:"on",value:function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)}},{key:"off",value:function(a,b){this.get("eventBus").off(a,b)}},{key:"_emit",value:function(a,b){return this.get("eventBus").fire(a,b)}},{key:"attachTo",value:function(a){if(!a)throw new Error("parentNode required");this.detach();var b=this._container;a.appendChild(b),this._emit("attach",{})}},{key:"detach",value:function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),lb(a))}},{key:"destroy",value:function(){dy(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return b._getModules()}}],[{key:"_getModules",value:function(){return[bx,fx,nx,sx,xx,Ix,Mx,Sx]}},{key:"_createContainer",value:function(){return Zt('<div class="dmn-decision-table-container"></div>')}}]),b}(Lw),fy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),gy=function(){function a(b){var c=this;ai(this,a),this._listeners={},b.on("elements.changed",function(a){var b=a.elements;c.elementsChanged(b)}),b.on("element.updateId",function(a){var b=a.element,d=a.newId;c.updateId(b.id,d)})}return fy(a,[{key:"elementsChanged",value:function(a){for(var b={},c=a.length,d=0;d<c;d++){var e=a[d].id;if(b[e])return;b[e]=!0;var f=this._listeners[e]&&this._listeners[e].length;if(f)for(var g=0;g<f;g++)this._listeners[e][g]&&this._listeners[e][g]()}}},{key:"onElementsChanged",value:function(a,b){this._listeners[a]||(this._listeners[a]=[]),this._listeners[a][this._listeners[a].length]=b}},{key:"offElementsChanged",value:function(a,b){if(this._listeners[a])if(b){var c=this._listeners[a].indexOf(b);c!==-1&&this._listeners[a].splice(c,1)}else this._listeners[a].length=0}},{key:"updateId",value:function(a,b){this._listeners[a]&&(this._listeners[b]=this._listeners[a],delete this._listeners[a])}}]),a}();gy.$inject=["eventBus"];var hy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),iy=1e3,jy=function(){function a(){bi(this,a),this._listeners={}}return hy(a,[{key:"getComponent",value:function(a,b){var c=this._listeners[a];if(c){for(var d=void 0,e=0;e<c.length&&!(d=c[e].callback(b));e++);return d}}},{key:"getComponents",value:function(a,b){var c=this._listeners[a];if(c){for(var d=[],e=0;e<c.length;e++){var f=c[e].callback(b);f&&d.push(f)}if(d.length)return d}}},{key:"onGetComponent",value:function(a,b,c){if(j(b)&&(c=b,b=iy),!i(b))throw new Error("priority must be a number");var d=this._getListeners(a),e=void 0,f=void 0,g={priority:b,callback:c};for(f=0;e=d[f];f++)if(e.priority<b)return void d.splice(f,0,g);d.push(g)}},{key:"offGetComponent",value:function(a,b){var c=this._getListeners(a),d=void 0,e=void 0,f=void 0;if(b)for(f=c.length-1;d=c[f];f--)e=d.callback,e===b&&c.splice(f,1);else c.length=0}},{key:"_getListeners",value:function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b}}]),a}(),ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ly=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),my=function(a){function b(a){ci(this,b);var c=di(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a)),d=c._injector=a.injector;return c._changeSupport=d.get("changeSupport"),c._components=d.get("components"),c._renderer=d.get("renderer"),c}return ei(b,a),ly(b,[{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}},{key:"render",value:function(){var a=this._components.getComponents("viewer");return Re(1,"div","viewer-container",a&&a.map(function(a,b){return Se(2,a,null,b)}),0)}}]),b}(Aw),ny=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),oy=function(){function a(b,c,d,e,f){fi(this,a);var g=d.container;this._container=g,e.on("renderer.mount",function(){kg(Se(2,my,{injector:f}),g)}),e.on("renderer.unmount",function(){kg(null,g)})}return ny(a,[{key:"getContainer",value:function(){return this._container}}]),a}();oy.$inject=["changeSupport","components","config.renderer","eventBus","injector"];var py={__init__:["changeSupport","components","renderer"],changeSupport:["type",gy],components:["type",jy],eventBus:["type",K],renderer:["type",oy]},qy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ry=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hi(this,a);var c=b.injector;if(!c){var d=this._init(b),e=d.modules,f=d.config;c=ji(f,e)}this.get=c.get,this.invoke=c.invoke,this.get("eventBus").fire("viewer.init")}return qy(a,[{key:"_init",value:function(a){var b=a.modules,c=gi(a,["modules"]);return{modules:b,config:c}}},{key:"destroy",value:function(){var a=this.get("eventBus");a.fire("viewer.destroy")}},{key:"clear",value:function(){var a=this.get("eventBus");a.fire("viewer.clear")}}]),a}(),sy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ty=function(){function a(b,c){ki(this,a),this._eventBus=c,this._viewer=b}return sy(a,[{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"updateId",value:function(a,b){var c=this.getDecision();if(a!==c)throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:a,newId:b}),a.id=b}}]),a}();ty.$inject=["viewer","eventBus"];var uy={__init__:["elementRegistry"],elementRegistry:["type",ty]},vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},wy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),xy=function(a){function b(a,c){li(this,b);var d=mi(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d._viewer=c.injector.get("viewer"),d}return ni(b,a),wy(b,[{key:"render",value:function(){var a=this._viewer.getDecision(),b=a.name,c=a.id;return Re(1,"div","decision-properties",[Re(1,"h3","decision-name",b,0),Re(1,"h5","decision-id",c,0)],4)}}]),b}(Aw),yy=2e3,zy=function hI(a){oi(this,hI),a.onGetComponent("viewer",yy,function(){return xy})};zy.$inject=["components"];var Ay={__init__:["decisionProperties"],decisionProperties:["type",zy]},By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Cy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Dy=function(a){function b(a,c){pi(this,b);var d=qi(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d._viewer=c.injector.get("viewer"),d}return ri(b,a),Cy(b,[{key:"render",value:function(){var a=this._viewer.getDecision(),b=a.literalExpression,c=a.variable;return Re(1,"div","literal-expression-properties",Re(1,"table",null,[Re(1,"tr",null,[Re(1,"td",null,Te("Variable Name:"),2),Re(1,"td",null,Re(1,"span",null,c.name||"-",0),2)],4),Re(1,"tr",null,[Re(1,"td",null,Te("Variable Type:"),2),Re(1,"td",null,Re(1,"span",null,c.typeRef||"-",0),2)],4),Re(1,"tr",null,[Re(1,"td",null,Te("Expression Language:"),2),Re(1,"td",null,Re(1,"span",null,b.expressionLanguage||"-",0),2)],4)],4),2)}}]),b}(Aw),Ey=500,Fy=function iI(a){si(this,iI),a.onGetComponent("viewer",Ey,function(){return Dy})};Fy.$inject=["components"];var Gy={__init__:["literalExpressionProperties"],literalExpressionProperties:["type",Fy]},Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Iy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Jy="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",Ky=function(a){function b(a,c){ti(this,b);var d=ui(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.onClick=function(){d._eventBus.fire("poweredBy.show")};var e=c.injector;return d._eventBus=e.get("eventBus"),d}return vi(b,a),Iy(b,[{key:"render",value:function(){var a=this;return Re(1,"div","powered-by-logo",Re(1,"img","logo",null,1,{src:"data:image/png;base64,"+Jy}),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,function(b){return a.node=b})}}]),b}(Aw),Ly="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},My=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Ny="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",Oy=function(a){function b(a){wi(this,b);var c=xi(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={show:!1},c.onClick=c.onClick.bind(c),c.onShow=c.onShow.bind(c),c}return yi(b,a),My(b,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){var a=this._eventBus=this.context.injector.get("eventBus");a.on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){var a=this.state.show;return a&&Re(1,"div","powered-by-overlay",Re(1,"div","powered-by-overlay-content",[Re(1,"div",null,Re(1,"img","logo",null,1,{src:"data:image/png;base64,"+Ny}),2),Re(1,"div",null,[Te("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),Re(1,"a",null,Te("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),Te(".")],4)],4,{onClick:function(a){return a.stopPropagation()}}),2,{onClick:this.onClick})}}]),b}(Aw),Py=2e3,Qy=function jI(a,b){zi(this,jI),a.onGetComponent("viewer",Py,function(){return Ky}),a.onGetComponent("viewer",function(){return Oy})};Qy.$inject=["components","eventBus"];var Ry={__init__:["poweredBy"],poweredBy:["type",Qy]},Sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ty=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Uy=function(a){function b(a,c){Ai(this,b);var d=Bi(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d._viewer=c.injector.get("viewer"),d}return Ci(b,a),Ty(b,[{key:"render",value:function(){var a=this._viewer.getDecision().literalExpression.text;return Re(1,"div","textarea",Re(1,"div","content",a,0),2)}}]),b}(Aw),Vy=function kI(a){Di(this,kI),a.onGetComponent("viewer",function(){return Uy})};Vy.$inject=["components"];var Wy={__init__:["textarea"],textarea:["type",Vy]},Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Yy=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Zy=function(a){function b(a,c){Ei(this,b);var d=Fi(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.onClick=function(){d._eventBus.fire("showDrd")};var e=c.injector;return d._eventBus=e.get("eventBus"),d}return Gi(b,a),Yy(b,[{key:"render",value:function(){var a=this;return Re(1,"div","view-drd",Re(1,"button","view-drd-button",Te("View DRD"),2,{onClick:this.onClick}),2,null,null,function(b){return a.node=b})}}]),b}(Aw),$y=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_y=1500,az=function(){function a(b,c,d,e){var f=this;Hi(this,a),this._injector=e,this._viewer=c,b.onGetComponent("viewer",_y,function(){if(f.canViewDrd())return Zy}),d.on("showDrd",function(){var a=e.get("_parent",!1),b=f.getDefinitions(),c=a.getView(b);a.open(c)})}return $y(a,[{key:"canViewDrd",value:function(){var a=this._injector.get("_parent",!1);if(a){var b=this.getDefinitions();return!!a.getView(b)}}},{key:"getDefinitions",value:function(){return Ii(this._viewer.getDecision())}}]),a}();az.$inject=["components","viewer","eventBus","injector"];var bz={__init__:["viewDrd"],viewDrd:["type",az]},cz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dz=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ez=function lI(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:lI(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},fz=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Li(this,b);var c=b._createContainer(),d=Mi(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,I(a,{renderer:{container:c}})));return d._container=c,d}return Ni(b,a),dz(b,[{key:"open",value:function(a,b){var c;try{this._decision&&(this.clear(),this.get("eventBus").fire("renderer.unmount")),this._decision=a,this.get("eventBus").fire("import",a),this.get("eventBus").fire("renderer.mount")}catch(d){c=d}return b(c)}},{key:"_init",value:function(a){var b=a.modules,c=a.additionalModules,d=Ki(a,["modules","additionalModules"]),e=b||this.getModules(),f=c||[],g=[{viewer:["value",this]}],h=[].concat(Ji(e),Ji(f),g);return{modules:h,config:d}}},{key:"on",value:function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)}},{key:"off",value:function(a,b){this.get("eventBus").off(a,b)}},{key:"_emit",value:function(a,b){return this.get("eventBus").fire(a,b)}},{key:"getDecision",value:function(){return this._decision}},{key:"attachTo",value:function(a){if(!a)throw new Error("parentNode required");this.detach(),a.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),lb(a))}},{key:"destroy",value:function(){ez(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return b._getModules()}}],[{key:"_getModules",value:function(){return[uy,Ay,Gy,Ry,Wy,bz]}},{key:"_createContainer",value:function(){return Zt('<div class="dmn-literal-expression-container"></div>')}}]),b}(ry),gz=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),hz=function(a){function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qi(this,b);var c=Ri(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.options=a,c}return Si(b,a),gz(b,[{key:"_getViewProviders",value:function(){var a=[{id:"literalExpression",constructor:fz,opens:function(a){
return $c(a,"dmn:Decision")&&a.literalExpression}},{id:"decisionTable",constructor:ey,opens:function(a){return $c(a,"dmn:Decision")&&a.decisionTable}}],b=this.options.tableViewOnly;return b||a.push({id:"drd",constructor:te,opens:function(a){return $c(a,"dmn:Definitions")&&Oi(a)}}),a}}]),b}(iu),iz=$(function(a){var b=a.exports=function(a,c){if(c||(c=16),void 0===a&&(a=128),a<=0)return"0";for(var d=Math.log(Math.pow(2,a))/Math.log(c),e=2;d===1/0;e*=2)d=Math.log(Math.pow(2,a/e))/Math.log(c)*e;for(var f=d-Math.floor(d),g="",e=0;e<Math.floor(d);e++){var h=Math.floor(Math.random()*c).toString(c);g=h+g}if(f){var i=Math.pow(c,f),h=Math.floor(Math.random()*i).toString(c);g=h+g}var j=parseInt(g,c);return j!==1/0&&j>=Math.pow(2,a)?b(a,c):g};b.rack=function(a,c,d){var e=function(e){var g=0;do{if(g++>10){if(!d)throw new Error("too many ID collisions, use more bits");a+=d}var h=b(a,c)}while(Object.hasOwnProperty.call(f,h));return f[h]=e,h},f=e.hats={};return e.get=function(a){return e.hats[a]},e.set=function(a,b){return e.hats[a]=b,e},e.bits=a||128,e.base=c||16,e}}),jz=Ti;Ti.prototype.next=function(a){return this._seed(a||!0)},Ti.prototype.nextPrefixed=function(a,b){var c;do c=a+this.next(!0);while(this.assigned(c));return this.claim(c,b),c},Ti.prototype.claim=function(a,b){this._seed.set(a,b||!0)},Ti.prototype.assigned=function(a){return this._seed.get(a)||!1},Ti.prototype.unclaim=function(a){delete this._seed.hats[a]},Ti.prototype.clear=function(){var a,b=this._seed.hats;for(a in b)this.unclaim(a)};var kz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},lz=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),mz=function mI(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:mI(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},nz=function(a){function b(){return Ui(this,b),Vi(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Wi(b,a),lz(b,[{key:"_init",value:function(a){var c=this;mz(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_init",this).call(this,a),this.on("import.parse.complete",function(a){a.error||c._collectIds(a.definitions,a.context)}),this.on("destroy",function(){c._moddle.ids.clear()}),this.on("viewer.created",function(a){var b=a.viewer;b.on("elements.changed",function(a){var b=a.elements,d=b.some(function(a){return dd(a,["dmn:Decision","dmn:Definitions"])});d&&c._updateViews()})})}},{key:"_collectIds",value:function(a,b){var c,d=a.$model,e=d.ids;e.clear();for(c in b.elementsById)e.claim(c,b.elementsById[c])}},{key:"_createModdle",value:function(a){var c=mz(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"_createModdle",this).call(this,a);return c.ids=new jz([32,36,1]),c}}]),b}(iu);Xi.$inject=["injector"],Xi.prototype.allowed=function(a,b){var c=!0,d=this._commandStack;return d&&(c=d.canExecute(a,b)),void 0===c||c};var oz={__init__:["rules"],rules:["type",Xi]},pz=Math.round,qz="djs-drag-active";_i.$inject=["eventBus","canvas","selection"],bj.$inject=["eventBus","dragging","elementRegistry"];var rz={__init__:["hoverFix"],__depends__:[hv],dragging:["type",_i],hoverFix:["type",bj]};cj.$inject=["elementRegistry","canvas","styles"],cj.prototype.getGfx=function(a){return this._elementRegistry.getGraphics(a)},cj.prototype.addDragger=function(a,b){var c=this.getGfx(a),d=Qb(c),e=c.getBoundingClientRect();return ej(a)&&dj(d),Jb(d,this._styles.cls("djs-dragger",[],{x:e.top,y:e.left})),Fb(b,d),d},cj.prototype.addFrame=function(a,b){var c=Tb("rect",{"class":"djs-resize-overlay",width:a.width,height:a.height,x:a.x,y:a.y});return Fb(b,c),c};var sz={__init__:["previewSupport"],previewSupport:["type",cj]},tz=500,uz=1250,vz=1500,wz=Math.round;gj.$inject=["eventBus","dragging","modeling","selection","rules"];var xz=499,yz="djs-dragging",zz="drop-ok",Az="drop-not-ok",Bz="new-parent",Cz="attach-ok";ij.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];var Dz={__depends__:[cv,hv,ev,oz,rz,sz],__init__:["move","movePreview"],move:["type",gj],movePreview:["type",ij]},Ez=2,Fz="djs-bendpoint",Gz="djs-segment-dragger",Hz=$(function(a,b){var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(d,e){"object"==c(b)?a.exports=e(d):e(d)}("undefined"!=typeof Qs?Qs:Qs,function(a){if(a.CSS&&a.CSS.escape)return a.CSS.escape;var b=function(a){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var b,c=String(a),d=c.length,e=-1,f="",g=c.charCodeAt(0);++e<d;)b=c.charCodeAt(e),f+=0!=b?b>=1&&b<=31||127==b||0==e&&b>=48&&b<=57||1==e&&b>=48&&b<=57&&45==g?"\\"+b.toString(16)+" ":(0!=e||1!=d||45!=b)&&(b>=128||45==b||95==b||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122)?c.charAt(e):"\\"+c.charAt(e):"";return f};return a.CSS||(a.CSS={}),a.CSS.escape=b,b})}),Iz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Jz="hasOwnProperty",Kz=/,?([a-z]),?/gi,Lz=parseFloat,Mz=Math,Nz=Mz.PI,Oz=Mz.min,Pz=Mz.max,Qz=Mz.pow,Rz=Mz.abs,Sz=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,Tz=/(-?\d*\.?\d*(?:e[-+]?\\d+)?)[\s]*,?[\s]*/gi,Uz=Lj,Vz=Math.round,Wz=Math.max,Xz=10;$j.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];var Yz="connect-ok",Zz="connect-not-ok",$z="connect-hover",_z="djs-updating",aA="connection.updateWaypoints",bA="connection.reconnectStart",cA="connection.reconnectEnd",dA=Math.round;_j.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","rules","modeling"];var eA="connect-hover",fA="djs-updating";lk.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","rules","modeling"];var gA=Math.abs,hA=Math.round,iA=10;mk.$inject=["eventBus"];var jA={__depends__:[rz,oz],__init__:["bendpoints","bendpointSnapping"],bendpoints:["type",$j],bendpointMove:["type",_j],connectionSegmentMove:["type",lk],bendpointSnapping:["type",mk]};nk.$inject=["eventBus","drdFactory","elementFactory"];var kA={__init__:["diGenerator"],diGenerator:["type",nk]};ok.prototype.get=function(){return this._data},ok.prototype.set=function(a){this._data=a},ok.prototype.clear=function(){var a=this._data;return delete this._data,a},ok.prototype.isEmpty=function(){return!this._data};var lA={clipboard:["type",ok]};pk.$inject=["eventBus","canvas"],pk.prototype.getHoverContext=function(){var a=this._canvas.viewbox();return{element:this._hoverElement,point:{x:a.x+Math.round(this._mouseX/a.scale),y:a.y+Math.round(this._mouseY/a.scale)}}},pk.prototype._init=function(){var a=this._eventBus,b=this._canvas,c=b.getContainer();this._setMousePosition=H(this._setMousePosition,this),c.addEventListener("mousemove",this._setMousePosition),a.on("diagram.destroy",function(){c.removeEventListener("mousemove",this._setMousePosition)},this),a.on("element.hover",this._setHoverElement,this)},pk.prototype._setHoverElement=function(a){this._hoverElement=a.element},pk.prototype._setMousePosition=function(a){this._mouseX=a.layerX,this._mouseY=a.layerY};var mA={__init__:["mouseTracking"],mouseTracking:["type",pk]};rk.$inject=["eventBus","modeling","elementFactory","rules","clipboard","canvas"],rk.prototype.copy=function(a){var b,c,d=this._clipboard;if(g(a)||(a=a?[a]:[]),a.length)return b=this.createTree(a),c=this._bbox=de(tc(b.allShapes)),delete b.allShapes,p(b,function(a){p(a,function(b){var d,e;b.labelTarget?(e=m(a,A({id:b.labelTarget})),d=e.waypoints?ee(b,e.waypoints[0]):ee(b,e)):3===b.priority?(d=[],p(b.waypoints,function(a){var b=ee(a,c);d.push(b)})):d=ee(b,c),b.delta=d})}),this._eventBus.fire("elements.copy",{context:{tree:b}}),0===Object.keys(b).length?d.clear():d.set(b),this._eventBus.fire("elements.copied",{context:{tree:b}}),b},rk.prototype.paste=function(a){var b,c,d=this._clipboard,e=this._modeling,f=this._eventBus,g=this._rules,h=d.get(),i=a.element,j=a.point;if(!d.isEmpty())return b=q(h,function(a,b,c){var d=parseInt(c,10);return isNaN(d)?a:(a[d]=b,a)},{}),(c=g.allowed("elements.paste",{tree:b,target:i}))?void e.pasteElements(b,i,j):void f.fire("elements.paste.rejected",{context:{tree:b,position:j,target:i}})},rk.prototype._computeDelta=function(a,b){var c=this._bbox,d={};return b.labelTarget?ee(b,b.labelTarget):(3===b.priority?(d=[],p(b.waypoints,function(a){var b=ee(a,c);d.push(b)})):d=ee(b,c),d)},rk.prototype.hasRelations=function(a,b){var c,d,e;return!(b.waypoints&&(c=m(a,A({id:b.source.id})),d=m(a,A({id:b.target.id})),!c||!d))&&!(b.labelTarget&&(e=m(a,A({id:b.labelTarget.id})),!e))},rk.prototype.registerDescriptor=function(a){if("function"!=typeof a)throw new Error("the descriptor must be a function");if(this._descriptors.indexOf(a)!==-1)throw new Error("this descriptor is already registered");this._descriptors.push(a)},rk.prototype._executeDescriptors=function(a){return a.descriptor||(a.descriptor={}),p(this._descriptors,function(b){a.descriptor=b(a.element,a.descriptor)}),a},rk.prototype.createTree=function(a){function b(a,b){return e.allowed("element.copy",{collection:a,element:b})}function c(a){var b,c=n(h,A({element:a.element}));return c===-1?h.push(a):(b=h[c],void(b.depth<a.depth&&(h.splice(c,1),h.push(a))))}var d,e=this._rules,f=this,g={},h=[],i=qk(a);return g.allShapes=[],pc(i,function(a,b,d){function e(a){p(a,function(a){a&&a.length&&p(a,function(a){p(a.labels,function(a){c({element:a,depth:d})}),c({element:a,depth:d})})})}var f=a.children;if(!a.labelTarget)return p(a.labels,function(a){c({element:a,depth:d})}),e([a.attachers,a.incoming,a.outgoing]),c({element:a,depth:d}),f?f:void 0}),h=t(h,function(a){return f._executeDescriptors(a)}),h=z(h,function(a){return a.descriptor.priority}),d=t(h,function(a){return a.element}),p(h,function(a){var c=a.depth;f.hasRelations(g.allShapes,a.element)&&b(d,a.element)&&(g.allShapes.push(a.element),g[c]||(g[c]=[]),g[c].push(a.descriptor))}),g};var nA={__depends__:[lA,oz,mA],__init__:["copyPaste"],copyPaste:["type",rk]},oA="is not a registered action",pA="is already registered";sk.$inject=["eventBus","commandStack","modeling","selection","zoomScroll","copyPaste","canvas","rules","mouseTracking"],sk.prototype.trigger=function(a,b){if(!this._actions[a])throw tk(a,oA);return this._actions[a](b)},sk.prototype.register=function(a,b){var c=this;return"string"==typeof a?this._registerAction(a,b):void p(a,function(a,b){c._registerAction(b,a)})},sk.prototype._registerAction=function(a,b){if(this.isRegistered(a))throw tk(a,pA);this._actions[a]=b},sk.prototype.unregister=function(a){if(!this.isRegistered(a))throw tk(a,oA);this._actions[a]=void 0},sk.prototype.length=function(){return Object.keys(this._actions).length},sk.prototype.isRegistered=function(a){return!!this._actions[a]};var qA={__depends__:[hv,nA,Ev],__init__:["editorActions"],editorActions:["type",sk]},rA=250;uk.$inject=["eventBus","dragging"],uk.prototype.registerTool=function(a,b){var c=this._tools;if(!b)throw new Error('A tool has to be registered with it\'s "events"');c.push(a),this.bindEvents(a,b)},uk.prototype.isActive=function(a){return a&&this._active===a},uk.prototype.length=function(a){return this._tools.length},uk.prototype.setActive=function(a){var b=this._eventBus;this._active!==a&&(this._active=a,b.fire("tool-manager.update",{tool:a}))},uk.prototype.bindEvents=function(a,b){var c=this._eventBus,d=this._dragging,e=[];c.on(b.tool+".init",function(b){var c=b.context;return!c.reactivate&&this.isActive(a)?(this.setActive(null),void d.cancel()):void this.setActive(a)},this),p(b,function(a){e.push(a+".ended"),e.push(a+".canceled")}),c.on(e,rA,function(a){var b=a.originalEvent;this._active&&(b&&Ot(b.target,'.group[data-group="tools"]')||this.setActive(null))},this)};var sA={__depends__:[rz],__init__:["toolManager"],toolManager:["type",uk]},tA="crosshair";vk.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],vk.prototype.activateLasso=function(a,b){this._dragging.init(a,"lasso",{autoActivate:b,cursor:tA,data:{context:{}}})},vk.prototype.activateSelection=function(a){this._dragging.init(a,"lasso.selection",{trapClick:!1,cursor:tA,data:{context:{}}})},vk.prototype.select=function(a,b){var c=uc(a,b);this._selection.select(w(c))},vk.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},vk.prototype.isActive=function(){var a=this._dragging.context();return a&&/^lasso/.test(a.prefix)};var uA={__depends__:[sA],__init__:["lassoTool"],lassoTool:["type",vk]};ju(xk,sk),xk.$inject=["injector","canvas","elementRegistry","selection","lassoTool","directEditing"];var vA={__depends__:[qA,uA],editorActions:["type",xk]},wA=".entry";yk.$inject=["eventBus","overlays"],yk.prototype._init=function(){var a=this._eventBus,b=this;a.on("selection.changed",function(a){var c=a.newSelection;1===c.length?b.open(c[0]):b.close()}),a.on("elements.delete",function(a){var c=a.elements;p(c,function(a){b.isOpen(a)&&b.close()})}),a.on("element.changed",function(a){var c=a.element,d=b._current;d&&d.element===c&&b.open(c,!0)})},yk.prototype.registerProvider=function(a){this._providers.push(a)},yk.prototype.getEntries=function(a){var b={};return p(this._providers,function(c){var d=c.getContextPadEntries(a);p(d,function(a,c){b[c]=a})}),b},yk.prototype.trigger=function(a,b,c){var d,e,f,g=this._current.element,h=this._current.entries,i=b.delegateTarget||b.target;if(!i)return b.preventDefault();if(d=h[cb(i,"data-action")],e=d.action,f=b.originalEvent||b,j(e)){if("click"===a)return e(f,g,c)}else if(e[a])return e[a](f,g,c);b.preventDefault()},yk.prototype.open=function(a,b){!b&&this.isOpen(a)||(this.close(),this._updateAndOpen(a))},yk.prototype._updateAndOpen=function(a){var b=this.getEntries(a),c=this.getPad(a),d=c.html;p(b,function(a,b){var c,e=a.group||"default",f=Zt(a.html||'<div class="entry" draggable="true"></div>');cb(f,"data-action",b),c=jb("[data-group="+e+"]",d),c||(c=Zt('<div class="group" data-group="'+e+'"></div>'),d.appendChild(c)),c.appendChild(f),a.className&&zk(f,a.className),a.title&&cb(f,"title",a.title),a.imageUrl&&f.appendChild(Zt('<img src="'+a.imageUrl+'">'))}),db(d).add("open"),this._current={element:a,pad:c,entries:b},this._eventBus.fire("contextPad.open",{current:this._current})},yk.prototype.getPad=function(a){if(this.isOpen())return this._current.pad;var b=this,c=this._overlays,d=Zt('<div class="djs-context-pad"></div>');Yt.bind(d,wA,"click",function(a){b.trigger("click",a)}),Yt.bind(d,wA,"dragstart",function(a){b.trigger("dragstart",a)}),Ut.bind(d,"mousedown",function(a){a.stopPropagation()}),this._overlayId=c.add(a,"context-pad",{position:{right:-9,top:-6},html:d});var e=c.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:a,pad:e}),e},yk.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},yk.prototype.isOpen=function(a){return!(!this._current||a&&this._current.element!==a)};var xA={__depends__:[cv,kv],contextPad:["type",yk]},yA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},zA="connect-ok",AA="connect-not-ok";Ak.$inject=["eventBus","dragging","modeling","rules","canvas","graphicsFactory"];var BA={__depends__:[hv,oz,rz],connect:["type",Ak]},CA=750,DA="drop-ok",EA="drop-not-ok",FA="attach-ok",GA="new-parent";Bk.$inject=["eventBus","dragging","rules","modeling","canvas","styles","graphicsFactory"];var HA={__depends__:[rz,hv,oz],create:["type",Bk]},IA="data-id";Ck.$inject=["eventBus","canvas"],Ck.prototype.registerProvider=function(a,b){this._providers[a]=b},Ck.prototype.isEmpty=function(a,b){if(!a)throw new Error("element parameter is missing");if(!b)throw new Error("providerId parameter is missing");var c=this._providers[b],d=c.getEntries(a),e=c.getHeaderEntries&&c.getHeaderEntries(a),f=d.length>0,g=e&&e.length>0;return!f&&!g},Ck.prototype.open=function(a,b,c){var d=this._providers[b];if(!a)throw new Error("Element is missing");if(!d)throw new Error("Provider is not registered: "+b);if(!c)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var e=this._current={provider:d,className:b,element:a,position:c};d.getHeaderEntries&&(e.headerEntries=d.getHeaderEntries(a)),e.entries=d.getEntries(a),e.container=this._createContainer();var f=e.headerEntries||[],g=e.entries||[];f.length&&e.container.appendChild(this._createEntries(e.headerEntries,"djs-popup-header")),g.length&&e.container.appendChild(this._createEntries(e.entries,"djs-popup-body"));var h=this._canvas,i=h.getContainer();this._attachContainer(e.container,i,c.cursor)},Ck.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindHandlers(),lb(this._current.container),this._current.container=null)},Ck.prototype.isOpen=function(){return!!this._current.container},Ck.prototype.trigger=function(a){a.preventDefault();var b=a.delegateTarget||a.target,c=cb(b,IA),d=this._getEntry(c);if(d.action)return d.action.call(null,a,d)},Ck.prototype._getEntry=function(a){var b=A({id:a}),c=m(this._current.entries,b)||m(this._current.headerEntries,b);if(!c)throw new Error("entry not found");return c},Ck.prototype._emit=function(a){this._eventBus.fire("popupMenu."+a)},Ck.prototype._createContainer=function(){var a=Zt('<div class="djs-popup">'),b=this._current.position,c=this._current.className;return I(a.style,{position:"absolute",left:b.x+"px",top:b.y+"px",visibility:"hidden"}),db(a).add(c),a},Ck.prototype._attachContainer=function(a,b,c){var d=this;Yt.bind(a,".entry","click",function(a){d.trigger(a)});var e=this._canvas.zoom();a.style.transformOrigin="top left",a.style.transform="scale("+e+")",b.appendChild(a),c&&this._assureIsInbounds(a,c),this._bindHandlers()},Ck.prototype._assureIsInbounds=function(a,b){var c,d,e=this._canvas,f=e._container.getBoundingClientRect(),g=a.offsetLeft,h=a.offsetTop,i=a.scrollWidth,j=a.scrollHeight,k={},l={x:b.x-f.left,y:b.y-f.top};g+i>f.width&&(k.x=!0),h+j>f.height&&(k.y=!0),k.x&&k.y?(c=l.x-i+"px",d=l.y-j+"px"):k.x?(c=l.x-i+"px",d=l.y+"px"):k.y&&l.y<j?(c=l.x+"px",d="10px"):k.y&&(c=l.x+"px",d=l.y-j+"px"),I(a.style,{left:c,top:d},{visibility:"visible","z-index":1e3})},Ck.prototype._createEntries=function(a,b){var c=Zt("<div>"),d=this;return db(c).add(b),p(a,function(a){var b=d._createEntry(a,c);c.appendChild(b)}),c},Ck.prototype._createEntry=function(a){if(!a.id)throw new Error("every entry must have the id property set");var b=Zt("<div>"),c=db(b);if(c.add("entry"),a.className&&a.className.split(" ").forEach(function(a){c.add(a)}),cb(b,IA,a.id),a.label){var d=Zt("<span>");d.textContent=a.label,b.appendChild(d)}return a.imageUrl&&b.appendChild(Zt('<img src="'+a.imageUrl+'" />')),a.active===!0&&c.add("active"),a.disabled===!0&&c.add("disabled"),a.title&&(b.title=a.title),b},Ck.prototype._bindHandlers=function(){function a(){c.close()}var b=this._eventBus,c=this;b.once("contextPad.close",a),b.once("canvas.viewbox.changing",a),b.once("commandStack.changed",a)},Ck.prototype._unbindHandlers=function(){function a(){c.close()}var b=this._eventBus,c=this;b.off("contextPad.close",a),b.off("canvas.viewbox.changed",a),b.off("commandStack.changed",a)};var JA={__init__:["popupMenu"],popupMenu:["type",Ck]},KA=Math.round;Dk.$inject=["modeling"],Dk.prototype.replaceElement=function(a,b,c){var d=this._modeling,e=null;return a.waypoints||(b.x=KA(a.x+(b.width||a.width)/2),b.y=KA(a.y+(b.height||a.height)/2),e=d.replaceShape(a,b,c)),e};var LA={__init__:["replace"],replace:["type",Dk]};Ek.$inject=["drdFactory","replace","selection","modeling"];var MA={__depends__:[LA,hv],drdReplace:["type",Ek]},NA={DECISION:[{label:"Empty",actionName:"replace-with-empty-decision",className:"dmn-icon-clear",target:{type:"dmn:Decision",table:!1,expression:!1}},{label:"Decision Table",actionName:"replace-with-decision-table",className:"dmn-icon-decision-table",target:{type:"dmn:Decision",table:!0,expression:!1}},{label:"Literal Expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:Decision",table:!1,expression:!0}}]};Fk.$inject=["popupMenu","modeling","moddle","drdReplace","rules","translate"],Fk.prototype.register=function(){this._popupMenu.registerProvider("dmn-replace",this)},Fk.prototype.getEntries=function(a){var b=a.businessObject,c=this._rules;if(!c.allowed("shape.replace",{element:a}))return[];if($c(b,"dmn:Decision")){var d=o(NA.DECISION,function(a){var c="replace-with-empty-decision"===a.actionName&&(b.decisionTable||b.literalExpression),d="replace-with-decision-table"===a.actionName&&!b.decisionTable,e="replace-with-literal-expression"===a.actionName&&!b.literalExpression;return c||d||e});return this._createEntries(a,d)}return[]},Fk.prototype._createEntries=function(a,b){var c=[],d=this;return p(b,function(b){var e=d._createMenuEntry(b,a);c.push(e)}),c},Fk.prototype._createMenuEntry=function(a,b,c){var d=this._drdReplace.replaceElement,e=this._translate,f=function(){return d(b,a.target)};c=c||f;var g={label:e(a.label),className:a.className,id:a.actionName,action:c};return g},Fk.prototype.getHeaderEntries=function(a){return[]};var OA={__depends__:[av,JA,MA],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",Fk]};Gk.$inject=["eventBus","contextPad","modeling","elementFactory","connect","create","rules","popupMenu","canvas","translate"],Gk.prototype.getContextPadEntries=function(a){function b(a,b,c){i.start(a,b,c)}function c(b){f.removeElements([a])}function d(a){var b=5,c=l.getContainer(),d=m.getPad(a).html,e=c.getBoundingClientRect(),f=d.getBoundingClientRect(),g=f.top-e.top,h=f.left-e.left,i={x:h,y:g+f.height+b};return i}function e(a,b,c,d){function e(b,c){var e=h.createShape(I({type:a},d));j.start(b,e,c)}return"string"!=typeof c&&(d=c,c=o("Append {type}",{type:a.replace(/^dmn:/,"")})),{group:"model",className:b,title:c,action:{dragstart:e,click:e}}}var f=this._modeling,h=this._elementFactory,i=this._connect,j=this._create,k=this._popupMenu,l=this._canvas,m=this._contextPad,n=this._rules,o=this._translate,p={};if("label"===a.type)return p;var q=a.businessObject;dd(q,["dmn:InputData","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource","dmn:Decision"])&&I(p,{"append.decision":e("dmn:Decision","dmn-icon-decision")}),dd(q,["dmn:InputData","dmn:Decision","dmn:KnowledgeSource"])&&I(p,{"append.knowledge-source":e("dmn:KnowledgeSource","dmn-icon-knowledge-source")}),dd(q,["dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])&&I(p,{"append.business-knowledge-model":e("dmn:BusinessKnowledgeModel","dmn-icon-business-knowledge")}),dd(q,["dmn:Decision"])&&I(p,{"append.input-data":e("dmn:InputData","dmn-icon-input-data")}),$c(q,"dmn:DRGElement")&&I(p,{"append.text-annotation":e("dmn:TextAnnotation","dmn-icon-text-annotation"),connect:{group:"connect",className:"dmn-icon-connection-multi",title:o("Connect using Information/Knowledge/Authority Requirement or Association"),action:{click:b,dragstart:b}}}),k.isEmpty(a,"dmn-replace")||I(p,{replace:{group:"edit",className:"dmn-icon-screw-wrench",title:o("Change type"),action:{click:function(a,b){var c=I(d(b),{cursor:{x:a.x,y:a.y}});k.open(b,"dmn-replace",c)}}}});var r=n.allowed("elements.delete",{elements:[a]});return g(r)&&(r=r[0]===a),r&&I(p,{"delete":{group:"edit",className:"dmn-icon-trash",title:o("Remove"),action:{click:c}}}),p};var PA={__depends__:[av,xA,hv,BA,HA,OA],__init__:["contextPadProvider"],contextPadProvider:["type",Gk]};Hk.$inject=["config.keyboard","eventBus","editorActions"],Hk.prototype.bind=function(a){this.unbind(),this._node=a,Ut.bind(a,"keydown",this._keyHandler,!0),this._fire("bind")},Hk.prototype.getBinding=function(){return this._node},Hk.prototype.unbind=function(){var a=this._node;a&&(this._fire("unbind"),Ut.unbind(a,"keydown",this._keyHandler,!0)),this._node=null},Hk.prototype._fire=function(a){this._eventBus.fire("keyboard."+a,{node:this._node,listeners:this._listeners})},Hk.prototype._init=function(){function a(a,b){if(Jk(b)&&!Kk(b)&&90===a)return k.trigger("undo"),!0}function b(a,b){if(Jk(b)&&(89===a||90===a&&Kk(b)))return k.trigger("redo"),!0}function c(a,b){if(Jk(b)&&67===a)return k.trigger("copy"),!0}function d(a,b){if(Jk(b)&&86===a)return k.trigger("paste"),!0}function e(a,b){if((107===a||187===a||171===a||61===a)&&Jk(b))return k.trigger("stepZoom",{value:1}),!0}function f(a,b){if((109===a||189===a||173===a)&&Jk(b))return k.trigger("stepZoom",{value:-1}),!0}function g(a,b){if((96===a||48===a)&&Jk(b))return k.trigger("zoom",{value:1}),!0}function h(a,b){if(46===a)return k.trigger("removeSelection"),!0}function i(a,b){if([37,38,39,40].indexOf(a)>=0){var c={invertY:l.invertY,speed:l.speed||50};switch(a){case 37:c.direction="left";break;case 38:c.direction="up";break;case 39:c.direction="right";break;case 40:c.direction="down"}return k.trigger("moveCanvas",c),!0}}var j=this._listeners,k=this._editorActions,l=this._config;j.push(a),j.push(b),j.push(c),j.push(d),j.push(h),j.push(e),j.push(f),j.push(g),j.push(i)},Hk.prototype.addListener=function(a){this._listeners.push(a)},Hk.prototype.hasModifier=Ik,Hk.prototype.isCmd=Jk,Hk.prototype.isShift=Kk;var QA={__init__:["keyboard"],keyboard:["type",Hk]};Lk.$inject=["keyboard","editorActions"];var RA={__depends__:[QA],__init__:["drdKeyBindings"],drdKeyBindings:["type",Lk]};Mk.$inject=["eventBus","injector"],Mk.prototype.execute=function(a,b){if(!a)throw new Error("command required");var c={command:a,context:b};this._pushAction(c),this._internalExecute(c),this._popAction(c)},Mk.prototype.canExecute=function(a,b){var c={command:a,context:b},d=this._getHandler(a),e=this._fire(a,"canExecute",c);if(void 0===e){if(!d)return!1;d.canExecute&&(e=d.canExecute(b))}return e},Mk.prototype.clear=function(a){this._stack.length=0,this._stackIdx=-1,a!==!1&&this._fire("changed")},Mk.prototype.undo=function(){var a,b=this._getUndoAction();if(b){for(this._pushAction(b);b&&(this._internalUndo(b),a=this._getUndoAction(),a&&a.id===b.id);)b=a;this._popAction()}},Mk.prototype.redo=function(){var a,b=this._getRedoAction();if(b){for(this._pushAction(b);b&&(this._internalExecute(b,!0),a=this._getRedoAction(),a&&a.id===b.id);)b=a;this._popAction()}},Mk.prototype.register=function(a,b){this._setHandler(a,b)},Mk.prototype.registerHandler=function(a,b){if(!a||!b)throw new Error("command and handlerCls must be defined");var c=this._injector.instantiate(b);this.register(a,c)},Mk.prototype.canUndo=function(){return!!this._getUndoAction()},Mk.prototype.canRedo=function(){return!!this._getRedoAction()},Mk.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},Mk.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},Mk.prototype._internalUndo=function(a){var b=this,c=a.command,d=a.context,e=this._getHandler(c);this._atomicDo(function(){b._fire(c,"revert",a),e.revert&&b._markDirty(e.revert(d)),b._revertedAction(a),b._fire(c,"reverted",a)})},Mk.prototype._fire=function(a,b,c){arguments.length<3&&(c=b,b=null);var d,e,f,g=b?[a+"."+b,b]:[a];for(c=this._eventBus.createEvent(c),d=0;(e=g[d])&&(f=this._eventBus.fire("commandStack."+e,c),!c.cancelBubble);d++);return f},Mk.prototype._createId=function(){return this._uid++},Mk.prototype._atomicDo=function(a){var b=this._currentExecution;b.atomic=!0;try{a()}finally{b.atomic=!1}},Mk.prototype._internalExecute=function(a,b){var c=this,d=a.command,e=a.context,f=this._getHandler(d);if(!f)throw new Error("no command handler registered for <"+d+">");this._pushAction(a),b||(this._fire(d,"preExecute",a),f.preExecute&&f.preExecute(e),this._fire(d,"preExecuted",a)),this._atomicDo(function(){c._fire(d,"execute",a),f.execute&&c._markDirty(f.execute(e)),c._executedAction(a,b),c._fire(d,"executed",a)}),b||(this._fire(d,"postExecute",a),f.postExecute&&f.postExecute(e),this._fire(d,"postExecuted",a)),this._popAction(a)},Mk.prototype._pushAction=function(a){var b=this._currentExecution,c=b.actions,d=c[0];if(b.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+a.command+")");a.id||(a.id=d&&d.id||this._createId()),c.push(a)},Mk.prototype._popAction=function(){var a=this._currentExecution,b=a.actions,c=a.dirty;b.pop(),b.length||(this._eventBus.fire("elements.changed",{elements:y("id",c)}),c.length=0,this._fire("changed"))},Mk.prototype._markDirty=function(a){var b=this._currentExecution;a&&(a=g(a)?a:[a],b.dirty=b.dirty.concat(a))},Mk.prototype._executedAction=function(a,b){var c=++this._stackIdx;b||this._stack.splice(c,this._stack.length,a)},Mk.prototype._revertedAction=function(a){this._stackIdx--},Mk.prototype._getHandler=function(a){return this._handlerMap[a]},Mk.prototype._setHandler=function(a,b){if(!a||!b)throw new Error("command and handler required");if(this._handlerMap[a])throw new Error("overriding handler for command <"+a+">");this._handlerMap[a]=b};var SA={commandStack:["type",Mk]};Nk.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];var TA={__init__:["changeSupport"],changeSupport:["type",Nk]},UA=Math.min,VA=Math.max;Sk.prototype.create=function(a,b,c,d){var e=this,f=this.parent,g=this.content,h=this.container;d=this.options=d||{},b=this.style=b||{};var i=J(b,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);I(f.style,{width:a.width+"px",height:a.height+"px",maxWidth:a.maxWidth+"px",maxHeight:a.maxHeight+"px",minWidth:a.minWidth+"px",minHeight:a.minHeight+"px",left:a.x+"px",top:a.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},i);var j=J(b,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return I(g.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},j),d.centerVertically&&I(g.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},j),g.innerText=c,Ut.bind(g,"keydown",this.keyHandler),Ut.bind(g,"mousedown",Pk),Ut.bind(g,"paste",e.handlePaste),d.autoResize&&Ut.bind(g,"input",this.autoResize),d.resizable&&this.resizable(b),h.appendChild(f),this.setSelection(g.lastChild,g.lastChild&&g.lastChild.length),f},Sk.prototype.handlePaste=function(a){var b=this,c=this.options,d=this.style;a.preventDefault();var e;e=a.clipboardData?a.clipboardData.getData("text/plain"):window.clipboardData.getData("Text");var f=document.execCommand("insertHTML",!1,e);if(!f){var g,h,i=this.getSelection(),j=i.startContainer,k=i.endContainer,l=i.startOffset,m=i.endOffset,n=i.commonAncestorContainer,o=Rk(n.childNodes);if(Qk(n)){var p=j.textContent;j.textContent=p.substring(0,l)+e+p.substring(m),g=j,h=l+e.length}else if(j===this.content&&k===this.content){var q=document.createTextNode(e);this.content.insertBefore(q,o[l]),g=q,h=q.textContent.length}else{var r=o.indexOf(j),s=o.indexOf(k);o.forEach(function(a,b){b===r?a.textContent=j.textContent.substring(0,l)+e+k.textContent.substring(m):b>r&&b<=s&&lb(a)}),g=j,h=l+e.length}g&&void 0!==h&&setTimeout(function(){b.setSelection(g,h)})}if(c.autoResize){var t=this.autoResize(d);t&&this.resizeHandler(t)}},Sk.prototype.autoResize=function(){var a=this.parent,b=this.content,c=parseInt(this.style.fontSize)||12;if(b.scrollHeight>a.offsetHeight||b.scrollHeight<a.offsetHeight-c){var d=a.getBoundingClientRect(),e=b.scrollHeight;
a.style.height=e+"px",this.resizeHandler({width:d.width,height:d.height,dx:0,dy:e-d.height})}},Sk.prototype.resizable=function(){var a=this,b=this.parent,c=this.resizeHandle,d=parseInt(this.style.minWidth)||0,e=parseInt(this.style.minHeight)||0,f=parseInt(this.style.maxWidth)||1/0,g=parseInt(this.style.maxHeight)||1/0;if(!c){c=this.resizeHandle=Zt('<div class="djs-direct-editing-resize-handle"></div>');var h,i,j,k,l=function(a){Ok(a),Pk(a),h=a.clientX,i=a.clientY;var c=b.getBoundingClientRect();j=c.width,k=c.height,Ut.bind(document,"mousemove",m),Ut.bind(document,"mouseup",n)},m=function(c){Ok(c),Pk(c);var l=UA(VA(j+c.clientX-h,d),f),m=UA(VA(k+c.clientY-i,e),g);b.style.width=l+"px",b.style.height=m+"px",a.resizeHandler({width:j,height:k,dx:c.clientX-h,dy:c.clientY-i})},n=function o(a){Ok(a),Pk(a),Ut.unbind(document,"mousemove",m,!1),Ut.unbind(document,"mouseup",o,!1)};Ut.bind(c,"mousedown",l)}I(c.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),b.appendChild(c)},Sk.prototype.destroy=function(){var a=this.parent,b=this.content,c=this.resizeHandle;b.innerText="",a.removeAttribute("style"),b.removeAttribute("style"),Ut.unbind(b,"keydown",this.keyHandler),Ut.unbind(b,"mousedown",Pk),Ut.unbind(b,"input",this.autoResize),Ut.unbind(b,"paste",this.handlePaste),c&&(c.removeAttribute("style"),lb(c)),lb(a)},Sk.prototype.getValue=function(){return this.content.innerText},Sk.prototype.getSelection=function(){var a=window.getSelection(),b=a.getRangeAt(0);return b},Sk.prototype.setSelection=function(a,b){var c=document.createRange();null===a?c.selectNodeContents(this.content):(c.setStart(a,b),c.setEnd(a,b));var d=window.getSelection();d.removeAllRanges(),d.addRange(c)},Tk.$inject=["eventBus","canvas"],Tk.prototype.registerProvider=function(a){this._providers.push(a)},Tk.prototype.isActive=function(){return!!this._active},Tk.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},Tk.prototype._fire=function(a,b){this._eventBus.fire("directEditing."+a,b||{active:this._active})},Tk.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},Tk.prototype.complete=function(){var a=this._active;if(a){var b=this.getValue(),c=this.$textbox.getBoundingClientRect();(b!==a.context.text||this.resizable)&&a.provider.update(a.element,b,a.context.text,{x:c.top,y:c.left,width:c.width,height:c.height}),this._fire("complete"),this.close()}},Tk.prototype.getValue=function(){return this._textbox.getValue()},Tk.prototype._handleKey=function(a){a.stopPropagation();var b=a.keyCode||a.charCode;return 27===b?(a.preventDefault(),this.cancel()):13!==b||a.shiftKey?void 0:(a.preventDefault(),this.complete())},Tk.prototype._handleResize=function(a){this._fire("resize",a)},Tk.prototype.activate=function(a){this.isActive()&&this.cancel();var b,c=m(this._providers,function(c){return(b=c.activate(a))?c:null});return b&&(this.$textbox=this._textbox.create(b.bounds,b.style,b.text,b.options),this._active={element:a,context:b,provider:c},b.options&&b.options.resizable&&(this.resizable=!0),this._fire("activate")),!!b};var WA={__depends__:[cv],__init__:["directEditing"],directEditing:["type",Tk]};Yk.$inject=["eventBus","canvas","directEditing","commandStack"],Yk.prototype.activate=function(a){var b=Vk(a);if(void 0!==b){var c=this.getEditingBBox(a);return c.text=b,c}},Yk.prototype.getEditingBBox=function(a){var b,c=this._canvas,d=a.label||a,e=c.getAbsoluteBBox(d),f={x:e.x,y:e.y},g={};return b=c.zoom(),b>1?(f.width=e.width,f.height=e.height):(f.width=e.width/b,f.height=e.height/b),b<1&&(f.x=e.x-(f.width/2-e.width/2),f.y=e.y-(f.height/2-e.height/2)),$c(a,"dmn:TextAnnotation")&&(f.minWidth=100,f.height=a.height,g.textAlign="left"),{bounds:f,style:g}},Yk.prototype.update=function(a,b){this._commandStack.execute("element.updateLabel",{element:a,newLabel:b})};var XA={__depends__:[SA,TA,WA],__init__:["labelEditingProvider"],labelEditingProvider:["type",Yk]},YA=1e3;Zk.$inject=["eventBus"],Zk.prototype.on=function(a,b,c,d,e,f){if((j(b)||i(b))&&(f=e,e=d,d=c,c=b,b=null),j(c)&&(f=e,e=d,d=c,c=YA),h(e)&&(f=e,e=!1),!j(d))throw new Error("handlerFn must be a function");g(a)||(a=[a]);var k=this._eventBus;p(a,function(a){var g=["commandStack",a,b].filter(function(a){return a}).join(".");k.on(g,c,e?$k(d,f):d,f)})};var ZA=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];p(ZA,function(a){Zk.prototype[a]=function(b,c,d,e,f){(j(b)||i(b))&&(f=e,e=d,d=c,c=b,b=null),this.on(b,a,c,d,e,f)}}),al.$inject=["eventBus","drdFactory","drdRules"],ju(al,Zk),ju(bl,Zk),bl.$inject=["eventBus","modeling","drdRules"],ju(cl,Zk),cl.$inject=["eventBus","modeling"];var $A={__init__:["createConnectionBehavior","replaceConnectionBehavior","replaceElementBehavior"],createConnectionBehavior:["type",al],replaceConnectionBehavior:["type",bl],replaceElementBehavior:["type",cl]};dl.$inject=["eventBus"],ju(dl,Zk),dl.prototype.addRule=function(a,b,c){var d=this;"string"==typeof a&&(a=[a]),a.forEach(function(a){d.canExecute(a,b,function(a,b,d){return c(a)},!0)})},dl.prototype.init=function(){},ju(el,dl),el.$inject=["eventBus"],el.prototype.init=function(){this.addRule("elements.move",function(a){var b=a.target,c=a.shapes,d=a.position;return hl(c,b,d)}),this.addRule("connection.create",function(a){var b=a.source,c=a.target;return fl(b,c)}),this.addRule("connection.reconnectStart",function(a){var b=a.connection,c=a.hover||a.source,d=b.target;return fl(c,d,b)}),this.addRule("connection.reconnectEnd",function(a){var b=a.connection,c=b.source,d=a.hover||a.target;return fl(c,d,b)}),this.addRule("connection.updateWaypoints",function(a){return null}),this.addRule("shape.create",function(a){return gl(a.shape,a.target)})},el.prototype.canConnect=fl,el.prototype.canCreate=gl,el.prototype.canMove=hl;var _A={__depends__:[oz],__init__:["drdRules"],drdRules:["type",el]};il.$inject=["moddle"],il.prototype._needsId=function(a){return a.$instanceOf("dmn:DRGElement")||a.$instanceOf("dmn:Artifact")||a.$instanceOf("dmn:DMNElement")},il.prototype._ensureId=function(a){var b=(a.$type||"").replace(/^[^:]*:/g,"")+"_";!a.id&&this._needsId(a)&&(a.id=this._model.ids.nextPrefixed(b,a))},il.prototype.create=function(a,b){var c=this._model.create(a,b||{});return this._ensureId(c),c},il.prototype.createDi=function(){return this.create("dmn:ExtensionElements",{values:[]})},il.prototype.createDiBounds=function(a){return this.create("biodi:Bounds",a)},il.prototype.createDiEdge=function(a,b){var c=this,d=[];return p(b||[],function(a){d.push(c.createDiWaypoint(a))}),this.create("biodi:Edge",{waypoints:d,source:a.id})},il.prototype.createDiWaypoint=function(a){return this.create("biodi:Waypoint",a)},ju(jl,Zk),jl.$inject=["eventBus","drdFactory","connectionDocking","drdRules","definitionPropertiesView"],jl.prototype.updateParent=function(a,b){var c=a.parent;$c(a,"dmn:DRGElement")||$c(a,"dmn:Artifact")||(c=b);var d=a.businessObject,e=c&&c.businessObject;this.updateSemanticParent(d,e),this.updateExtensionElements(d)},jl.prototype.updateBounds=function(a){var b,c,d=this._drdFactory,e=bd(a),f=e.extensionElements;f&&(b=f.values,c=b[0],c?b[0]=I(c,{x:a.x,y:a.y,width:a.width,height:a.height}):b.push(d.createDiBounds({x:a.x,y:a.y,width:a.width,height:a.height})))},jl.prototype.updateExtensionElements=function(a){var b=a.extensionElements;b&&!b.$parent&&(b.$parent=a)},jl.prototype.updateSemanticParent=function(a,b){var c,d;a.$parent!==b&&(a.$instanceOf("dmn:DRGElement")?c="drgElements":a.$instanceOf("dmn:Artifact")?c="artifacts":a.$instanceOf("dmn:InformationRequirement")?c="informationRequirement":a.$instanceOf("dmn:AuthorityRequirement")?c="authorityRequirement":a.$instanceOf("dmn:KnowledgeRequirement")&&(c="knowledgeRequirement"),a.$parent&&(d=a.$parent.get(c),lc(d,a)),b?(d=b.get(c),d&&(d.push(a),a.$parent=b)):a.$parent=null)},jl.prototype.updateConnectionWaypoints=function(a){var b,c=this._drdFactory,d=a.connection,e=d.source,f=d.target;b=$c(d,"dmn:Association")?d.businessObject.extensionElements:f.businessObject.extensionElements,b.values=t(b.values,function(a){return $c(a,"biodi:Edge")&&a.source===e.id&&(a.waypoints=[],p(d.waypoints,function(b,d){var e=c.createDiWaypoint(J(b,["x","y"]));e.$parent=a,a.waypoints.push(e)})),a})},ju(kl,Qc),kl.$inject=["drdFactory"],kl.prototype.baseCreate=Qc.prototype.create,kl.prototype.create=function(a,b){return this.createDrdElement(a,b)},kl.prototype.createDrdElement=function(a,b){var c,d=this._drdFactory;b=b||{};var e=b.businessObject;if(!e){if(!b.type)throw new Error("no shape type specified");e=d.create(b.type)}return"root"===a||"connection"===a||e.extensionElements||(e.extensionElements=d.createDi()),c=this._getDefaultSize(e),b=I({businessObject:e,id:e.id},c,b),this.baseCreate(a,b)},kl.prototype._getDefaultSize=function(a){return $c(a,"dmn:Decision")?{width:180,height:80}:$c(a,"dmn:InputData")?{width:125,height:45}:$c(a,"dmn:KnowledgeSource")?{width:100,height:63}:$c(a,"dmn:BusinessKnowledgeModel")?{width:135,height:46}:{width:100,height:80}},ll.$inject=["modeling"],ll.prototype.preExecute=function(a){var b=a.source;if(!b)throw new Error("source required");var c=a.target||b.parent,d=a.shape;d=a.shape=this._modeling.createShape(d,a.position,c,{attach:a.attach}),a.shape=d},ll.prototype.postExecute=function(a){var b=a.connectionParent||a.shape.parent;ml(a.source,a.shape)||this._modeling.connect(a.source,a.shape,a.connection,b)};var aB=Math.round;nl.$inject=["canvas"],nl.prototype.execute=function(a){var b=a.shape,c=a.position,d=a.parent,e=a.parentIndex;if(!d)throw new Error("parent required");if(!c)throw new Error("position required");return void 0!==c.width?I(b,c):I(b,{x:c.x-aB(b.width/2),y:c.y-aB(b.height/2)}),this._canvas.addShape(b,d,e),b},nl.prototype.revert=function(a){this._canvas.removeShape(a.shape)},pl.$inject=["canvas","modeling"],pl.prototype.preExecute=function(a){var b=this._modeling,c=a.shape;ol(c.incoming,function(a){b.removeConnection(a,{nested:!0})}),ol(c.outgoing,function(a){b.removeConnection(a,{nested:!0})}),ol(c.children,function(a){ql(a)?b.removeConnection(a,{nested:!0}):b.removeShape(a,{nested:!0})})},pl.prototype.execute=function(a){var b=this._canvas,c=a.shape,d=c.parent;return a.oldParent=d,a.oldParentIndex=nc(d.children,c),b.removeShape(c),c},pl.prototype.revert=function(a){var b=this._canvas,c=a.shape,d=a.oldParent,e=a.oldParentIndex;return mc(d.children,c,e),b.addShape(c,d),c},yl.prototype.add=function(a,b){return this.addAll([a],b)},yl.prototype.addAll=function(a,b){var c=sc(a,!!b,this);return I(this,c),this},zl.prototype.moveRecursive=function(a,b,c){return a?this.moveClosure(this.getClosure(a),b,c):[]},zl.prototype.moveClosure=function(a,b,c,d,e){var f=this._modeling,g=a.allShapes,h=a.allConnections,i=a.enclosedConnections,j=a.topLevel,k=!1;e&&e.parent===c&&(k=!0),p(g,function(a){f.moveShape(a,b,j[a.id]&&!k&&c,{recurse:!1,layout:!1})}),p(h,function(a){var d=!!g[a.source.id],e=!!g[a.target.id];i[a.id]&&d&&e?f.moveConnection(a,b,j[a.id]&&!k&&c):f.layoutConnection(a,{connectionStart:d&&ul(a,a.source,b),connectionEnd:e&&vl(a,a.target,b)})})},zl.prototype.getClosure=function(a){return(new yl).addAll(a,!0)},Al.$inject=["modeling"],Al.prototype.execute=function(a){var b=a.shape,c=a.delta,d=a.newParent||b.parent,e=a.newParentIndex,f=b.parent;return a.oldBounds=J(b,["x","y","width","height"]),a.oldParent=f,a.oldParentIndex=lc(f.children,b),mc(d.children,b,e),I(b,{parent:d,x:b.x+c.x,y:b.y+c.y}),b},Al.prototype.postExecute=function(a){var b=a.shape,c=a.delta,d=a.hints,e=this._modeling;d.layout!==!1&&(p(b.incoming,function(a){e.layoutConnection(a,{connectionEnd:vl(a,b,c)})}),p(b.outgoing,function(a){e.layoutConnection(a,{connectionStart:ul(a,b,c)})})),d.recurse!==!1&&this.moveChildren(a)},Al.prototype.revert=function(a){var b=a.shape,c=a.oldParent,d=a.oldParentIndex,e=a.delta;return mc(c.children,b,d),I(b,{parent:c,x:b.x-e.x,y:b.y-e.y}),b},Al.prototype.moveChildren=function(a){var b=a.delta,c=a.shape;this._helper.moveRecursive(c.children,b,null)},Al.prototype.getNewParent=function(a){return a.newParent||a.shape.parent},Bl.$inject=["modeling"],Bl.prototype.execute=function(a){var b=a.shape,c=a.newBounds,d=a.minBounds;if(void 0===c.x||void 0===c.y||void 0===c.width||void 0===c.height)throw new Error("newBounds must have {x, y, width, height} properties");if(d&&(c.width<d.width||c.height<d.height))throw new Error("width and height cannot be less than minimum height and width");if(!d&&c.width<10||c.height<10)throw new Error("width and height cannot be less than 10px");return a.oldBounds={width:b.width,height:b.height,x:b.x,y:b.y},I(b,{width:c.width,height:c.height,x:c.x,y:c.y}),b},Bl.prototype.postExecute=function(a){var b=a.shape,c=a.oldBounds,d=this._modeling;p(b.incoming,function(a){d.layoutConnection(a,{connectionEnd:tl(a,b,c)})}),p(b.outgoing,function(a){d.layoutConnection(a,{connectionStart:sl(a,b,c)})})},Bl.prototype.revert=function(a){var b=a.shape,c=a.oldBounds;return I(b,{width:c.width,height:c.height,x:c.x,y:c.y}),b},Cl.$inject=["modeling","rules"],Cl.prototype.preExecute=function(a){function b(a,b,c,d){return f.allowed(a,{source:b,target:c,connection:d})}var c,d=this,e=this._modeling,f=this._rules,g=a.oldShape,h=a.newData,i=a.hints,j={x:h.x,y:h.y};c=a.newShape=a.newShape||d.createShape(h,j,g.parent),g.host&&e.updateAttachment(c,g.host);var k;i.moveChildren!==!1&&(k=g.children.slice(),e.moveElements(k,{x:0,y:0},c));var l=g.incoming.slice(),m=g.outgoing.slice();p(l,function(a){var e=a.waypoints,f=e[e.length-1],g=a.source,h=b("connection.reconnectEnd",g,c,a);h&&d.reconnectEnd(a,c,f)}),p(m,function(a){var e=a.waypoints,f=e[0],g=a.target,h=b("connection.reconnectStart",c,g,a);h&&d.reconnectStart(a,c,f)})},Cl.prototype.postExecute=function(a){var b=this._modeling,c=a.oldShape,d=a.newShape;p(d.incoming,function(a){b.layoutConnection(a,{endChanged:!0})}),p(d.outgoing,function(a){b.layoutConnection(a,{startChanged:!0})}),b.removeShape(c)},Cl.prototype.execute=function(a){},Cl.prototype.revert=function(a){},Cl.prototype.createShape=function(a,b,c){var d=this._modeling;return d.createShape(a,b,c)},Cl.prototype.reconnectStart=function(a,b,c){var d=this._modeling;d.reconnectStart(a,b,c)},Cl.prototype.reconnectEnd=function(a,b,c){var d=this._modeling;d.reconnectEnd(a,b,c)},Dl.$inject=["modeling"],Dl.prototype.execute=function(a){var b=a.shape,c=b.children;return a.oldChildrenVisibility=El(c),b.collapsed=!b.collapsed,Fl(c,b.collapsed),[b].concat(c)},Dl.prototype.revert=function(a){var b=a.shape,c=a.oldChildrenVisibility,d=b.children;return Gl(d,c),b.collapsed=!b.collapsed,[b].concat(d)},Il.$inject=["modeling"],Il.prototype.preExecute=function(a){var b=this._modeling,c=a.resizingShapes,d=a.delta,e=a.direction;p(c,function(a){var c=Hl(a,e,d);b.resizeShape(a,c)})},Il.prototype.postExecute=function(a){var b=this._modeling,c=a.movingShapes,d=a.delta;b.moveElements(c,d,void 0,{autoResize:!1,attach:!1})},Il.prototype.execute=function(a){},Il.prototype.revert=function(a){},ju(Jl,nl),Jl.$inject=["canvas"];var bB=nl.prototype.execute;Jl.prototype.execute=function(a){var b=a.shape;return Kl(b),b.labelTarget=a.labelTarget,bB.call(this,a)};var cB=nl.prototype.revert;Jl.prototype.revert=function(a){return a.shape.labelTarget=null,cB.call(this,a)},Ll.$inject=["canvas","layouter"],Ll.prototype.execute=function(a){var b=a.connection,c=a.source,d=a.target,e=a.parent,f=a.parentIndex,g=a.hints;if(!c||!d)throw new Error("source and target required");if(!e)throw new Error("parent required");return b.source=c,b.target=d,b.waypoints||(b.waypoints=this._layouter.layoutConnection(b,g)),this._canvas.addConnection(b,e,f),b},Ll.prototype.revert=function(a){var b=a.connection;this._canvas.removeConnection(b),b.source=null,b.target=null},Ml.$inject=["canvas","modeling"],Ml.prototype.execute=function(a){var b=a.connection,c=b.parent;return a.parent=c,a.parentIndex=nc(c.children,b),a.source=b.source,a.target=b.target,this._canvas.removeConnection(b),b.source=null,b.target=null,b},Ml.prototype.revert=function(a){var b=a.connection,c=a.parent,d=a.parentIndex;return b.source=a.source,b.target=a.target,mc(c.children,b,d),this._canvas.addConnection(b,c),b},Nl.prototype.execute=function(a){var b=a.connection,c=a.delta,d=a.newParent||b.parent,e=a.newParentIndex,f=b.parent;return a.oldParent=f,a.oldParentIndex=lc(f.children,b),mc(d.children,b,e),b.parent=d,p(b.waypoints,function(a){a.x+=c.x,a.y+=c.y,a.original&&(a.original.x+=c.x,a.original.y+=c.y)}),b},Nl.prototype.revert=function(a){var b=a.connection,c=b.parent,d=a.oldParent,e=a.oldParentIndex,f=a.delta;return lc(c.children,b),mc(d.children,b,e),b.parent=d,p(b.waypoints,function(a){a.x-=f.x,a.y-=f.y,a.original&&(a.original.x-=f.x,a.original.y-=f.y)}),b},Ol.$inject=["layouter","canvas"],Ol.prototype.execute=function(a){var b=a.connection,c=b.waypoints;return I(a,{oldWaypoints:c}),b.waypoints=this._layouter.layoutConnection(b,a.hints),b},Ol.prototype.revert=function(a){var b=a.connection;return b.waypoints=a.oldWaypoints,b},Pl.prototype.execute=function(a){var b=a.connection,c=a.newWaypoints;return a.oldWaypoints=b.waypoints,b.waypoints=c,b},Pl.prototype.revert=function(a){var b=a.connection,c=a.oldWaypoints;return b.waypoints=c,b},Ql.$inject=[],Ql.prototype.execute=function(a){var b,c=a.newSource,d=a.newTarget,e=a.connection,f=a.dockingOrPoints,h=e.waypoints;if(!c&&!d)throw new Error("newSource or newTarget are required");if(c&&d)throw new Error("must specify either newSource or newTarget");return a.oldWaypoints=h,g(f)?b=f:(b=h.slice(),b.splice(c?0:-1,1,f)),c&&(a.oldSource=e.source,e.source=c),d&&(a.oldTarget=e.target,e.target=d),e.waypoints=b,e},Ql.prototype.revert=function(a){var b=a.newSource,c=a.newTarget,d=a.connection;return b&&(d.source=a.oldSource),c&&(d.target=a.oldTarget),d.waypoints=a.oldWaypoints,d},Rl.$inject=["modeling"],Rl.prototype.preExecute=function(a){a.closure=this._helper.getClosure(a.shapes)},Rl.prototype.postExecute=function(a){var b,c=a.hints;c&&c.primaryShape&&(b=c.primaryShape,c.oldParent=b.parent),this._helper.moveClosure(a.closure,a.delta,a.newParent,a.newHost,b)},Sl.$inject=["modeling","elementRegistry"],Sl.prototype.postExecute=function(a){var b=this._modeling,c=this._elementRegistry,d=a.elements;p(d,function(a){c.get(a.id)&&(a.waypoints?b.removeConnection(a):b.removeShape(a))})},Tl.$inject=["modeling"];var dB={x:"y",y:"x"};Tl.prototype.preExecute=function(a){function b(a,b){a.range.min=Math.min(b[k],a.range.min),a.range.max=Math.max(b[k]+b[l],a.range.max)}function c(a){return a[k]+a[l]/2}function d(a){return a.length-1}function e(a){return a.max-a.min}function f(a,b){var d={y:0};d[k]=a-c(b),d[k]&&(d[dB[k]]=0,i.moveElements([b],d,b.parent))}var g,h,i=this._modeling,j=a.groups,k=a.axis,l=a.dimension,m=j[0],n=d(j),o=j[n],q=0;p(j,function(a,g){var h,i,m;return a.elements.length<2?void(g&&g!==j.length-1&&(b(a,a.elements[0]),q+=e(a.range))):(h=z(a.elements,k),i=h[0],g===n&&(i=h[d(h)]),m=c(i),a.range=null,p(h,function(c){return f(m,c),null===a.range?void(a.range={min:c[k],max:c[k]+c[l]}):void b(a,c)}),void(g&&g!==j.length-1&&(q+=e(a.range))))}),h=Math.abs(o.range.min-m.range.max),g=Math.round((h-q)/(j.length-1)),g<j.length-1||p(j,function(a,b){var c,d={};a!==m&&a!==o&&(c=j[b-1],a.range.max=0,p(a.elements,function(b,e){d[dB[k]]=0,d[k]=c.range.max-b[k]+g,a.range.min!==b[k]&&(d[k]+=b[k]-a.range.min),d[k]&&i.moveElements([b],d,b.parent),a.range.max=Math.max(b[k]+b[l],e?a.range.max:0)}))})},Tl.prototype.postExecute=function(a){},Ul.$inject=["modeling","canvas"],Ul.prototype.preExecute=function(a){var b=this._modeling,c=a.elements,d=a.alignment;p(c,function(a){var c={x:0,y:0};d.left?c.x=d.left-a.x:d.right?c.x=d.right-a.width-a.x:d.center?c.x=d.center-Math.round(a.width/2)-a.x:d.top?c.y=d.top-a.y:d.bottom?c.y=d.bottom-a.height-a.y:d.middle&&(c.y=d.middle-Math.round(a.height/2)-a.y),b.moveElements([a],c,a.parent)})},Ul.prototype.postExecute=function(a){},Vl.$inject=["modeling"],Vl.prototype.execute=function(a){var b=a.shape,c=a.newHost,d=b.host;return a.oldHost=d,a.attacherIdx=Wl(d,b),Xl(c,b),b.host=c,b},Vl.prototype.revert=function(a){var b=a.shape,c=a.newHost,d=a.oldHost,e=a.attacherIdx;return b.host=d,Wl(c,b),Xl(d,b,e),b},Zl.$inject=["eventBus","canvas","selection","elementFactory","modeling","rules"],Zl.prototype.preExecute=function(a){var b=this._eventBus,c=this,d=a.tree,e=a.topParent,f=a.position;d.createdElements={},d.labels=[],p(d,function(a,g){var h=parseInt(g,10);isNaN(h)||(h||(a=t(a,function(a){return a.parent=e,a})),a=z(a,"priority"),p(a,function(a){var g,i=a.id,j=a.parent,k={},l=I({},a);if(h&&(l.parent=c._getCreatedElement(j,d)),j){if(b.fire("element.paste",{createdElements:d.createdElements,descriptor:l}),j=l.parent,l.waypoints)return l=c._createConnection(l,j,f,d),void(l&&(d.createdElements[i]={element:l,descriptor:a}));if(l.parent!==e&&(k.root=!1),l.host&&(k.attach=!0,j=c._getCreatedElement(l.host,d)),l.labelTarget)return d.labels.push(l);g={x:Math.round(f.x+l.delta.x+l.width/2),y:Math.round(f.y+l.delta.y+l.height/2)},Yl(l,["id","parent","delta","host","priority"]),l=c._createShape(l,j,g,k),l&&(d.createdElements[i]={element:l,descriptor:a})}}))})},Zl.prototype.postExecute=function(a){var b=this._modeling,c=this._selection,d=this,e=a.tree,f=e.labels,g=[];p(f,function(a){var c,f,g,h=d._getCreatedElement(a.labelTarget,e);h&&(c=h.labels,c&&c.length&&(f={x:h.x,y:h.y},h.waypoints&&(f=h.waypoints[0]),p(c,function(c){g={x:Math.round(f.x-c.x+a.delta.x),y:Math.round(f.y-c.y+a.delta.y)},b.moveShape(c,g,h.parent)})))}),p(e[0],function(a){var b=a.id,c=e.createdElements[b];c&&g.push(c.element)}),c.select(g)},Zl.prototype._createConnection=function(a,b,c,d){var e,f,g,h,i=this._modeling,j=this._rules;return a.waypoints=t(a.waypoints,function(b,d){return{x:Math.round(c.x+a.delta[d].x),y:Math.round(c.y+a.delta[d].y)}}),f=this._getCreatedElement(a.source,d),g=this._getCreatedElement(a.target,d),f&&g&&(h=j.allowed("element.paste",{source:f,target:g}))?(Yl(a,["id","parent","delta","source","target","width","height","priority"]),e=i.createConnection(f,g,a,b)):null},Zl.prototype._createShape=function(a,b,c,d,e){var f=this._modeling,g=this._elementFactory,h=this._rules,i=h.allowed("element.paste",{element:a,position:c,parent:b});if(!i)return null;var j=g.createShape(a);return f.createShape(j,c,b,d,e),j},Zl.prototype._getCreatedElement=function(a,b){return b.createdElements[a]&&b.createdElements[a].element};var eB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};$l.$inject=["eventBus","elementFactory","commandStack"],$l.prototype.getHandlers=function(){return{"shape.append":ll,"shape.create":nl,"shape.delete":pl,"shape.move":Al,"shape.resize":Bl,"shape.replace":Cl,"shape.toggleCollapse":Dl,spaceTool:Il,"label.create":Jl,"connection.create":Ll,"connection.delete":Ml,"connection.move":Nl,"connection.layout":Ol,"connection.updateWaypoints":Pl,"connection.reconnectStart":Ql,"connection.reconnectEnd":Ql,"elements.move":Rl,"elements.delete":Sl,"elements.distribute":Tl,"elements.align":Ul,"element.updateAttachment":Vl,"elements.paste":Zl}},$l.prototype.registerHandlers=function(a){p(this.getHandlers(),function(b,c){a.registerHandler(c,b)})},$l.prototype.moveShape=function(a,b,c,d,e){"object"===("undefined"==typeof d?"undefined":eB(d))&&(e=d,d=null);var f={shape:a,delta:b,newParent:c,newParentIndex:d,hints:e||{}};this._commandStack.execute("shape.move",f)},$l.prototype.updateAttachment=function(a,b){var c={shape:a,newHost:b};this._commandStack.execute("element.updateAttachment",c)},$l.prototype.moveElements=function(a,b,c,d){d=d||{};var e,f=d.attach,g=c;f===!0?(e=c,g=c.parent):f===!1&&(e=null);var h={shapes:a,delta:b,newParent:g,newHost:e,hints:d};this._commandStack.execute("elements.move",h)},$l.prototype.moveConnection=function(a,b,c,d,e){"object"===("undefined"==typeof d?"undefined":eB(d))&&(e=d,d=void 0);var f={connection:a,delta:b,newParent:c,newParentIndex:d,hints:e||{}};this._commandStack.execute("connection.move",f)},$l.prototype.layoutConnection=function(a,b){var c={connection:a,hints:b||{}};this._commandStack.execute("connection.layout",c)},$l.prototype.createConnection=function(a,b,c,d,e,f){"object"===("undefined"==typeof c?"undefined":eB(c))&&(f=e,e=d,d=c,c=void 0),d=this._create("connection",d);var g={source:a,target:b,parent:e,parentIndex:c,connection:d,hints:f};return this._commandStack.execute("connection.create",g),g.connection},$l.prototype.createShape=function(a,b,c,d,e){"number"!=typeof d&&(e=d,d=void 0),e=e||{};var f,g,h=e.attach;a=this._create("shape",a),h?(f=c.parent,g=c):f=c;var i={position:b,shape:a,parent:f,parentIndex:d,host:g,hints:e};return this._commandStack.execute("shape.create",i),i.shape},$l.prototype.createLabel=function(a,b,c,d){c=this._create("label",c);var e={labelTarget:a,position:b,parent:d||a.parent,shape:c};return this._commandStack.execute("label.create",e),e.shape},$l.prototype.appendShape=function(a,b,c,d,e){e=e||{},b=this._create("shape",b);var f={source:a,position:c,target:d,shape:b,connection:e.connection,connectionParent:e.connectionParent,attach:e.attach};return this._commandStack.execute("shape.append",f),f.shape},$l.prototype.removeElements=function(a){var b={elements:a};this._commandStack.execute("elements.delete",b)},$l.prototype.distributeElements=function(a,b,c){var d={groups:a,axis:b,dimension:c};this._commandStack.execute("elements.distribute",d)},$l.prototype.removeShape=function(a,b){var c={shape:a,hints:b||{}};this._commandStack.execute("shape.delete",c)},$l.prototype.removeConnection=function(a,b){var c={connection:a,hints:b||{}};this._commandStack.execute("connection.delete",c)},$l.prototype.replaceShape=function(a,b,c){var d={oldShape:a,newData:b,hints:c||{}};return this._commandStack.execute("shape.replace",d),d.newShape},$l.prototype.pasteElements=function(a,b,c){var d={tree:a,topParent:b,position:c};this._commandStack.execute("elements.paste",d)},$l.prototype.alignElements=function(a,b){var c={elements:a,alignment:b};this._commandStack.execute("elements.align",c)},$l.prototype.resizeShape=function(a,b,c){var d={shape:a,newBounds:b,minBounds:c};this._commandStack.execute("shape.resize",d)},$l.prototype.createSpace=function(a,b,c,d){var e={movingShapes:a,resizingShapes:b,delta:c,direction:d};this._commandStack.execute("spaceTool",e)},$l.prototype.updateWaypoints=function(a,b,c){var d={connection:a,newWaypoints:b,hints:c||{}};this._commandStack.execute("connection.updateWaypoints",d)},$l.prototype.reconnectStart=function(a,b,c){var d={connection:a,newSource:b,dockingOrPoints:c};this._commandStack.execute("connection.reconnectStart",d)},$l.prototype.reconnectEnd=function(a,b,c){var d={connection:a,newTarget:b,dockingOrPoints:c};this._commandStack.execute("connection.reconnectEnd",d)},$l.prototype.connect=function(a,b,c,d){return this.createConnection(a,b,c||{},a.parent,d)},$l.prototype._create=function(a,b){return b instanceof Kc?b:this._elementFactory.create(a,b)},$l.prototype.toggleCollapse=function(a,b){var c={shape:a,hints:b||{}};this._commandStack.execute("shape.toggleCollapse",c)};var fB="name",gB="id";_l.$inject=["elementRegistry","moddle"],_l.prototype.execute=function(a){var b=a.element,c=[b];if(!b)throw new Error("element required");var d=this._elementRegistry,e=this._moddle.ids,f=b.businessObject,g=a.properties,h=a.oldProperties||bm(f,u(g));return am(g,f)&&(e.unclaim(f[gB]),d.updateId(b,g[gB]),e.claim(g[gB],f)),fB in g&&b.label&&c.push(b.label),cm(f,g),a.oldProperties=h,a.changed=c,c},_l.prototype.revert=function(a){var b=a.element,c=a.properties,d=a.oldProperties,e=b.businessObject,f=this._elementRegistry,g=this._moddle.ids;return cm(e,d),am(c,e)&&(g.unclaim(c[gB]),f.updateId(b,d[gB]),g.claim(d[gB],e)),a.changed},dm.$inject=["moddle"],dm.prototype.execute=function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.claim(c,d):b.unclaim(c)},dm.prototype.revert=function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.unclaim(c):b.claim(c,d)},ju(em,$l),em.$inject=["canvas","eventBus","elementFactory","commandStack","drdRules"],em.prototype.getHandlers=function(){var a=$l.prototype.getHandlers.call(this);return a["element.updateProperties"]=_l,a["id.updateClaim"]=dm,a},em.prototype.updateProperties=function(a,b){this._commandStack.execute("element.updateProperties",{element:a,properties:b})},em.prototype.claimId=function(a,b){this._commandStack.execute("id.updateClaim",{id:a,element:b,claiming:!0})},em.prototype.unclaimId=function(a,b){this._commandStack.execute("id.updateClaim",{id:a,element:b})},em.prototype.connect=function(a,b,c,d){var e=this._drdRules,f=this._canvas.getRootElement();return c||(c=e.canConnect(a,b)||{type:"dmn:Association"}),this.createConnection(a,b,c,f,d)},fm.prototype.layoutConnection=function(a,b){return b=b||{},[b.connectionStart||ck(a.source),b.connectionEnd||ck(a.target)]},ju(gm,fm),gm.prototype.layoutConnection=function(a,b){b=b||{};var c,d=a.source,e=a.target,f=a.waypoints,g=b.connectionStart,h=b.connectionEnd;return f=f||[],c=f.slice(1,f.length-1),g||(g=hm(f&&f[0],d)),h||(h=hm(f&&f[f.length-1],e)),[g].concat(c,[h])},jm.$inject=["elementRegistry","graphicsFactory"],jm.prototype.getCroppedWaypoints=function(a,b,c){b=b||a.source,c=c||a.target;var d=this.getDockingPoint(a,b,!0),e=this.getDockingPoint(a,c),f=a.waypoints.slice(d.idx+1,e.idx);return f.unshift(im(d)),f.push(im(e)),f},jm.prototype.getDockingPoint=function(a,b,c){var d,e,f,g=a.waypoints;return d=c?0:g.length-1,e=g[d],f=this._getIntersection(b,a,c),{point:e,actual:f||e,idx:d}},jm.prototype._getIntersection=function(a,b,c){var d=this._getShapePath(a),e=this._getConnectionPath(b);return ek(d,e,c)},jm.prototype._getConnectionPath=function(a){return this._graphicsFactory.getConnectionPath(a)},jm.prototype._getShapePath=function(a){return this._graphicsFactory.getShapePath(a)},jm.prototype._getGfx=function(a){return this._elementRegistry.getGraphics(a)};var hB={__init__:["modeling","drdUpdater"],__depends__:[$A,_A,lv,SA,hv,TA],drdFactory:["type",il],drdUpdater:["type",jl],elementFactory:["type",kl],modeling:["type",em],layouter:["type",gm],connectionDocking:["type",jm]},iB=".djs-palette-toggle",jB=".entry",kB=iB+", "+jB,lB="open",mB="two-column";km.$inject=["eventBus","canvas"],km.prototype.registerProvider=function(a){this._providers.push(a),this._diagramInitialized&&(this._container||this._init(),this._update())},km.prototype.getEntries=function(){var a={};return p(this._providers,function(b){var c=b.getPaletteEntries();p(c,function(b,c){a[c]=b})}),a},km.prototype._init=function(){var a=this._canvas,b=this._eventBus,c=a.getContainer(),d=this._container=Zt(km.HTML_MARKUP),e=this;c.appendChild(d),Yt.bind(d,kB,"click",function(a){var b=a.delegateTarget;return cu(b,iB)?e.toggle():void e.trigger("click",a)}),Ut.bind(d,"mousedown",function(a){a.stopPropagation()}),Yt.bind(d,jB,"dragstart",function(a){e.trigger("dragstart",a)}),b.on("canvas.resized",this._layoutChanged,this),b.fire("palette.create",{container:d})},km.prototype._toggleState=function(a){a=a||{};var b,c=this._getParentContainer(),d=this._container,e=this._eventBus,f=db(d);b="twoColumn"in a?a.twoColumn:this._needsCollapse(c.clientHeight,this._entries||{}),f.toggle(mB,b),"open"in a&&f.toggle(lB,a.open),e.fire("palette.changed",{twoColumn:b,open:this.isOpen()})},km.prototype._update=function(){var a=jb(".djs-palette-entries",this._container),b=this._entries=this.getEntries();fb(a),p(b,function(b,c){var d=b.group||"default",e=jb("[data-group="+d+"]",a);e||(e=Zt('<div class="group" data-group="'+d+'"></div>'),a.appendChild(e));var f=b.html||(b.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),g=Zt(f);
e.appendChild(g),b.separator||(cb(g,"data-action",c),b.title&&cb(g,"title",b.title),b.className&&lm(g,b.className),b.imageUrl&&g.appendChild(Zt('<img src="'+b.imageUrl+'">')))}),this.open()},km.prototype.trigger=function(a,b,c){var d,e,f,g=this._entries,h=b.delegateTarget||b.target;return h?(d=g[cb(h,"data-action")],void(d&&(e=d.action,f=b.originalEvent||b,j(e)?"click"===a&&e(f,c):e[a]&&e[a](f,c),b.preventDefault()))):b.preventDefault()},km.prototype._layoutChanged=function(){this._toggleState({})},km.prototype._needsCollapse=function(a,b){var c=50,d=46*Object.keys(b).length;return a<d+c},km.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},km.prototype.open=function(){this._toggleState({open:!0})},km.prototype.toggle=function(a){this.isOpen()?this.close():this.open()},km.prototype.isActiveTool=function(a){return a&&this._activeTool===a},km.prototype.updateToolHighlight=function(a){var b,c;this._toolsContainer||(b=jb(".djs-palette-entries",this._container),this._toolsContainer=jb("[data-group=tools]",b)),c=this._toolsContainer,p(c.children,function(b){var c=b.getAttribute("data-action");if(c){var d=db(b);c=c.replace("-tool",""),d.contains("entry")&&c===a?d.add("highlighted-entry"):d.remove("highlighted-entry")}})},km.prototype.isOpen=function(){return db(this._container).has(lB)},km.prototype._getParentContainer=function(){return this._canvas.getContainer()},km.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';var nB={__init__:["palette"],palette:["type",km]};mm.$inject=["palette","create","elementFactory","lassoTool","translate"],mm.prototype.getPaletteEntries=function(a){function b(a,b,c,f,g){function h(b){var c=e.createShape(I({type:a},g));d.start(b,c)}return{group:b,className:c,title:f,action:{dragstart:h,click:h}}}var c={},d=this._create,e=this._elementFactory,f=this._lassoTool,g=this._translate;return I(c,{"lasso-tool":{group:"tools",className:"dmn-icon-lasso-tool",title:g("Activate the lasso tool"),action:{click:function(a){f.activateSelection(a)}}},"tool-separator":{group:"tools",separator:!0},"create.decision":b("dmn:Decision","drd","dmn-icon-decision"),"create.input-data":b("dmn:InputData","drd","dmn-icon-input-data"),"create.knowledge-source":b("dmn:KnowledgeSource","drd","dmn-icon-knowledge-source"),"create.business-knowledge-model":b("dmn:BusinessKnowledgeModel","drd","dmn-icon-business-knowledge")}),c};var oB={__depends__:[av,nB,HA,uA],__init__:["paletteProvider"],paletteProvider:["type",mm]},pB=300;nm.$inject=["eventBus","modeling","canvas"],nm.prototype.update=function(a,b){var c={};c[a]=b,this._modeling.updateProperties(this._canvas.getRootElement(),c)},nm.prototype._setup=function(a,b){var c=this;a.setAttribute("contenteditable",!0),a.addEventListener("input",G(function(a){var d=a.target.value||a.target.textContent;c.update(b,d.trim())},pB)),a.addEventListener("keydown",function(b){13===b.keyCode&&(a.blur(),window.getSelection().removeAllRanges())})};var qB={__init__:["definitionPropertiesEdit","definitionPropertiesPaletteAdapter"],definitionPropertiesEdit:["type",nm],definitionPropertiesPaletteAdapter:["type",Xd]};ju(om,te),om.prototype._modelingModules=[Dz,jA,kA,vA,PA,RA,XA,hB,oB,qB],om.prototype._modules=[].concat(om.prototype._modules,om.prototype._modelingModules);var rB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},sB=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),tB=function(a){function b(a,c){pm(this,b);var d=qm(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.handleClick=function(a){a.stopPropagation(),d.addRule()},Mg(d),d.addRule=d.addRule.bind(d),d}return rm(b,a),sB(b,[{key:"componentWillMount",value:function(){this._eventBus=this.context.injector.get("eventBus")}},{key:"addRule",value:function(){this._eventBus.fire("addRule")}},{key:"render",value:function(){var a=this.props.cols,b=[Re(1,"td","add-rule-add",Re(1,"span","dmn-icon-plus action-icon",null,1,{title:"Add Rule"}),2)],c=this.sheet.getRoot(),d=c.businessObject;d.input&&d.input.length||b.push(Re(1,"td","input-cell",Te("-"),2));for(var e=0;e<a.length+1;e++){var f="add-rule",g=a[e]&&a[e].businessObject;g&&(g.$instanceOf("dmn:InputClause")&&(f+=" input-cell"),g.$instanceOf("dmn:OutputClause")&&(f+=" output-cell")),b.push(Re(1,"td",f,Te("-"),2))}return Re(1,"tfoot","actionable add-rule",Re(1,"tr",null,b,0),2,{onClick:this.handleClick})}}]),b}(Aw);tB.$inject=["sheet"];var uB=function nI(a,b,c){sm(this,nI),a.onGetComponent("table.foot",function(){return tB}),c.on("addRule",function(){b.trigger("addRule")})};uB.$inject=["components","editorActions","eventBus"];var vB=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),wB=function(){function a(b,c,d){var e=this;tm(this,a),this._elementRegistry=b,this._eventBus=c,this._renderer=d,this._selection=void 0,c.on("diagram.clear",function(){e._selection=void 0})}return vB(a,[{key:"select",value:function(a){k(a)&&(a=this._elementRegistry.get(a));var b=this._selection;b!==a&&(this._selection=a,this._eventBus.fire("selection.changed",{oldSelection:b,selection:a}))}},{key:"deselect",value:function(){var a=this._selection;this._selection=void 0,this._eventBus.fire("selection.changed",{oldSelection:a,selection:this._selection})}},{key:"get",value:function(){return this._selection}},{key:"hasSelection",value:function(){return!!this._selection}}]),a}();wB.$inject=["elementRegistry","eventBus","renderer"];var xB=function oI(a,b,c,d){um(this,oI),this._elementRegistry=a,this._renderer=c,this._selection=d,b.on(["cell.click","cell.contextmenu"],function(b){var c=b.id,e=a.get(c);e&&d.select(e)}),b.on("row.remove",function(a){var b=a.row,c=d.get();c&&b===c.row&&d.deselect()}),b.on("col.remove",function(a){var b=a.col,c=d.get();c&&b===c.col&&d.deselect()})};xB.$inject=["elementRegistry","eventBus","renderer","selection"];var yB={__init__:["selection","selectionBehavior"],selection:["type",wB],selectionBehavior:["type",xB]},zB=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),AB=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseleave","mouseout","mouseover","mousemove","focusin","focusout","drag","dragstart","dragend","dragover","dragenter","dragleave","drop"],BB=function(){function a(b,c){var d=this;vm(this,a),this._handleEvent=function(a){var b=a.target,c=a.type,e=wm(b);if(e){var f=e.getAttribute("data-element-id");if(f){var g=d._eventBus.createEvent({id:f,event:a,node:e,target:e});d._eventBus.fire("cell."+c,g),g.defaultPrevented&&a.preventDefault(),g.cancelBubble&&a.stopPropagation()}}},this._eventBus=c,this._container=b.container,c.on("table.init",function(){d._addEventListeners(AB)}),c.on("table.destroy",function(){d._removeEventListeners(AB)})}return zB(a,[{key:"_addEventListeners",value:function(a){var b=this,c=this._container;a.forEach(function(a){c.addEventListener(a,b._handleEvent)})}},{key:"_removeEventListeners",value:function(a){var b=this,c=this._container;a.forEach(function(a){c.removeEventListener(a,b._handleEvent)})}}]),a}();BB.$inject=["config.renderer","eventBus"];var CB={__init__:["interactionEvents"],interactionEvents:["type",BB]},DB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},EB=xm,FB=/\b(Array|Date|Object|Math|JSON)\b/g,GB=function(a,b){var c=Am(ym(a));return b&&"string"==typeof b&&(b=Bm(b)),b?zm(a,c,b):c},HB=Cm;Cm.prototype.reset=function(a){return this.node=a||this.start,this},Cm.prototype.revisit=function(a){return this._revisit=void 0==a||a,this},Cm.prototype.opening=function(){return 1==this.node.nodeType&&(this.closingTag=!1),this},Cm.prototype.atOpening=function(){return!this.closingTag},Cm.prototype.closing=function(){return 1==this.node.nodeType&&(this.closingTag=!0),this},Cm.prototype.atClosing=function(){return this.closingTag},Cm.prototype.next=Dm("nextSibling","firstChild"),Cm.prototype.previous=Cm.prototype.prev=Dm("previousSibling","lastChild"),Cm.prototype.select=function(a){return a=this.compile(a),this._selects.push(a),this},Cm.prototype.selects=function(a,b){var c=this._selects,d=c.length;if(!d)return!0;for(var e=0;e<d;e++)if(c[e].call(this,a,b))return!0;return!1},Cm.prototype.reject=function(a){return a=this.compile(a),this._rejects.push(a),this},Cm.prototype.rejects=function(a,b){var c=this._rejects,d=c.length;if(!d)return!0;for(var e=0;e<d;e++)if(c[e].call(this,a,b))return!1;return!0},Cm.prototype.higher=function(a){var b=this.root;if(!b)return!1;for(a=a.parentNode;a&&a!=b;)a=a.parentNode;return a!=b},Cm.prototype.compile=function(a){switch("undefined"==typeof a?"undefined":DB(a)){case"number":return function(b){return a==b.nodeType};case"string":return new Function("node","return "+GB(a,"node."));case"function":return a;default:return function(){return!0}}},Cm.prototype.peak=Cm.prototype.peek=function(a,b){return 1==arguments.length&&(b=a,a=!0),b=void 0==b?1:b,b?b>0?this.next(a,b,!0):this.prev(a,Math.abs(b),!0):this.node},Cm.prototype.use=function(a){return a(this),this};var IB=window.getSelection(),JB=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),KB="[contenteditable]",LB="[data-element-id]",MB=500,NB={above:!0,below:!0,right:!0,left:!0};Wm.$inject=["config.renderer","eventBus","sheet","selection","elementRegistry"];var OB={__depends__:[CB,yB],__init__:["cellSelection"],cellSelection:["type",Wm]},PB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},QB=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),RB=2e3,SB=function(a){function b(a,c){Ym(this,b);var d=Zm(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d._sheet=c,d}return $m(b,a),QB(b,[{key:"init",value:function(){var a=this;this.addRule("col.move",RB,function(b){var c=b.col,d=b.index,e=a._sheet.getRoot(),f=e.businessObject,g=f.input;return _c(c)?d<g.length:d>=g.length}),this.addRule("col.remove",RB,function(b){var c=b.col,d=a._sheet.getRoot(),e=d.cols;return!ad(c)||e.filter(function(a){return ad(a)}).length>1}),this.addRule("paste",RB,function(b){var c=b.data,d=b.target;if(!c||!d)return!1;var e=c.root;return d instanceof Sv?a.canPasteRows(e):d instanceof Tv&&a.canPasteCols(e,d)})}},{key:"canPasteRows",value:function(a){var b=this._sheet.getRoot(),c=b.cols;return r(a,function(a){return"row"===a.type&&(a.cells.length===c.length&&r(a.cells,function(a,b){return _c(c[b])?"dmn:UnaryTests"===a.businessObject.$type:"dmn:LiteralExpression"===a.businessObject.$type}))})}},{key:"canPasteCols",value:function(a,b){var c=this._sheet.getRoot(),d=c.rows;return r(a,function(a){return"col"===a.type&&(a.cells.length===d.length&&(_c(b)?"dmn:InputClause"===a.businessObject.$type:"dmn:OutputClause"===a.businessObject.$type))})}}]),b}(dl);SB.$inject=["eventBus","sheet"];var TB={__depends__:[oz]},UB={__depends__:[TB],__init__:["decisionTableModelingRules"],decisionTableModelingRules:["type",SB]},VB=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),WB=function(){function a(b,c,d){_m(this,a),this._clipboard=b,this._modeling=c,this._sheet=d}return VB(a,[{key:"execute",value:function(a){var b=a.data;return a.oldData=this._clipboard.get(),this._clipboard.set(b),this._sheet.getRoot()}},{key:"postExecute",value:function(a){var b=this,c=a.elements;c.forEach(function(a){a instanceof Sv?b._modeling.removeRow(a):a instanceof Tv&&b._modeling.removeCol(a)})}},{key:"revert",value:function(a){var b=a.oldData;return this._clipboard.set(b),this._sheet.getRoot()}}]),a}();WB.$inject=["clipboard","modeling","sheet"];var XB=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},YB=[gn,hn],ZB=[qn,pn],$B=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_B=function(){function a(b,c,d,e,f,g,h,i){tn(this,a),this._clipboard=b,this._dmnFactory=c,this._elementFactory=d,this._elementRegistry=e,this._eventBus=f,this._model=g,this._modeling=h,this._sheet=i}return $B(a,[{key:"postExecute",value:function(a){var b=this,c=a.element,d=a.after,e=this._clipboard.get();if(!e)throw new Error("missing clipboard data");var f=this._sheet.getRoot(),g=ln(e.elements,{_dmnFactory:this._dmnFactory,_keepIds:e.keepIds,_model:this._model}).root;if(c instanceof Sv){var h=f.rows.indexOf(c);if(h===-1)return;g.forEach(function(a){d&&h++,b._modeling.addRow(a,h)})}else if(c instanceof Tv){var i=f.cols.indexOf(c);if(i===-1)return;g.forEach(function(a){d&&i++,b._modeling.addCol(a,i)})}return a.oldElements=this._clipboard.get(),this._sheet.getRoot()}},{key:"revert",value:function(a){}}]),a}();_B.$inject=["clipboard","dmnFactory","elementFactory","elementRegistry","eventBus","moddle","modeling","sheet"];var aC=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},bC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),cC=function(){function a(b,c,d,e,f,g){un(this,a),this._clipboard=b,this._commandStack=c,this._eventBus=d,this._modeling=e,this._sheet=f,this._rules=g,c.registerHandler("cut",WB),c.registerHandler("paste",_B)}return bC(a,[{key:"copy",value:function(a){g(a)||(a=[a]);var b={elements:cn(a)};this._eventBus.fire("copyCutPaste.copy",{data:b}),this._clipboard.set(b)}},{key:"cut",value:function(a){g(a)||(a=[a]);var b={elements:cn(a),keepIds:!0},c={elements:a,data:b};this._eventBus.fire("copyCutPaste.cut",{data:b}),this._commandStack.execute("cut",c)}},{key:"pasteBefore",value:function(a){return this._paste(a,{before:!0})}},{key:"pasteAfter",value:function(a){return this._paste(a,{after:!0})}},{key:"_paste",value:function(a,b){var c=this._clipboard.get();if(c){var d=this._rules.allowed("paste",{data:c.elements,target:a});return!!d&&(this._commandStack.execute("paste",aC({element:a},b)),!0)}}},{key:"pasteAt",value:function(a){}}]),a}();cC.$inject=["clipboard","commandStack","eventBus","modeling","sheet","rules"];var dC={__depends__:[lA,UB],__init__:["copyCutPaste"],copyCutPaste:["type",cC]},eC=function pI(a,b,c,d,e,f){vn(this,pI);var g={addRule:function(){return c.addRow({type:"dmn:DecisionRule"})},addRuleAbove:function(a){var b=a&&a.rule;if(b||d.hasSelection()){b=b||d.get().row;var e=f.getRoot(),g=e.rows.indexOf(b);if(g!==-1)return c.addRow({type:"dmn:DecisionRule"},g)}},addRuleBelow:function(a){var b=a&&a.rule;if(b||d.hasSelection()){b=b||d.get().row;var e=f.getRoot(),g=e.rows.indexOf(b);if(g!==-1)return c.addRow({type:"dmn:DecisionRule"},g+1)}},removeRule:function(a){var b=a&&a.rule;(b||d.hasSelection())&&(b=b||d.get().row,c.removeRow(b))},addInput:function(){var a=f.getRoot(),b=a.businessObject,d=b.input;return c.addCol({type:"dmn:InputClause"},d?d.length:0)},addInputLeft:function(a){var b=a&&a.input;if(b||d.hasSelection()){b=b||d.get().col;var e=f.getRoot(),g=e.cols.indexOf(b);if(g!==-1)return c.addCol({type:"dmn:InputClause"},g)}},addInputRight:function(a){var b=a&&a.input;if(b||d.hasSelection()){b=b||d.get().col;var e=f.getRoot(),g=e.cols.indexOf(b);if(g!==-1)return c.addCol({type:"dmn:InputClause"},g+1)}},removeInput:function(a){var b=a&&a.input;(b||d.hasSelection())&&(b=b||d.get().col,c.removeCol(b))},addOutput:function(){var a=f.getRoot(),b=a.businessObject,d=b.input,e=b.output;return c.addCol({type:"dmn:OutputClause"},d.length+e.length)},addOutputLeft:function(a){var b=a&&a.output;if(b||d.hasSelection()){b=b||d.get().col;var e=f.getRoot(),g=e.cols.indexOf(b);if(g!==-1)return c.addCol({type:"dmn:OutputClause"},g)}},addOutputRight:function(a){var b=a&&a.output;if(b||d.hasSelection()){b=b||d.get().col;var e=f.getRoot(),g=e.cols.indexOf(b);if(g!==-1)return c.addCol({type:"dmn:OutputClause"},g+1)}},removeOutput:function(a){var b=a&&a.output;(b||d.hasSelection())&&(b=b||d.get().col,c.removeCol(b))},addClause:function(){if(d.hasSelection()){var a=d.get().col;return $c(a,"dmn:InputClause")?g.addInput({input:a}):$c(a,"dmn:OutputClause")?g.addOutput({output:a}):void 0}},addClauseLeft:function(){if(d.hasSelection()){var a=d.get().col;return $c(a,"dmn:InputClause")?g.addInputLeft({input:a}):$c(a,"dmn:OutputClause")?g.addOutputLeft({output:a}):void 0}},addClauseRight:function(){if(d.hasSelection()){var a=d.get().col;return $c(a,"dmn:InputClause")?g.addInputRight({input:a}):$c(a,"dmn:OutputClause")?g.addOutputRight({output:a}):void 0}},removeClause:function(){if(d.hasSelection()){var a=d.get().col;return $c(a,"dmn:InputClause")?g.removeInput({input:a}):$c(a,"dmn:OutputClause")?g.removeOutput({output:a}):void 0}},selectCellAbove:function(){return e.selectCell("above")},selectCellBelow:function(){return e.selectCell("below")},copy:function(b){var c=b.element;a.copy(c)},cut:function(b){var c=b.element;a.cut(c)},pasteBefore:function(b){var c=b.element;return a.pasteBefore(c)},pasteAfter:function(b){var c=b.element;return a.pasteAfter(c)}};b.register(g)};eC.$inject=["copyCutPaste","editorActions","modeling","selection","cellSelection","sheet"];var fC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),gC="is not a registered action",hC="is already registered",iC=function(){function a(b,c,d,e){wn(this,a),this._actions={undo:function(){b.undo()},redo:function(){b.redo()},select:function(a){var b=a.cell;e.select(b)},deselect:function(){e.deselect()},addRow:function(a){var b=a.attrs,c=a.index;d.addRow(b,c)},removeRow:function(a){var b=a.row;d.removeRow(b)},moveRow:function(a){var b=a.row,c=a.index;d.moveRow(b,c)},addCol:function(a){var b=a.attrs,c=a.index;d.addCol(b,c)},removeCol:function(a){var b=a.col;d.removeCol(b)},moveCol:function(a){var b=a.col,c=a.index;d.moveCol(b,c)}}}return fC(a,[{key:"trigger",value:function(a,b){if(!this._actions[a])throw xn(a,gC);return this._actions[a](b)}},{key:"register",value:function(a,b){var c=this;return"string"==typeof a?this._registerAction(a,b):void p(a,function(a,b){c._registerAction(b,a)},this)}},{key:"_registerAction",value:function(a,b){if(this.isRegistered(a))throw xn(a,hC);this._actions[a]=b}},{key:"unregister",value:function(a){if(!this.isRegistered(a))throw xn(a,gC);this._actions[a]=void 0}},{key:"isRegistered",value:function(a){return!!this._actions[a]}}]),a}();iC.$inject=["commandStack","eventBus","modeling","selection"];var jC={__depends__:[yB],__init__:["editorActions"],editorActions:["type",iC]},kC={__depends__:[OB,dC,jC,yB],__init__:["decisionTableEditorActions"],decisionTableEditorActions:["type",eC]},lC={__depends__:[kC],__init__:["addRule"],addRule:["type",uB]},mC=/["'&<>]/,nC=yn,oC=zn,pC=Bn;oC.range=pC;var qC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},rC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),sC=function(a){function b(a,c){Cn(this,b);var d=Dn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onFocus=function(){var a=d.props.onFocus;d.setState({focussed:!0}),"function"==typeof a&&a()},d.onBlur=function(){var a=d.props.onBlur;d.setState({focussed:!1}),"function"==typeof a&&a()},d.onKeydown=function(a){if(13===a.which){if(a.preventDefault(),d.props.ctrlForNewline&&!Kn(a))return;a.stopPropagation(),Hn(),d.onInput(a)}},d.onInput=function(a){var b=d.props.onInput;if("function"==typeof b){var c=Gn(d.node);b(c)}},d.onPaste=In,d.onKeypress=In,d.state={},Jn()&&(d.onPaste=d.onKeypress=function(a){var b=d.node.innerHTML;setTimeout(function(){var c=d.node.innerHTML;b!==c&&d.onInput(a)},0)}),d}return En(b,a),rC(b,[{key:"componentWillUpdate",value:function(a,b){var c=this.node,d=b.focussed&&Im(c);this.selected=d&&{range:d,text:Gn(c)}}},{key:"componentDidUpdate",value:function(){var a=this.selected;if(a){var b=a.range,c=a.text,d=this.node,e=Gn(d),f=e!==c?oC(b,c,e):b;Hm(d,f)}}},{key:"render",value:function(a){var b=this,c=a.value,d=a.className;return c=nC(c).replace(/\r?\n/g,"<br/>")+"<br/>",Re(1,"div",[d||"","content-editable"].join(" "),null,1,{contentEditable:"true",spellcheck:"false",onInput:this.onInput,onKeypress:this.onKeypress,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onKeydown,dangerouslySetInnerHTML:{__html:c}},null,function(a){return b.node=a})}}]),b}(Aw),tC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},uC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),vC=function(a){function b(a,c){Ln(this,b);var d=Mn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.onFocus=function(){d.setState({focussed:!0});var a=d.props.onFocus;"function"==typeof a&&a()},d.onBlur=function(a){d.setState({focussed:!1});var b=d.state.invalid;b&&d.setState({changing:!1,invalid:!1});var c=d.props.onBlur;"function"==typeof c&&c()},d.state={changing:!1,focussed:!1};var e=c.injector,f=e.get("debounceInput");return d.inputChanged=f(function(a){var b=d.props.onChange;"function"==typeof b&&b(a);var c=d.state.changing;d.setState({changing:c!==a&&c})}),d.onInput=function(a){var b=d.props.validate||function(){},c=b(a);d.setState({changing:a,invalid:c}),c||d.inputChanged(a)},d}return Nn(b,a),uC(b,[{key:"getClassName",value:function(){var a=this.props.className,b=this.state,c=b.focussed,d=b.invalid;return a+=" editable",c&&(a+=" focussed"),d&&(a+=" invalid"),a}},{key:"getDisplayValue",value:function(){var a=this.props.value,b=this.state,c=b.focussed,d=b.changing;return"string"==typeof d&&(a=d),a||(a=c?"":"-"),a}},{key:"getEditor",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Se(2,sC,{className:a.className,ctrlForNewline:a.ctrlForNewline,onFocus:this.onFocus,onBlur:this.onBlur,onInput:this.onInput,value:this.getDisplayValue()})}}]),b}(Aw),wC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},xC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),yC=function(a){function b(a,c){On(this,b);var d=Pn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onElementsChanged=function(){d.forceUpdate()},d.setAnnotationValue=function(a){var b=d.props.row;d.modeling.editAnnotation(b.businessObject,a)},Mg(d),d}return Qn(b,a),xC(b,[{key:"componentWillMount",value:function(){var a=this.props.row;this.changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.props.row;this.changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.props,b=a.row,c=a.rowIndex,d=b.businessObject,e=d.description,f=d.id;return Se(2,Xw,{className:"annotation",onChange:this.setAnnotationValue,coords:c+":annotation",value:e,elementId:f+"__annotation","data-row-id":b.id,children:Se(2,zC,{ctrlForNewline:!0,className:"annotation-editor",onChange:this.setAnnotationValue,value:e})})}}]),b}(Aw);yC.$inject=["changeSupport","modeling"];var zC=function(a){function b(){return On(this,b),Pn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Qn(b,a),xC(b,[{key:"render",value:function(){return Re(1,"div",this.getClassName(),this.getEditor(),0)}}]),b}(vC);Rn.$inject=["components"];var AC=300;Sn.$inject=["config.debounceInput"];var BC={debounceInput:["factory",Sn]},CC={__depends__:[BC],__init__:["annotationsProvider"],annotationsProvider:["type",Rn]},DC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},EC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),FC=function(a){function b(a,c){Tn(this,b);var d=Un(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return GC.call(d),d.state={isOpen:!1,position:{x:0,y:0}},Mg(d),d}return Vn(b,a),EC(b,[{key:"componentDidMount",value:function(){this.eventBus.on("contextMenu.open",this.open),this.eventBus.on("contextMenu.close",this.close)}},{key:"componentWillUnmount",value:function(){this.eventBus.off("contextMenu.open",this.open),this.eventBus.off("contextMenu.close",this.close)}},{key:"render",value:function(){var a=this.state,b=a.isOpen,c=a.context,d=a.position;if(!b)return null;var e=this.components.getComponents("context-menu",c);return e.length?Se(2,HC,{className:"context-menu no-deselect",context:c,position:d,offset:c.offset||{x:0,y:0},autoFocus:c.autoFocus!==!1,autoClose:c.autoClose!==!1,components:e,onClose:this.triggerClose}):null}}]),b}(Aw),GC=function(){var a=this;this.open=function(b){var c=b.position,d=b.context;a.close(),a.setState({isOpen:!0,position:c||{x:0,y:0},context:d||{}})},this.close=function(){a.state.isOpen&&a.setState({context:void 0,isOpen:!1,position:{x:0,y:0}})},this.triggerClose=function(){a.eventBus.fire("contextMenu.close")}};FC.$inject=["eventBus","components"];var HC=function(a){function b(a,c){Tn(this,b);var d=Un(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onGlobalClick=function(a){d.checkClose(a.target)},d.onGlobalKey=function(a){var b=a.which;13!==b&&27!==b||(a.stopPropagation(),a.preventDefault(),d.close())},d.onFocusChanged=function(a){d.checkClose(a.target)},d.setNode=function(a){d.node=a;var b=d.props.autoFocus;a&&(b&&Xn(a),d.updatePosition())},Mg(d),d}return Vn(b,a),EC(b,[{key:"close",value:function(){var a=this.props.onClose;j(a)&&a()}},{key:"checkClose",value:function(a){var b=this.props.autoClose;if(b){var c=this.node;c&&c!==a&&(c.contains(a)||this.close())}}},{key:"componentDidMount",value:function(){document.addEventListener("focusin",this.onFocusChanged),document.addEventListener("keydown",this.onGlobalKey),document.addEventListener("click",this.onGlobalClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("keydown",this.onGlobalKey),document.removeEventListener("click",this.onGlobalClick)}},{key:"updatePosition",value:function(){var a=this.props,b=a.position,c=a.offset,d=this.node.getBoundingClientRect();b.width||(b.width=0),b.height||(b.height=0);var e=this.renderer.getContainer(),f=e.getBoundingClientRect();f.width>f.height?(this.node.classList.add("horizontal"),this.node.classList.remove("vertical")):(this.node.classList.add("vertical"),this.node.classList.remove("horizontal"));var g=e.scrollLeft,h=e.scrollTop,i={};if(b.x+b.width/2>f.width/2){var j=b.x-f.left-d.width+c.x+g;j=Wn(j,0+g,f.width-d.width+g),i.left=j+"px"}else{var k=window.scrollX-f.left+b.x+b.width-c.x+g;k=Wn(k,0+g,f.width-d.width+g),i.left=k+"px"}var l=void 0;b.y+b.height/2>f.height/2?(l=b.y-f.top-d.height+c.y+h,l=Wn(l,0+h,f.height-d.height+h),i.top=l+"px"):(l=window.scrollY-f.top+b.y-c.y+h,l=Wn(l,0+h,f.height-d.height+h),i.top=l+"px"),i.overflowY="auto",i.maxHeight=f.height-l+h+"px",I(this.node.style,i)}},{key:"render",value:function(){var a=this.props,b=a.context,c=a.components,d=a.className;return Re(1,"div",d,c.map(function(a,c){return Se(2,a,{context:b},c)}),0,{onContextMenu:function(a){return a.preventDefault()}},null,this.setNode)}}]),b}(Aw);HC.$inject=["renderer"];var IC="\n  input[type=text],\n  input[type=number],\n  input[type=button],\n  input[type=submit],\n  [contenteditable],\n  [tabindex],\n  a[href],\n  textarea,\n  button\n",JC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),KC=function(){function a(b,c,d){Yn(this,a),this._eventBus=c,b.onGetComponent("table.before",function(){return FC})}return JC(a,[{key:"open",value:function(a,b){this._eventBus.fire("contextMenu.open",{position:a,context:b})}},{key:"close",value:function(){this._eventBus.fire("contextMenu.close")}}]),a}();KC.$inject=["components","eventBus","renderer"];var LC={__init__:["contextMenu"],contextMenu:["type",KC]},MC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),NC=function(){function a(b,c,d,e,f,g,h){var i=this;_n(this,a),this._clearClipboard=function(){i._clipboard.clear()},this._registerBindings=function(){var a=function(a,b){if(Zn(b)&&67===a){var c=i._getSelectedCell();if(!c)return;return $n(b)?i._editorActions.trigger("copy",{element:c.col}):i._editorActions.trigger("copy",{element:c.row}),!0}},b=function(a,b){if(Zn(b)&&88===a){var c=i._getSelectedCell();if(!c)return;return $n(b)?i._editorActions.trigger("cut",{element:c.col}):i._editorActions.trigger("cut",{element:c.row}),!0}},c=function(a,b){var c=void 0;if(Zn(b)&&86===a){var d=i._getSelectedCell();if(!d)return;$n(b)?(c=i._editorActions.trigger("pasteAfter",{element:d.col}),c&&i._cellSelection.selectCell("right")):(c=i._editorActions.trigger("pasteAfter",{element:d.row}),c&&i._cellSelection.selectCell("below"));
}return"undefined"!=typeof c};[a,b,c].forEach(function(a){i._keyboard.addListener(a)})},this._clipboard=d,this._cellSelection=e,this._elementRegistry=f,this._editorActions=g,this._keyboard=b.get("keyboard",!1),this._renderer=h,this._keyboard&&(c.on("keyboard.init",this._registerBindings),c.on("keyboard.bind",function(){Ut.bind(document,"copy",i._clearClipboard,!0),Ut.bind(document,"cut",i._clearClipboard,!0)}),c.on("keyboard.unbind",function(){Ut.unbind(document,"copy",i._clearClipboard,!0),Ut.unbind(document,"cut",i._clearClipboard,!0)}))}return MC(a,[{key:"_getSelectedCell",value:function(){var a=this._cellSelection.getCellSelection();if(a){var b=this._elementRegistry.get(a);if(b){var c=this._renderer.getContainer(),d=Rm(a,c),e=Um(d);if(document.activeElement===e){var f=Im(d);if(!f||f.start===f.end)return b}}}}}]),a}();NC.$inject=["injector","eventBus","clipboard","cellSelection","elementRegistry","editorActions","renderer"];var OC={__depends__:[lA,OB],__init__:["copyCutPasteKeyBindings"],copyCutPasteKeyBindings:["type",NC]},PC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},QC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),RC=function(a){function b(a,c){ao(this,b);var d=bo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onClick=function(a){d.editorActions.trigger("addInput")},Mg(d),d}return co(b,a),QC(b,[{key:"render",value:function(){return Re(1,"th","input-cell create-inputs header actionable",[Te("Input "),Re(1,"span","add-input dmn-icon-plus action-icon",null,1,{title:"Add Input"})],4,{onClick:this.onClick,rowspan:"3",title:"Add Input"})}}]),b}(Aw);RC.$inject=["editorActions"];var SC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},TC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),UC=function(a){function b(a,c){eo(this,b);var d=fo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onClick=function(a){d.editorActions.trigger("addInput")},Mg(d),d}return go(b,a),TC(b,[{key:"render",value:function(){return Re(1,"td","input-cell create-inputs",Te("-"),2,{onClick:this.onClick,title:"Add Input"})}}]),b}(Aw);UC.$inject=["editorActions"];var VC=500,WC=function qI(a,b){ho(this,qI),a.onGetComponent("cell",VC,function(a){var c=a.cellType,d=b.getRoot(),e=d.businessObject;if(!e.input||!e.input.length)return"before-label-cells"===c?RC:"before-rule-cells"===c?UC:void 0})};WC.$inject=["components","sheet"];var XC={__depends__:[kC],__init__:["createInputsProvider"],createInputsProvider:["type",WC]},YC=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ZC=function(){function a(b,c,d,e,f,g,h,i,j){var k=this;io(this,a),this._contextMenu=c,this._clipboard=d,this._editorActions=e,this._elementRegistry=g,this._eventBus=f,this._modeling=h,this._sheet=i,this._rules=j,this._getEntries=this._getEntries.bind(this),b.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"context-menu"===a.contextMenuType){var c=k._getEntries(a),d=k._elementRegistry.get(a.id),e=jo(d)&&b.getComponents("context-menu-cell-additional",a);if(e&&e.length){var f=Re(1,"div","context-menu-group context-menu-group-cell",[Re(1,"h4","context-menu-group-title",Te("Cell"),2),e],0);return function(){return Re(1,"div","context-menu-flex",(c||[]).concat([f]),0)}}return function(){return Re(1,"div","context-menu-flex",c||[],0)}}}),f.on("cell.contextmenu",function(a){var b=a.event,d=a.id;a.node;b.preventDefault(),c.open({x:b.pageX,y:b.pageY},{contextMenuType:"context-menu",id:d})})}return YC(a,[{key:"_getEntries",value:function(a){var b=this,c={addRuleAbove:function(a){b._editorActions.trigger("addRuleAbove",{rule:a}),b._contextMenu.close()},addRuleBelow:function(a){b._editorActions.trigger("addRuleBelow",{rule:a}),b._contextMenu.close()},removeRule:function(a){b._editorActions.trigger("removeRule",{rule:a}),b._contextMenu.close()},addInputLeft:function(a){b._editorActions.trigger("addInputLeft",{input:a}),b._contextMenu.close()},addInputRight:function(a){b._editorActions.trigger("addInputRight",{input:a}),b._contextMenu.close()},removeInput:function(a){b._editorActions.trigger("removeInput",{input:a}),b._contextMenu.close()},addOutputLeft:function(a){b._editorActions.trigger("addOutputLeft",{output:a}),b._contextMenu.close()},addOutputRight:function(a){b._editorActions.trigger("addOutputRight",{output:a}),b._contextMenu.close()},removeOutput:function(a){b._editorActions.trigger("removeOutput",{output:a}),b._contextMenu.close()},copy:function(a){b._editorActions.trigger("copy",{element:a}),b._contextMenu.close()},cut:function(a){b._editorActions.trigger("cut",{element:a}),b._contextMenu.close()},pasteBefore:function(a){b._editorActions.trigger("pasteBefore",{element:a}),b._contextMenu.close()},pasteAfter:function(a){b._editorActions.trigger("pasteAfter",{element:a}),b._contextMenu.close()}},d=a&&a.id;if(!d)return null;var e=this._elementRegistry.get(d);if(!e)return null;var f=this._clipboard.get()||{},g=[];if($c(e.row,"dmn:DecisionRule")){var h=this._rules.allowed("paste",{data:f.elements,target:e.row});g.push(Re(1,"div","context-menu-group context-menu-group-rule",[Re(1,"h4","context-menu-group-title",Te("Rule"),2),Re(1,"div","context-menu-group-entry context-menu-entry-add-rule-above",[Re(1,"span","context-menu-group-entry-icon dmn-icon-up"),Te("Add Above")],4,{onClick:function(){return c.addRuleAbove(e.row)}}),Re(1,"div","context-menu-group-entry context-menu-entry-add-rule-below",[Re(1,"span","context-menu-group-entry-icon dmn-icon-down"),Te("Add Below")],4,{onClick:function(){return c.addRuleBelow(e.row)}}),Re(1,"div","context-menu-group-entry context-menu-entry-remove-rule",[Re(1,"span","context-menu-group-entry-icon dmn-icon-clear"),Te("Remove")],4,{onClick:function(){return c.removeRule(e.row)}}),Re(1,"div","context-menu-group-entry context-menu-entry-copy-rule",[Re(1,"span","context-menu-group-entry-icon dmn-icon-copy"),Te("Copy")],4,{onClick:function(){return c.copy(e.row)}}),Re(1,"div","context-menu-group-entry context-menu-entry-cut-rule",[Re(1,"span","context-menu-group-entry-icon dmn-icon-cut"),Te("Cut")],4,{onClick:function(){return c.cut(e.row)}}),Re(1,"div","context-menu-group-entry "+(h?"":"disabled")+" context-menu-entry-paste-rule-above",[Re(1,"span","context-menu-group-entry-icon dmn-icon-paste"),Te("Paste Above")],4,{onClick:function(){return c.pasteBefore(e.row)}}),Re(1,"div","context-menu-group-entry "+(h?"":"disabled")+" context-menu-entry-paste-rule-below",[Re(1,"span","context-menu-group-entry-icon dmn-icon-paste"),Te("Paste Below")],4,{onClick:function(){return c.pasteAfter(e.row)}})],4))}if($c(e,"dmn:InputClause")||$c(e.col,"dmn:InputClause")){var i=$c(e,"dmn:InputClause")?e:e.col,j=this._rules.allowed("col.remove",{col:e.col||e}),k=this._rules.allowed("paste",{data:f.elements,target:e.col||e});g.push(Re(1,"div","context-menu-group context-menu-group-input",[Re(1,"h4","context-menu-group-title",Te("Input"),2),Re(1,"div","context-menu-group-entry context-menu-entry-add-input-left",[Re(1,"span","context-menu-group-entry-icon dmn-icon-left"),Te("Add Left")],4,{onClick:function(){return c.addInputLeft(i)}}),Re(1,"div","context-menu-group-entry context-menu-entry-add-input-right",[Re(1,"span","context-menu-group-entry-icon dmn-icon-right"),Te("Add Right")],4,{onClick:function(){return c.addInputRight(i)}}),Re(1,"div","context-menu-group-entry "+(j?"":"disabled")+" context-menu-entry-remove-input",[Re(1,"span","context-menu-group-entry-icon dmn-icon-clear"),Te("Remove")],4,{onClick:function(){return c.removeInput(i)}}),Re(1,"div","context-menu-group-entry context-menu-entry-copy-input",[Re(1,"span","context-menu-group-entry-icon dmn-icon-copy"),Te("Copy")],4,{onClick:function(){return c.copy(i)}}),Re(1,"div","context-menu-group-entry "+(j?"":"disabled")+" context-menu-entry-cut-input",[Re(1,"span","context-menu-group-entry-icon dmn-icon-cut"),Te("Cut")],4,{onClick:function(){return c.cut(i)}}),Re(1,"div","context-menu-group-entry "+(k?"":"disabled")+" context-menu-entry-paste-input-left",[Re(1,"span","context-menu-group-entry-icon dmn-icon-paste"),Te("Paste Left")],4,{onClick:function(){return c.pasteBefore(i)}}),Re(1,"div","context-menu-group-entry "+(k?"":"disabled")+" context-menu-entry-paste-input-right",[Re(1,"span","context-menu-group-entry-icon dmn-icon-paste"),Te("Paste Right")],4,{onClick:function(){return c.pasteAfter(i)}})],4))}else if($c(e,"dmn:OutputClause")||$c(e.col,"dmn:OutputClause")){var l=$c(e,"dmn:OutputClause")?e:e.col,m=this._rules.allowed("col.remove",{col:e.col||e}),n=this._rules.allowed("paste",{data:f.elements,target:e.col||e});g.push(Re(1,"div","context-menu-group context-menu-group-output",[Re(1,"h4","context-menu-group-title",Te("Output"),2),Re(1,"div","context-menu-group-entry context-menu-entry-add-output-left",[Re(1,"span","context-menu-group-entry-icon dmn-icon-left"),Te("Add Left")],4,{onClick:function(){return c.addOutputLeft(l)}}),Re(1,"div","context-menu-group-entry context-menu-entry-add-output-right",[Re(1,"span","context-menu-group-entry-icon dmn-icon-right"),Te("Add Right")],4,{onClick:function(){return c.addOutputRight(l)}}),Re(1,"div","context-menu-group-entry "+(m?"":"disabled")+" context-menu-entry-remove-output",[Re(1,"span","context-menu-group-entry-icon dmn-icon-clear"),Te("Remove")],4,{onClick:function(){return c.removeOutput(l)}}),Re(1,"div","context-menu-group-entry context-menu-entry-copy-output",[Re(1,"span","context-menu-group-entry-icon dmn-icon-copy"),Te("Copy")],4,{onClick:function(){return c.copy(l)}}),Re(1,"div","context-menu-group-entry "+(m?"":"disabled")+" context-menu-entry-cut-output",[Re(1,"span","context-menu-group-entry-icon dmn-icon-cut"),Te("Cut")],4,{onClick:function(){return c.cut(l)}}),Re(1,"div","context-menu-group-entry "+(n?"":"disabled")+" context-menu-entry-paste-output-left",[Re(1,"span","context-menu-group-entry-icon dmn-icon-paste"),Te("Paste Left")],4,{onClick:function(){return c.pasteBefore(l)}}),Re(1,"div","context-menu-group-entry "+(n?"":"disabled")+" context-menu-entry-paste-output-right",[Re(1,"span","context-menu-group-entry-icon dmn-icon-paste"),Te("Paste Right")],4,{onClick:function(){return c.pasteAfter(l)}})],4))}return g}}]),a}();ZC.$inject=["components","contextMenu","clipboard","editorActions","eventBus","elementRegistry","modeling","sheet","rules"];var $C=["row.add","row.remove","col.add","col.remove"],_C=function rI(a,b){ko(this,rI),b.on("commandStack.executed",function(b){var c=b.command;$C.indexOf(c)!==-1&&a.close()}),b.on("commandStack.reverted",function(){a.close()})};_C.$inject=["contextMenu","eventBus"];var aD={__depends__:[kC,LC,UB],__init__:["decisionTableContextMenu","contextMenuCloseBehavior"],decisionTableContextMenu:["type",ZC],contextMenuCloseBehavior:["type",_C]},bD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},cD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),dD=function(a){function b(a,c){lo(this,b);var d=mo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onClick=function(a){var b=d.props.output;d._eventBus.fire("output.edit",{event:a,output:b})},d.onContextmenu=function(a){var b=d.props.output.id;d._eventBus.fire("cell.contextmenu",{event:a,id:b})},d.onElementsChanged=function(){d.forceUpdate()},Pg(d,hx),d}return no(b,a),cD(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._changeSupport=this.context.changeSupport,this._eventBus=a.get("eventBus"),this._elementRegistry=a.get("elementRegistry");var b=this.props.output;this._changeSupport.onElementsChanged(b.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.props.output;this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.props.output,b=a.get("label"),c=a.get("name");return Re(1,"th","output-cell output-editor",[this.slotFills({type:"cell-inner",context:{cellType:"output-cell",col:this._elementRegistry.get(a.id)},col:a}),b?Re(1,"span","output-label",b,0,{title:"Output Label"}):Re(1,"span","output-name",c||"-",0,{title:"Output Expression"})],0,{"data-col-id":a.id,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),b}(Aw),eD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},fD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),gD=function(a){function b(a,c){oo(this,b);var d=po(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onInput=function(a){var b=d.props.onInput;"function"==typeof b&&b(a.target.value)},d.onKeyDown=function(a){var b=d.props.onKeyDown;"function"==typeof b&&b(a)},d.onKeyUp=function(a){var b=d.props.onKeyUp;"function"==typeof b&&b(a)},d}return qo(b,a),fD(b,[{key:"render",value:function(){var a=this.props,b=a.className,c=a.placeholder,d=a.type,e=a.value;return Re(64,"input",[b||"","dms-input"].join(" "),null,1,{placeholder:c||"",onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellcheck:"false",type:d||"text",value:e})}}]),b}(Aw),hD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},iD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),jD=function(a){function b(a,c){ro(this,b);var d=so(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.setName=function(a){a=a||void 0,d.handleChange({name:a})},d.setLabel=function(a){a=a||void 0,d.handleChange({label:a})},d}return to(b,a),iD(b,[{key:"handleChange",value:function(a){var b=this.props.onChange;"function"==typeof b&&b(a)}},{key:"render",value:function(){var a=this.props,b=a.name,c=a.label;return Re(1,"div","dms-container ref-output-editor",[Re(1,"p","dms-fill-row",[Re(1,"label","dms-label",Te("Output Name"),2),Se(2,gD,{className:"ref-output-name",value:b||"",onInput:this.setName})],4),Re(1,"p","dms-fill-row",[Re(1,"label","dms-label",Te("Output Label"),2),Se(2,gD,{className:"ref-output-label",value:c||"",onInput:this.setLabel})],4)],4)}}]),b}(Aw),kD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},lD=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},mD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),nD=function(a){function b(a,c){uo(this,b);var d=vo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.persistChanges=function(){var a=d.props.context.output,b=d.state.unsaved;b&&(d.modeling.updateProperties(a,b),d.setState({unsaved:!1}))},d.handleChange=function(a){d.setState({unsaved:lD({},d.state.unsaved,a)},d.persistChanges)},d.state={},Mg(d),d.persistChanges=d.debounceInput(d.persistChanges),d}return wo(b,a),mD(b,[{key:"getValue",value:function(a){var b=this.props.context.output,c=this.state.unsaved;return c&&c[a]||b.get(a)}},{key:"render",value:function(){return Re(1,"div","context-menu-container output-edit",Se(2,jD,{name:this.getValue("name"),label:this.getValue("label"),onChange:this.handleChange}),2)}}]),b}(Aw);nD.$inject=["debounceInput","modeling"];var oD=function sI(a,b,c,d){xo(this,sI),a.onGetComponent("cell",function(a){var b=a.cellType;if("output-header"===b)return dD}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("output-edit"===a.contextMenuType)return nD}),c.on("output.edit",function(a){var c=a.event,e=a.output,f=c.target,g=Ot(f,"th",!0),h=g.getBoundingClientRect(),i=h.left,j=h.top,k=h.width,l=h.height,m=d.getContainer();b.open({x:i+m.parentNode.scrollLeft,y:j+m.parentNode.scrollTop,width:k,height:l},{contextMenuType:"output-edit",output:e,offset:{x:4,y:4}})})};oD.$inject=["components","contextMenu","eventBus","renderer"];var pD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},qD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),rD=function(a){function b(a,c){yo(this,b);var d=zo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onClick=function(a){var b=d.props.input;d._eventBus.fire("input.edit",{event:a,input:b})},d.onContextmenu=function(a){var b=d.props.input.id;d._eventBus.fire("cell.contextmenu",{event:a,id:b})},d.onElementsChanged=function(){d.forceUpdate()},Pg(d,hx),d}return Ao(b,a),qD(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._changeSupport=this.context.changeSupport,this._sheet=a.get("sheet"),this._eventBus=a.get("eventBus"),this._elementRegistry=a.get("elementRegistry");var b=this._sheet.getRoot(),c=this.props.input;this._changeSupport.onElementsChanged(b.id,this.onElementsChanged),this._changeSupport.onElementsChanged(c.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this._sheet.getRoot(),b=this.props.input;this._changeSupport.offElementsChanged(a.id,this.onElementsChanged),this._changeSupport.offElementsChanged(b.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.props.input,b=a.inputExpression,c=a.get("label"),d=a.get("inputVariable"),e=b.get("expressionLanguage")||"FEEL",f=!c&&"FEEL"!=e;return Re(1,"th","input-cell input-editor",[this.slotFills({type:"cell-inner",context:{cellType:"input-cell",col:this._elementRegistry.get(a.id)},col:a}),c?Re(1,"span","input-label",c,0,{title:"Input Label"}):Re(1,"span","input-expression",b.text||"-",0,{title:"Input Expression"}),d&&Re(1,"span","dms-badge dmn-variable-name input-variable",d,0,{title:"Input Variable"}),f&&Re(1,"span","dms-badge dmn-expression-language input-expression-language",[Re(1,"span","dms-badge-icon dmn-icon-file-code"),Re(1,"span","dms-badge-label",e,0)],4,{title:"Input Expression Language = "+e})],0,{"data-col-id":a.id,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),b}(Aw),sD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},tD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),uD=function(a){function b(a,c){Bo(this,b);var d=Co(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));vD.call(d),Mg(d);var e=a.value;return d.state={value:e,optionsVisible:!1},d._portalEl=null,d}return Do(b,a),tD(b,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("click",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}},{key:"componentWillReceiveProps",value:function(a){var b=a.value;this.setState({value:b})}},{key:"componentWillUpdate",value:function(a,b){var c=b.optionsVisible;c?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}},{key:"componentDidUpdate",value:function(){var a=this.state.optionsVisible;if(a&&this.inputNode){var b=this.inputNode.getBoundingClientRect(),c=b.top,d=b.left,e=b.width,f=b.height;I(this._portalEl.style,{top:c+f+"px",left:d+"px",width:e+"px"})}}},{key:"addPortalEl",value:function(){this._portalEl=Zt('<div class="dms-select-options"></div>');var a=this.renderer.getContainer();a.appendChild(this._portalEl)}},{key:"removePortalEl",value:function(){this._portalEl&&(lb(this._portalEl),this._portalEl=null)}},{key:"focusInput",value:function(){var a=this.inputNode;a.focus(),"selectionStart"in a&&(a.selectionStart=1e5)}},{key:"checkClose",value:function(a){!this._portalEl||this._portalEl.contains(a)||this.parentNode.contains(a)||this.setOptionsVisible(!1)}},{key:"select",value:function(a){var b=this.props.options,c=this.state.value;if(b){var d=b.filter(function(a){return a.value===c})[0],e=d?b.indexOf(d):-1,f=e===-1?1===a?0:b.length-1:(e+a)%b.length,g=b[f<0?b.length+f:f];this.onChange(g.value)}}},{key:"setOptionsVisible",value:function(a){this.setState({optionsVisible:a})}},{key:"renderOptions",value:function(a,b){var c=this;return Re(1,"div","options",a.map(function(a){return Re(1,"div",["option",b===a?"active":""].join(" "),a.label,0,{"data-value":a.value,onClick:function(b){return c.onOptionClick(a.value,b)}})}),0)}},{key:"render",value:function(){var a=this,b=this.props,c=b.className,d=b.options,e=b.noInput,f=this.state,g=f.optionsVisible,h=f.value,i=!!d&&d.filter(function(a){return a.value===h})[0],j=i?i.label:h;return Re(1,"div",[c||"","dms-input-select"].join(" "),[e?Re(1,"div","dms-input",j,0,{tabindex:"0",onKeyDown:this.onKeyDown},null,function(b){return a.inputNode=b}):Re(64,"input","dms-input",null,1,{onInput:this.onInput,onKeyDown:this.onKeyDown,spellcheck:"false",type:"text",value:h},null,function(b){return a.inputNode=b}),Re(1,"span",["dms-input-select-icon",g?"dmn-icon-up":"dmn-icon-down"].join(" ")),g&&lg(this.renderOptions(d,i),this._portalEl)],0,{onClick:this.onInputClick},null,function(b){return a.parentNode=b})}}]),b}(Aw),vD=function(){var a=this;this.onChange=function(b){a.setState({value:b});var c=a.props.onChange;"function"==typeof c&&c(b)},this.onInputClick=function(b){b.preventDefault(),b.stopPropagation(),a.setOptionsVisible(!a.state.optionsVisible),a.focusInput()},this.onInput=function(b){var c=b.target.value;a.onChange(c)},this.onOptionClick=function(b,c){c.preventDefault(),c.stopPropagation(),a.setOptionsVisible(!1),a.onChange(b),a.focusInput()},this.onFocusChanged=function(b){a.checkClose(b.target)},this.onGlobalClick=function(b){a.checkClose(b.target)},this.onKeyDown=function(b){var c=a.state.optionsVisible,d=b.which;40!==d&&38!==d||(b.stopPropagation(),b.preventDefault(),c?a.select(40===d?1:-1):a.setOptionsVisible(!0)),c&&(13!==d&&27!==d||(b.stopPropagation(),b.preventDefault(),a.setOptionsVisible(!1)))},this.onKeyboard=function(b){var c=a.state.optionsVisible;if(c)return 27===b?(a.setOptionsVisible(!1),!0):void 0}};uD.$inject=["keyboard","renderer"];var wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},xD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),yD=function(a){function b(a,c){Eo(this,b);var d=Fo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.setExpressionLanguage=function(a){d.handleChange({expressionLanguage:a})},d.makeScript=function(a){a.preventDefault(),a.stopPropagation(),d.setExpressionLanguage("FEEL")},d.handleValue=function(a){var b=d.props.expressionLanguage,c={text:a};Ho(a)&&!b&&(c.expressionLanguage="FEEL"),Ho(a)||"FEEL"!==b||(c.expressionLanguage=void 0),d.handleChange(c)},d.handleLanguageChange=function(a){d.setExpressionLanguage(a)},d.handleLabelChange=function(a){var b=a||void 0;d.handleChange({label:b})},d.handleInputVariableChange=function(a){var b=a||void 0;d.handleChange({inputVariable:b})},d}return Go(b,a),xD(b,[{key:"handleChange",value:function(a){var b=this.props.onChange;"function"==typeof b&&b(a)}},{key:"render",value:function(){var a=this.props,b=a.expressionLanguage,c=a.inputVariable,d=a.label,e=a.text,f=b||Ho(e),g=[!Ho(e)&&"","FEEL","JUEL","JavaScript","Groovy","Python"].filter(k).map(function(a){return{label:a,value:a}});return Re(1,"div","dms-container ref-input-editor",[Re(1,"h4","dms-heading",Te("Input Expression"),2),Se(2,sC,{placeholder:"enter expression",ctrlForNewline:!0,className:["ref-text","dms-input",f?"dms-script-input script-editor":"","dms-fit-row"].join(" "),onInput:this.handleValue,value:e||""}),!f&&Re(1,"p","dms-hint",[Te("Enter simple "),Re(1,"code",null,Te("FEEL"),2),Te(" expression or "),Re(1,"a","ref-make-script",Te("change to script"),2,{href:"#",onClick:this.makeScript}),Te(".")],4),f&&Re(1,"p","dms-hint",Te("Enter script."),2),f&&Re(1,"p",null,[Re(1,"label","dms-label",Te("Expression Language"),2),Se(2,uD,{className:"ref-language",value:b||"",onChange:this.handleLanguageChange,options:g})],4),Re(1,"hr","dms-hrule"),Re(1,"p","dms-fill-row",[Re(1,"label","dms-label",Te("Input Label"),2),Se(2,gD,{className:"ref-input-label",value:d||"",onInput:this.handleLabelChange})],4),Re(1,"p","dms-fill-row",[Re(1,"label","dms-label",Te("Input Variable"),2),Se(2,gD,{className:"ref-input-variable",value:c||"",onInput:this.handleInputVariableChange,placeholder:"cellInput"})],4)],0)}}]),b}(Aw),zD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},AD=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},BD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),CD=function(a){function b(a,c){Jo(this,b);var d=Ko(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.persistChanges=function(){var a=d.props.context.input,b=d.state.unsaved;if(b){var c=b.inputVariable,e=b.label,f=Io(b,["inputVariable","label"]),g={};"inputVariable"in b&&(g.inputVariable=c),"label"in b&&(g.label=e),Mo(f)&&(g.inputExpression=f),d.modeling.updateProperties(a,g),d.setState({unsaved:!1})}},d.handleChange=function(a){d.setState({unsaved:AD({},d.state.unsaved,a)},d.persistChanges)},d.state={},Mg(d),d.persistChanges=d.debounceInput(d.persistChanges),d}return Lo(b,a),BD(b,[{key:"getValue",value:function(a){var b=this.props.context.input,c=this.state.unsaved,d=b;return"expressionLanguage"!==a&&"text"!==a||(d=d.inputExpression),c&&c[a]||d.get(a)}},{key:"render",value:function(){return Re(1,"div","context-menu-container input-edit",Se(2,yD,{expressionLanguage:this.getValue("expressionLanguage"),inputVariable:this.getValue("inputVariable"),label:this.getValue("label"),text:this.getValue("text"),onChange:this.handleChange}),2)}}]),b}(Aw);CD.$inject=["debounceInput","modeling"];var DD=function tI(a,b,c,d){No(this,tI),a.onGetComponent("cell",function(a){var b=a.cellType;if("input-header"===b)return rD}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("input-edit"===a.contextMenuType)return CD}),c.on("input.edit",function(a){var c=a.event,e=a.input,f=c.target,g=Ot(f,"th",!0),h=g.getBoundingClientRect(),i=h.left,j=h.top,k=h.width,l=h.height,m=d.getContainer();b.open({x:i+m.parentNode.scrollLeft,y:j+m.parentNode.scrollTop,width:k,height:l},{contextMenuType:"input-edit",input:e,offset:{x:4,y:4}})})};DD.$inject=["components","contextMenu","eventBus","renderer"];var ED="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},FD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),GD=function(a){function b(a){Oo(this,b);var c=Po(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onClick=function(a){var b=c.getTypeRefTarget();c._eventBus.fire("typeRef.edit",{event:a,element:b})},c.onContextmenu=function(a){var b=c.props.element,d=b;$c(b,"dmn:LiteralExpression")&&(d=b.$parent),c._eventBus.fire("cell.contextmenu",{event:a,node:a.node,id:d.id})},c.onElementsChanged=function(){c.forceUpdate()},c}return Qo(b,a),FD(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._changeSupport=this.context.changeSupport,this._sheet=a.get("sheet"),this._eventBus=a.get("eventBus");var b=this.getTypeRefTarget();this._changeSupport.onElementsChanged(b.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getTypeRefTarget();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getTypeRefTarget",value:function(){var a=this.props.element;return $c(a,"dmn:InputClause")?a.inputExpression:a}},{key:"render",value:function(){var a=this.props,b=a.element,c=a.className,d=(c||"")+" type-ref",e=$c(b,"dmn:LiteralExpression")?b.$parent.id:b.id;return Re(1,"th",d,b.typeRef,0,{title:"Data Type","data-col-id":e,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),b}(Aw),HD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ID=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),JD=["string","boolean","integer","long","double","date"],KD=function(a){function b(a,c){Ro(this,b);var d=So(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.onTypeChange=function(a){var b=d.props.context.element,c=$c(b,"dmn:LiteralExpression")?b.$parent:b,e=void 0;_c(c)?e={inputExpression:{typeRef:a}}:ad(c)&&(e={
typeRef:a}),d._modeling.updateProperties(c,e)},d._modeling=c.injector.get("modeling"),d}return To(b,a),ID(b,[{key:"render",value:function(){var a=this.props.context.element,b=($c(a,"dmn:InputClause")?a.inputExpression:a).typeRef,c=JD.map(function(a){return{label:a,value:a}});return Re(1,"div","type-ref-edit context-menu-container",[Re(1,"label","dms-label",Te("Type:"),2),Se(2,uD,{className:"type-ref-edit-select",onChange:this.onTypeChange,options:c,value:b})],4)}}]),b}(Aw),LD=function uI(a,b,c,d){Uo(this,uI),a.onGetComponent("cell",function(a){var b=a.cellType;if("input-header-type-ref"===b||"output-header-type-ref"===b)return GD}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"type-ref-edit"===a.contextMenuType)return KD}),c.on("typeRef.edit",function(a){var c=a.event,e=a.element,f=c.target,g=Ot(f,"th",!0),h=g.getBoundingClientRect(),i=h.left,j=h.top,k=h.width,l=h.height,m=d.getContainer();b.open({x:i+m.parentNode.scrollLeft,y:j+m.parentNode.scrollTop,width:k,height:l},{contextMenuType:"type-ref-edit",element:e,offset:{x:4,y:4}})})};LD.$inject=["components","contextMenu","eventBus","renderer"];var MD={__depends__:[LC],__init__:["typeRefEditingProvider"],typeRefEditingProvider:["type",LD]},ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},OD=function(a){function b(a,c){Vo(this,b);var d=Wo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.postExecuted("updateProperties",function(a){var b=a.context,d=b.element,e=b.properties,f=_c(d)?e.inputExpression:e;if(f&&f.typeRef&&"string"!==f.typeRef){var g=$c(d,"dmn:LiteralExpression")?d.$parent:d;c.editAllowedValues(g,null)}}),d}return Xo(b,a),b}(Zk);OD.$inject=["eventBus","modeling"];var PD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},QD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),RD="radio",SD="remove dmn-icon-clear",TD=function(a){function b(a,c){Yo(this,b);var d=Zo(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.getRemoveClickHandler=function(a){return function(b){b.stopPropagation(),d.removeItem(a)}},d.getToggleClickHandler=function(a){return function(b){b.stopPropagation(),d.toggleItem(a)}},d.removeItem=function(a){var b=d.props.onChange,c=d.state.items.filter(function(b){return b!==a});d.setState({items:c}),b&&b(c)},d.toggleItem=function(a){var b=d.props,c=b.onChange,e=b.type,f=d.state.items.map(function(b){return b===a?b.isChecked=!b.isChecked:e===RD&&(b.isChecked=!1),b});d.setState({items:f}),c&&c(f)};var e=a.items;return d.state={items:e},d}return $o(b,a),QD(b,[{key:"componentWillReceiveProps",value:function(a){var b=a.items;this.setState({items:b})}},{key:"render",value:function(){var a=this,b=this.props,c=b.className,d=b.items,e=b.type,f=["dms-list-component"];c&&f.push(c);var g=x(d,"group"),h=_o(g);return Re(1,"div",f.join(" "),h.map(function(b){var c=b[0],d=b[1];return Re(1,"div","group",[Re(1,"h4","dms-heading",c,0),Re(1,"ul","items no-wrap",d.map(function(b){return Re(1,"li","item",[e&&Re(64,"input","item-toggle",null,1,{type:e,checked:b.isChecked,onClick:a.getToggleClickHandler(b)}),Te(""),b.value,b.isRemovable&&Re(1,"span",SD,null,1,{title:"Remove item",onClick:a.getRemoveClickHandler(b)})],0)}),0)],4)}),0)}}]),b}(Aw),UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},VD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),WD=function(a){function b(a,c){ap(this,b);var d=bp(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c)),e=a.validate,f=a.value,g=e?e(f||""):void 0;return d.state={validationWarning:g,value:f},d.onInput=d.onInput.bind(d),d.onKeyDown=d.onKeyDown.bind(d),d.onKeyUp=d.onKeyUp.bind(d),d}return cp(b,a),VD(b,[{key:"componentWillReceiveProps",value:function(a){var b=a.validate,c=a.value,d=b?b(c||""):void 0;this.setState({validationWarning:d,value:c})}},{key:"onInput",value:function c(a){var b=this.props,c=b.onInput,d=b.validate,e=d?d(a):void 0;this.setState({validationWarning:e,value:a}),"function"==typeof c&&c&&c({isValid:!e,value:a})}},{key:"onKeyDown",value:function d(a){var b=a.target,c=b.value,e=this.props,d=e.onKeyDown,f=e.validate,g=f?f(c):void 0;"function"==typeof d&&d({isValid:!g,value:c,event:a})}},{key:"onKeyUp",value:function e(a){var b=a.target,c=b.value,d=this.props,e=d.onKeyUp,f=d.validate,g=f?f(c):void 0;"function"==typeof e&&e({isValid:!g,value:c,event:a})}},{key:"render",value:function(){var a=this.props,b=a.placeholder,c=a.type,d=a.className,e=this.state,f=e.validationWarning,g=e.value,h=["dms-validated-input",d].join(" "),i=[];return f&&i.push("invalid"),Re(1,"div",h,[Se(2,gD,{className:i,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:b||"",type:c,value:g||""}),f&&Re(1,"p","dms-hint dms-validation-warning",f,0)],0)}}]),b}(Aw),XD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},YD=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ZD=function(a){function b(a,c){gp(this,b);var d=hp(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));$D.call(d),d._modeling=c.injector.get("modeling"),d._changeSupport=c.changeSupport;var e=d.getAllowedValuesTarget(),f=dp(e.inputValues&&e.inputValues.text||e.outputValues&&e.outputValues.text||"");return f?d.state={values:f.values.map(function(a){return{value:a,isCheckable:!1,isRemovable:!0,group:"Predefined Values"}}),inputValue:""}:d.state={values:null,inputValue:""},d}return ip(b,a),YD(b,[{key:"componentWillMount",value:function(){var a=this.getAllowedValuesTarget();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getAllowedValuesTarget();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getAllowedValuesTarget",value:function(){var a=this.props.context.element;return $c(a,"dmn:LiteralExpression")?a.$parent:a}},{key:"render",value:function(){var a=this.props.context.element,b=this.state,c=b.inputValue,d=b.values;return"string"===a.typeRef?Re(1,"div","context-menu-container allowed-values-edit",[Re(1,"hr","dms-hrule"),!kp(d)&&d.length>0&&Se(2,TD,{items:d,onChange:this.onListChange}),!kp(d)&&!d.length&&Re(1,"div",null,[Re(1,"h4","dms-heading",Te("Predefined Values"),2),Re(1,"span","placeholder",Te("No values"),2)],4),!kp(d)&&Re(1,"p","dms-hint",Re(1,"a","del-values",Te("Clear predefined values."),2,{href:"#",onClick:this.handleRemovePredifinedValuesClick}),2),Re(1,"h4","dms-heading",Te("Add Predefined Values"),2),Se(2,WD,{onInput:this.onInput,onKeyDown:this.onKeyDown,placeholder:'"value", "value", ...',type:"text",validate:function(a){if(!dp(a))return"Strings must be in double quotes."},value:c})],0):null}}]),b}(Aw),$D=function(){var a=this;this.onElementsChanged=function(){a.forceUpdate()},this.setPredefinedValues=function(b){var c=a.getAllowedValuesTarget();a.setState({values:b}),a._modeling.editAllowedValues(c,b&&fp(b))},this.onListChange=function(b){a.setPredefinedValues(b)},this.onInput=function(b){var c=(b.isValid,b.value);a.setState({inputValue:c})},this.onKeyDown=function(b){var c=b.isValid,d=b.event;if(jp(d.keyCode)&&(d.stopPropagation(),d.preventDefault(),c)){var e=a.state,f=e.inputValue,g=e.values,h=dp(f);a.onListChange((g||[]).concat(h.values.map(function(a){return{value:a,isCheckable:!1,isRemovable:!0,group:"Predefined Values"}}))),a.setState({inputValue:""})}},this.handleRemovePredifinedValuesClick=function(b){b.stopPropagation(),a.removePredefinedValues()},this.removePredefinedValues=function(){a.setPredefinedValues(null)}},_D=500,aE=function vI(a){lp(this,vI),a.onGetComponent("context-menu",_D,function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"type-ref-edit"===a.contextMenuType)return ZD})};aE.$inject=["components"];var bE={__init__:["allowedValuesUpdateBehavior","allowedValuesEditingProvider"],allowedValuesUpdateBehavior:["type",OD],allowedValuesEditingProvider:["type",aE]},cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),eE=function(a){function b(a,c){mp(this,b);var d=np(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onElementsChanged=function(){d.forceUpdate()},d.handleClick=function(a){a.stopPropagation(),d.add()},d.add=function(){d._eventBus.fire("addInput")},d._sheet=c.injector.get("sheet"),d._eventBus=c.injector.get("eventBus"),d._changeSupport=c.changeSupport,d}return op(b,a),dE(b,[{key:"componentWillMount",value:function(){var a=this.getRoot();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getRoot();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getRoot",value:function(){return this._sheet.getRoot()}},{key:"render",value:function(){var a=this.getRoot(),b=a.businessObject,c=b.input;if(!c||!c.length)return null;var d=c.length;return Re(1,"th","input-cell inputs-label actionable add-input header",[Te("Input "),Re(1,"span","add-input dmn-icon-plus action-icon",null,1,{title:"Add Input"})],4,{onClick:this.handleClick,colspan:d})}}]),b}(Aw),fE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},gE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),hE=function(a){function b(a,c){pp(this,b);var d=qp(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onElementsChanged=function(){d.forceUpdate()},d.handleClick=function(a){a.stopPropagation(),d.add()},d.add=function(){d._eventBus.fire("addOutput")},d._sheet=c.injector.get("sheet"),d._eventBus=c.injector.get("eventBus"),d._changeSupport=c.changeSupport,d}return rp(b,a),gE(b,[{key:"componentWillMount",value:function(){var a=this.getRoot();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getRoot();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getRoot",value:function(){return this._sheet.getRoot()}},{key:"render",value:function(){var a=this.getRoot(),b=a.businessObject,c=b.output.length;return Re(1,"th","output-cell outputs-label add-output actionable header",[Te("Output "),Re(1,"span","add-output dmn-icon-plus action-icon",null,1,{title:"Add Output"})],4,{onClick:this.handleClick,colspan:c})}}]),b}(Aw);sp.$inject=["components","editorActions","eventBus"];var iE={__depends__:[kC],__init__:["addInputOutputProvider"],addInputOutputProvider:["type",sp]},jE={__depends__:[iE,bE,LC,BC,MD],__init__:["inputEditingProvider","outputEditingProvider"],inputEditingProvider:["type",DD],outputEditingProvider:["type",oD]},kE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),lE=".dmn-decision-table-container td,\n   .dmn-decision-table-container th",mE=function(){function a(b,c,d,e){var f=this;tp(this,a),this.handleDragOver=function(a){up(a);var b=a.target,c=Ot(b,lE,!0),d=!!c,e=f._dragContext.hoverEl;e&&e!==c&&(f._emit("dragAndDrop.dragLeave",a),f._dragContext.targetEl=null,f._dragContext.hoverEl=null),c&&(c!==e&&(f._dragContext.hoverEl=c,d=f._emit("dragAndDrop.dragEnter",a),d!==!1&&(f._dragContext.targetEl=c)),d=f._emit("dragAndDrop.dragOver",a)),a.dataTransfer.dropEffect=d!==!1?"move":"none"},this.handleDrop=function(a){up(a);var b=f._emit("dragAndDrop.drop",a);if(b){var c=f._dragContext.draggedElement;if(c instanceof Sv){var d=f._sheet.getRoot(),e=d.rows,g=e.indexOf(b);f._modeling.moveRow(c,g)}else if(c instanceof Tv){var h=f._sheet.getRoot(),i=h.cols,j=i.indexOf(b);f._modeling.moveCol(c,j)}}f.handleDragEnd(a)},this.handleDragEnd=function(a){up(a),f._unbindListeners(),f._emit("dragAndDrop.dragEnd",a),f._dragContext=null},this._eventBus=b,this._renderer=c,this._modeling=d,this._sheet=e,this._dragContext=null,b.on("table.destroy",function(){f._unbindListeners()})}return kE(a,[{key:"_bindListeners",value:function(){Ut.bind(document,"dragover",this.handleDragOver),Ut.bind(document,"drop",this.handleDrop),Ut.bind(document,"dragend",this.handleDragEnd)}},{key:"_unbindListeners",value:function(){Ut.unbind(document,"dragover",this.handleDragOver),Ut.unbind(document,"drop",this.handleDrop),Ut.unbind(document,"dragend",this.handleDragEnd)}},{key:"_emit",value:function(a,b){return this._eventBus.fire(a,{dragContext:this._dragContext,originalEvent:b})}},{key:"startDrag",value:function(a,b){up(b,!0),b.dataTransfer.effectAllowed="move",b.dataTransfer.setData&&b.dataTransfer.setData("text","__DUMMY"),this._dragContext={draggedElement:a},this._bindListeners(),this._emit("dragAndDrop.dragStart",b)}}]),a}();mE.$inject=["eventBus","renderer","modeling","sheet"];var nE={__init__:["dragAndDrop"],dragAndDrop:["type",mE]},oE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),pE="top",qE="right",rE="bottom",sE="left",tE=function(){function a(b,c,d,e,f,g,h){var i=this;vp(this,a),this._cleanup=function(){var a=i._renderer.getContainer();zp(a),Cp(a),i._dragImage&&(lb(i._dragImage),i._dragImage=null)},this._elementRegistry=c,this._dragAndDrop=e,this._renderer=f,this._rules=g,this._sheet=h,b.onGetComponent("cell-inner",function(a){var b=a.cellType,c=a.col,d=a.row;if("rule-index"===b)return function(){return Re(1,"span","dmn-icon-drag vertical",Te(""),2,{draggable:"true",onDragStart:function(a){return i.startDrag(d,a)},title:"Move rule"})};if("input-cell"===b||"output-cell"===b){var e="Move "+(_c(c)?"Input":"Output");return function(){return Re(1,"span","dmn-icon-drag horizontal",null,1,{draggable:"true",onDragStart:function(a){return i.startDrag(c,a)},title:e})}}}),d.on("dragAndDrop.dragEnter",function(a){var b=a.dragContext,c=b.draggedElement,d=b.hoverEl;if(c instanceof Sv)return!0;if(c instanceof Tv){var e=wp(d,i._elementRegistry,i._sheet);if(e===-1)return!1;var f=i._rules.allowed("col.move",{col:c,index:e});return f}return!1}),d.on("dragAndDrop.dragLeave",function(a){var b=a.dragContext,c=b.targetEl;if(c){var d=i._renderer.getContainer();zp(d)}}),d.on("dragAndDrop.dragOver",function(a){var b=a.dragContext,c=a.originalEvent,d=b.draggedElement,e=b.lastPosition,f=b.targetEl,g=i._renderer.getContainer();if(!f)return!1;var h=void 0;return d instanceof Sv&&(h=Ep(c,f)),d instanceof Tv&&(h=Dp(c,f)),e===h||(zp(g),d instanceof Sv&&(h===pE?xp(f,g,"top"):xp(f,g,"bottom")),d instanceof Tv&&(h===sE?yp(f,g,"left"):yp(f,g,"right")),b.lastPosition=h,!0)}),d.on("dragAndDrop.drop",function(a){var b=a.dragContext,c=a.originalEvent,d=b.draggedElement,e=b.targetEl;if(!e)return!1;if(d instanceof Sv){var f=Ep(c,e),g=e.dataset.rowId,h=i._elementRegistry.get(g);if(!h||h===d)return;var j=Fp(d,h,f,i._sheet.getRoot().rows);if(j===d)return;return j}if(d instanceof Tv){var k=Dp(c,e),l=e.dataset.colId,m=i._elementRegistry.get(l);if(!m||m===d)return;var n=Gp(d,m,k,i._sheet.getRoot().cols);if(n===d)return;return n}}),d.on("dragAndDrop.dragEnd",this._cleanup)}return oE(a,[{key:"startDrag",value:function(a,b){var c=this._renderer.getContainer();this._dragImage=Zt('<span style="\n          visibility: hidden;\n          position: fixed;\n          top: -10000px\n      "></span>'),document.body.appendChild(this._dragImage),b.dataTransfer.setDragImage&&b.dataTransfer.setDragImage(this._dragImage,0,0),a instanceof Sv?Ap(a,c):a instanceof Tv&&Bp(a,c),this._dragAndDrop.startDrag(a,b)}}]),a}();tE.$inject=["components","elementRegistry","eventBus","dragAndDrop","renderer","rules","sheet"];var uE={__depends__:[nE,UB],__init__:["dmnDragAndDrop"],dmnDragAndDrop:["type",tE]},vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},wE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),xE=function(a){function b(a,c){Mp(this,b);var d=Np(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.onElementsChanged=function(){d.forceUpdate()},d.changeDescription=function(a){d._modeling.updateProperties(d._element,{description:a})},d._elementRegistry=c.injector.get("elementRegistry"),d._modeling=c.injector.get("modeling"),d._changeSupport=d.context.changeSupport;var e=d.props.context.id;return d._element=d._elementRegistry.get(e),d}return Op(b,a),wE(b,[{key:"componentWillMount",value:function(){this._element&&this._changeSupport.onElementsChanged(this._element.id,this.onElementsChanged)}},{key:"componentDidMount",value:function(){var a=this.props.context.autoFocus;if(a&&this.node){var b=Pp(this.node);b.focus()}}},{key:"componentWillUnmount",value:function(){if(this._element){this._changeSupport.offElementsChanged(this._element.id,this.onElementsChanged);var a=this._element.businessObject,b=a.description;k(b)&&!b.length&&this.changeDescription(null)}}},{key:"render",value:function(){var a=this;if(this._element){var b=this._element.businessObject,c=b.description;if(k(c))return Re(1,"div","context-menu-container description-editor",Se(2,yE,{className:"dms-input",onChange:this.changeDescription,value:c}),2,null,null,function(b){return a.node=b})}}}]),b}(Aw),yE=function(a){function b(){return Mp(this,b),Np(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Op(b,a),wE(b,[{key:"render",value:function(){return Re(1,"div",this.getClassName(),this.getEditor(),0)}}]),b}(vC),zE=500,AE=750,BE=26,CE=function wI(a,b,c,d,e,f){var g=this;Qp(this,wI),this.addDescription=function(a){g._modeling.updateProperties(a,{description:""});var b=g._renderer.getContainer(),c=Rm(a.id,b),d=c.getBoundingClientRect(),e=Rp(b,d);g._contextMenu.open(e,{contextMenuType:"cell-description",id:a.id,autoFocus:!0,offset:{x:4,y:4}})},this.removeDescription=function(a){g._modeling.updateProperties(a,{description:null}),g._contextMenu.close()},this._contextMenu=b,this._modeling=e,this._renderer=f,d.on("cell.click",AE,function(a){if(!a.defaultPrevented){var d=a.target,e=a.id,g=c.get(e);if(g){var h=Sp(g);h||a.preventDefault();var i=f.getContainer(),j=d.getBoundingClientRect(),k=Rp(i,j);b.open(k,{contextMenuType:"cell-description",autoFocus:!1,id:e,offset:{x:4,y:4}})}}}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"cell-description"===a.contextMenuType){var b=c.get(a.id),d=Sp(b);if(k(d))return xE}}),a.onGetComponent("context-menu-cell-additional",zE,function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"context-menu"===a.contextMenuType){var b=a.id;if(!b)return;var d=c.get(b);if(!d)return;var e=d.businessObject,f=e.description,h=k(f),i=h?"remove-description":"add-description",j=h?function(){return g.removeDescription(d)}:function(){return g.addDescription(d)},l=h?"dmn-icon-clear":"dmn-icon-plus";return Re(1,"div","context-menu-group-entry "+i,[Re(1,"span","context-menu-group-entry-icon "+l),k(f)?"Remove":"Add",Te(" Description")],0,{onClick:j})}})};CE.$inject=["components","contextMenu","elementRegistry","eventBus","modeling","renderer"];var DE={__depends__:[LC,CB],__init__:["description"],description:["type",CE]},EE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),FE=[{label:"FEEL",value:"feel"},{label:"JUEL",value:"juel"},{label:"JavaScript",value:"javascript"},{label:"Groovy",value:"groovy"},{label:"Python",value:"python"},{label:"JRuby",value:"jruby"}],GE=function(){function a(b,c,d){var e=this;Tp(this,a),this._modeling=d,b.onGetComponent("context-menu-cell-additional",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"context-menu"===a.contextMenuType){var b=a.id;if(!b)return;var d=c.get(b);if(!d)return;var f=d.businessObject.expressionLanguage||(_c(d.col)?"feel":"juel");return Re(1,"div","context-menu-group-entry context-menu-entry-set-expression-language",[Re(1,"div",null,[Re(1,"span","context-menu-group-entry-icon dmn-icon-file-code"),Te("Expression Language")],4),Se(2,uD,{className:"expression-language",onChange:function(a){return e.onChange(d,a)},options:FE,value:f})],4)}})}return EE(a,[{key:"onChange",value:function(a,b){this._modeling.editExpressionLanguage(a.businessObject,b)}}]),a}();GE.$inject=["components","elementRegistry","modeling"];var HE={__init__:["expressionLanguage"],expressionLanguage:["type",GE]},IE=/\s/,JE=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,KE=/^[a-z_][\w-.]*$/i,LE=/\$\{([^}]*)\}/g,ME="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},NE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),OE=function(a){function b(a,c){Yp(this,b);var d=Zp(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onElementsChanged=function(){d.forceUpdate()},d.setDecisionTableName=function(a){d.modeling.editDecisionTableName(a)},d.setDecisionTableId=function(a){var b=d.getBusinessObject().id;b!==a&&d.modeling.editDecisionTableId(a)},d.validateId=function(a){var b=d.getBusinessObject();return Up(b,a)},Mg(d),d}return $p(b,a),NE(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this.sheet=a.get("sheet"),this.modeling=a.get("modeling"),this.setupChangeListeners({bind:this.getBusinessObject().id})}},{key:"componentWillUnmount",value:function(){this.setupChangeListeners({unbind:this.getBusinessObject().id})}},{key:"setupChangeListeners",value:function(a){var b=a.bind,c=a.unbind;"string"==typeof c&&this.changeSupport.offElementsChanged(c,this.onElementsChanged),"string"==typeof b&&this.changeSupport.onElementsChanged(b,this.onElementsChanged)}},{key:"getBusinessObject",value:function(){return this.sheet.getRoot().businessObject.$parent}},{key:"render",value:function(){var a=this.getBusinessObject(),b=a.id,c=a.name;return Re(1,"header","decision-table-properties",[Se(2,PE,{className:"decision-table-name",value:c,ctrlForNewline:!0,onChange:this.setDecisionTableName,elementId:"__decisionProperties_name",coords:"0:__decisionProperties"}),Se(2,QE,{className:"decision-table-id",value:b,ctrlForNewline:!0,validate:this.validateId,onChange:this.setDecisionTableId,elementId:"__decisionProperties_id",coords:"1:__decisionProperties"})],4)}}]),b}(Aw);OE.$inject=["sheet","modeling","changeSupport"];var PE=function(a){function b(a,c){Yp(this,b);var d=Zp(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return Pg(d,Pw),d}return $p(b,a),NE(b,[{key:"render",value:function(){var a=Kg(this.getSelectionClasses(),this.getClassName());return Re(1,"h3",a,this.getEditor(),0,{"data-element-id":this.props.elementId,"data-coords":this.props.coords,title:"Decision Name"})}}]),b}(vC),QE=function(a){function b(a,c){Yp(this,b);var d=Zp(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return Pg(d,Pw),d}return $p(b,a),NE(b,[{key:"render",value:function(){var a=Kg(this.getSelectionClasses(),this.getClassName());return Re(1,"h5",a,this.getEditor(),0,{title:"Decision Id","data-element-id":this.props.elementId,"data-coords":this.props.coords})}}]),b}(vC),RE=function xI(a){_p(this,xI),a.onGetComponent("table.before",function(){return OE})};RE.$inject=["components"];var SE={__depends__:[BC],__init__:["decisionTableProperties"],decisionTableProperties:["type",RE]},TE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},UE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),VE=function(a){function b(a,c){aq(this,b);var d=bq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onClick=function(a){d.eventBus.fire("hitPolicy.edit",{event:a})},d.onElementsChanged=function(){d.forceUpdate()},Mg(d),d}return cq(b,a),UE(b,[{key:"getRoot",value:function(){return this.sheet.getRoot()}},{key:"componentWillMount",value:function(){this.changeSupport.onElementsChanged(this.getRoot().id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){this.changeSupport.offElementsChanged(this.getRoot().id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.getRoot(),b=a.businessObject,c=b.hitPolicy,d=c.charAt(0),e=b.aggregation,f=dq(e);return Re(1,"th","hit-policy header",[d,f],0,{"data-hit-policy":"true",title:"Hit Policy = "+c,onClick:this.onClick,rowspan:"3"})}}]),b}(Aw);VE.$inject=["changeSupport","sheet","eventBus"];var WE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},XE=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),YE=["UNIQUE","FIRST","PRIORITY","ANY","COLLECT","RULE ORDER","OUTPUT ORDER"],ZE=["SUM","MIN","MAX","COUNT"],$E=function(a){function b(a,c){eq(this,b);var d=fq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onHitPolicyChange=d.onHitPolicyChange.bind(d),d.onAggregationChange=d.onAggregationChange.bind(d),d.onElementsChanged=d.onElementsChanged.bind(d),d}return gq(b,a),XE(b,[{key:"onHitPolicyChange",value:function(a){this._modeling.editHitPolicy(a,void 0)}},{key:"onAggregationChange",value:function(a){var b=""===a?void 0:a;this._modeling.editHitPolicy("COLLECT",b)}},{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){var a=this.context.injector,b=this._changeSupport=this.context.changeSupport;this._sheet=a.get("sheet"),this._modeling=a.get("modeling");var c=this._sheet.getRoot(),d=c.businessObject,e=d.hitPolicy,f=d.aggregation;b.onElementsChanged(c.id,this.onElementsChanged),this.state={hitPolicy:e,aggregation:f}}},{key:"componentWillUnmount",value:function(){var a=this._sheet.getRoot();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.hitPolicy,d=b.aggregation,e=YE.map(function(a){return{label:a,value:a}}),f=ZE.map(function(a){return{label:"NONE"===a?"-":a,value:a}});return Re(1,"div","context-menu-container hit-policy-edit",[Re(1,"p","hit-policy-edit-policy",[Re(1,"label","dms-label",Te("Hit Policy:"),2),Se(2,uD,{className:"hit-policy-edit-policy-select",onChange:this.onHitPolicyChange,options:e,value:c})],4),"COLLECT"===c&&Re(1,"p","hit-policy-edit-operator",[Re(1,"label","dms-label",Te("Aggregation:"),2),Se(2,uD,{className:"hit-policy-edit-operator-select",onChange:this.onAggregationChange,options:f,value:d})],4)],0)}}]),b}(Aw);hq.$inject=["components","contextMenu","eventBus","renderer"];var _E={__depends__:[LC],__init__:["hitPolicyProvider"],hitPolicyProvider:["type",hq]},aF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),bF=function(){function a(b,c,d){var e=this;iq(this,a),this._init=function(){e._registerDefaultBindings(),e._fire("init")},this._destroy=function(){e._fire("destroy"),e.unbind(),e._listeners=null},this._keyHandler=function(a){var b,c,d=e._listeners,f=a.keyCode||a.charCode||-1;for(b=0;c=d[b];b++)if(c(f,a))return a.preventDefault(),void a.stopPropagation()},this.unbind=function(){var a=e._node;a&&(e._fire("unbind"),Ut.unbind(a,"keydown",e._keyHandler,!0)),e._node=null},this._config=b||{},this._editorActions=d,this._eventBus=c,this._listeners=[],c.on("table.destroy",this._destroy),c.on("table.init",this._init),c.on("attach",function(){e._config.bindTo&&e.bind(b.bindTo)}),c.on("detach",this.unbind)}return aF(a,[{key:"bind",value:function(a){this.unbind(),this._node=a,Ut.bind(a,"keydown",this._keyHandler,!0),this._fire("bind")}},{key:"getBinding",value:function(){return this._node}},{key:"_fire",value:function(a){this._eventBus.fire("keyboard."+a,{node:this._node,listeners:this._listeners})}},{key:"_registerDefaultBindings",value:function(){function a(a,b){if(Zn(b)&&!$n(b)&&90===a)return e.trigger("undo"),!0}function b(a,b){if(Zn(b)&&(89===a||90===a&&$n(b)))return e.trigger("redo"),!0}function c(a,b){if(13===a&&!Zn(b)&&Tm(b.target)){var c=$n(b)?"selectCellAbove":"selectCellBelow";return e.trigger(c),!0}}var d=this._listeners,e=this._editorActions;d.push(a),d.push(b),d.push(c)}},{key:"addListener",value:function(a){this._listeners.unshift(a)}},{key:"removeListener",value:function(a){this._listeners=this._listeners.filter(function(b){return b!==a})}}]),a}();bF.$inject=["config.keyboard","eventBus","editorActions"];var cF={__depends__:[kC],__init__:["keyboard"],keyboard:["type",bF]},dF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},eF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),fF=function(a){
function b(a,c){jq(this,b);var d=kq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d.executed(["row.add","row.remove","col.add","col.remove"],mq(function(a){var b=a.context,c=b.row||b.col;d.updateRoot(c,b.oldRoot)})),d.reverted(["row.add","row.remove","col.add","col.remove"],mq(function(a){var b=a.context,c=b.row||b.col;d.updateRoot(c,b.newRoot)})),d}return lq(b,a),eF(b,[{key:"updateRoot",value:function(a,b){var c=this,d=a.root,e=a.businessObject;if($c(a,"dmn:DecisionRule")){if(b){var f=b.businessObject,g=f.get("rule"),h=g.indexOf(e);g.splice(h,1),e.$parent=null}if(d){var i=d.businessObject,j=d.rows.indexOf(a);i.get("rule").splice(j,0,e),e.$parent=i,a.cells.forEach(function(b,d){c.wireCell(b,a,d)})}}if($c(a,"dmn:InputClause")||$c(a,"dmn:OutputClause")){var k=void 0,l=void 0;if(b){var m=b.businessObject,n=m.get("input"),o=m.get("output");if($c(a,"dmn:InputClause")&&(k=n,l=n.indexOf(e)),$c(a,"dmn:OutputClause")&&(k=o,l=o.indexOf(e)),l===-1)throw new Error("inconsistent model: clause not in table");k.splice(l,1),e.$parent=null,a.cells.forEach(function(a,d){c.unwireCell(a,b.rows[d])})}if(d){var p=d.businessObject,q=p.get("input"),r=p.get("output"),s=d.cols.indexOf(a),t=void 0,u=void 0;$c(a,"dmn:InputClause")&&(u=q,t=s),$c(a,"dmn:OutputClause")&&(u=r,t=s-q.length),u.splice(t,0,e),e.$parent=p,a.cells.forEach(function(a,b){c.wireCell(a,d.rows[b],s)})}}}},{key:"unwireCell",value:function(a,b){var c=a.businessObject,d=b.businessObject,e=d.get("inputEntry"),f=d.get("outputEntry"),g=void 0,h=void 0;if($c(a,"dmn:UnaryTests")&&(g=e),$c(a,"dmn:LiteralExpression")&&(g=f),h=g.indexOf(c),h===-1)throw new Error("cell not in row");g.splice(h,1),c.$parent=null}},{key:"wireCell",value:function(a,b,c){var d=a.businessObject,e=b.businessObject,f=e.get("inputEntry"),g=e.get("outputEntry"),h=void 0,i=void 0;d.$parent!==e&&($c(a,"dmn:UnaryTests")&&(h=f,i=c),$c(a,"dmn:LiteralExpression")&&(h=g,i=c-f.length),h.splice(i,0,d),d.$parent=e)}}]),b}(Zk);fF.$inject=["eventBus","sheet"];var gF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),hF=function(){function a(b){nq(this,a),this._model=b}return gF(a,[{key:"create",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=this._model.create(a,b||{});return $c(c,"dmn:InputClause")&&(b.inputExpression?c.inputExpression=b.inputExpression:(c.inputExpression=this.create("dmn:LiteralExpression",{typeRef:"string"}),c.inputExpression.$parent=c)),$c(c,"dmn:OutputClause")&&(c.typeRef=b.typeRef||"string"),($c(c,"dmn:UnaryTests")||$c(c,"dmn:LiteralExpression"))&&(c.text=b.text||""),this._ensureId(c),c}},{key:"_needsId",value:function(a){return $c(a,"dmn:DMNElement")}},{key:"_ensureId",value:function(a){var b=(a.$type||"").replace(/^[^:]*:/g,"")+"_";!a.id&&this._needsId(a)&&(a.id=this._model.ids.nextPrefixed(b,a))}}]),a}();hF.$inject=["moddle"];var iF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},jF=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},kF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),lF=function yI(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:yI(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},mF=function(a){function b(a){pq(this,b);var c=qq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._dmnFactory=a,c}return rq(b,a),kF(b,[{key:"create",value:function(a,c){var d=this._dmnFactory,e=c.businessObject,f=c.type,g=oq(c,["businessObject","type"]);if(!e){if(!f){if("root"===a)f="dmn:DecisionTable";else if("cell"===a){var h=g.col;$c(h,"dmn:OutputClause")&&(f="dmn:LiteralExpression"),$c(h,"dmn:InputClause")&&(f="dmn:UnaryTests")}if(!f)throw new Error("cannot guess <type>")}e=d.create(f)}return lF(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"create",this).call(this,a,jF({businessObject:e,id:e.id},g))}}]),b}(Xv);mF.$inject=["dmnFactory"];var nF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},oF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),pF="id",qF=function(a){function b(a){sq(this,b);var c=tq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.executed("updateProperties",c.updateIds.bind(c)),c}return uq(b,a),oF(b,[{key:"updateIds",value:function(a){var b=a.context,c=b.element,d=b.oldProperties,e=b.properties;if($c(c,"dmn:DRGElement")&&vq(d,e)){var f=wq(c);f.forEach(function(a){xq(a,d.id,e.id),yq(a,d.id,e.id)})}}}]),b}(Zk);qF.$inject=["eventBus"];var rF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),sF=function(){function a(b,c){zq(this,a),this._sheet=b,this._elementFactory=c}return rF(a,[{key:"execute",value:function(a){var b=this._sheet,c=this._elementFactory,d=b.getRoot(),e=a.row,f=a.index;return"undefined"==typeof f&&(f=a.index=d.rows.length),a.newRoot=d,e.cells.length||d.cols.forEach(function(a,b){var d=c.create("cell",{row:e,col:a});e.cells[b]=d}),b.addRow(e,f),b.getRoot()}},{key:"revert",value:function(a){var b=a.row,c=this._sheet;return c.removeRow(b),c.getRoot()}}]),a}();sF.$inject=["sheet","elementFactory"];var tF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),uF=function(){function a(b){Aq(this,a),this._sheet=b}return tF(a,[{key:"execute",value:function(a){var b=this._sheet,c=b.getRoot(),d=a.row,e=a.oldIndex=c.rows.indexOf(d);if(a.oldRoot=d.root,e===-1)throw new Error("row#"+d.id+" not in sheet");return b.removeRow(d),b.getRoot()}},{key:"revert",value:function(a){var b=a.row,c=a.oldIndex,d=this._sheet;return d.addRow(b,c),d.getRoot()}}]),a}();uF.$inject=["sheet"];var vF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),wF=function(){function a(b){Bq(this,a),this._modeling=b}return vF(a,[{key:"preExecute",value:function(a){var b=a.row;this._modeling.removeRow(b)}},{key:"postExecute",value:function(a){var b=a.row,c=a.index;this._modeling.addRow(b,c)}}]),a}();wF.$inject=["modeling"];var xF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),yF=function(){function a(b,c){Cq(this,a),this._sheet=b,this._elementFactory=c}return xF(a,[{key:"execute",value:function(a){var b=this._sheet,c=this._elementFactory,d=b.getRoot(),e=a.col,f=a.index;return"undefined"==typeof f&&(f=a.index=d.cols.length),a.newRoot=d,e.cells.length||d.rows.forEach(function(a,b){var d=c.create("cell",{row:a,col:e});e.cells[b]=d}),b.addCol(e,f),b.getRoot()}},{key:"revert",value:function(a){var b=a.col,c=this._sheet;return c.removeCol(b),c.getRoot()}}]),a}();yF.$inject=["sheet","elementFactory"];var zF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),AF=function(){function a(b,c){Dq(this,a),this._sheet=b,this._elementFactory=c}return zF(a,[{key:"execute",value:function(a){var b=this._sheet,c=a.col,d=a.oldRoot=c.root,e=a.oldIndex=d.cols.indexOf(c);if(e===-1)throw new Error("col#"+c.id+" not in sheet");return b.removeCol(c),b.getRoot()}},{key:"revert",value:function(a){var b=a.col,c=a.oldIndex,d=this._sheet;return d.addCol(b,c),d.getRoot()}}]),a}();AF.$inject=["sheet","elementFactory"];var BF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),CF=function(){function a(b){Eq(this,a),this._modeling=b}return BF(a,[{key:"preExecute",value:function(a){var b=a.col;this._modeling.removeCol(b)}},{key:"postExecute",value:function(a){var b=a.col,c=a.index;this._modeling.addCol(b,c)}}]),a}();CF.$inject=["modeling"];var DF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),EF=function(){function a(){Fq(this,a)}return DF(a,[{key:"execute",value:function(a){var b=a.cell;return b}},{key:"revert",value:function(a){var b=a.cell;return b}}]),a}(),FF=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},GF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),HF=function(){function a(b,c,d){var e=this;Gq(this,a),this._eventBus=b,this._elementFactory=c,this._commandStack=d,b.on("table.init",function(){Hq(e.getHandlers(),d)})}return GF(a,[{key:"getHandlers",value:function(){return a._getHandlers()}},{key:"_create",value:function(a,b){return b instanceof Qv?b:this._elementFactory.create(a,b)}},{key:"addRow",value:function(a,b){var c=this._create("row",a),d={row:c,index:b};return this._commandStack.execute("row.add",d),c}},{key:"removeRow",value:function(a){this._commandStack.execute("row.remove",{row:a})}},{key:"moveRow",value:function(a,b){var c={row:a,index:b};this._commandStack.execute("row.move",c)}},{key:"addCol",value:function(a,b){var c=this._create("col",a),d={col:c,index:b};return this._commandStack.execute("col.add",d),c}},{key:"removeCol",value:function(a){this._commandStack.execute("col.remove",{col:a})}},{key:"moveCol",value:function(a,b){var c={col:a,index:b};this._commandStack.execute("col.move",c)}},{key:"editCell",value:function(a,b){var c=FF({cell:a},b);this._commandStack.execute("cell.edit",c)}}],[{key:"_getHandlers",value:function(){return{"row.add":sF,"row.remove":uF,"row.move":wF,"col.add":yF,"col.remove":AF,"col.move":CF,"cell.edit":EF}}}]),a}();HF.$inject=["eventBus","elementFactory","commandStack"];var IF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),JF=function(){function a(b,c,d){Iq(this,a),this._dmnFactory=b,this._moddle=c,this._modeling=d}return IF(a,[{key:"execute",value:function(a){var b=a.element,c=a.allowedValues,d=$c(b,"dmn:InputClause");return d?(b.inputValues?a.oldAllowedValues=b.inputValues.text:Jq(c)||(b.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),Jq(c)?b.inputValues&&delete b.inputValues:b.inputValues.text=c.join(",")):(b.outputValues&&b?a.oldAllowedValues=b.outputValues.text:Jq(c)||(b.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),Jq(c)?b.outputValues&&delete b.outputValues:b.outputValues.text=c.join(",")),b}},{key:"revert",value:function(a){var b=a.element,c=a.oldAllowedValues,d=$c(b,"dmn:InputClause");return d?c?(b.inputValues||(b.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),b.inputValues.text=c):delete b.inputValues:c?(b.outputValues||(b.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),b.outputValues.text=c):delete b.outputValues,b}}]),a}();JF.$inject=["dmnFactory","moddle","modeling"];var KF=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},LF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),MF="id",NF=function(){function a(b,c){Mq(this,a),this._elementRegistry=b,this._moddle=c}return LF(a,[{key:"execute",value:function(a){var b=a.element,c=a.properties,d=bd(b),e=this.updateProperties(d,c),f=e.changed,g=e.oldProperties;return a.oldProperties=g,[].concat(Lq(f),[b])}},{key:"revert",value:function(a){var b=a.element,c=a.oldProperties,d=bd(b),e=this.updateProperties(d,c),f=e.changed;return[].concat(Lq(f),[b])}},{key:"updateProperties",value:function(a,b){var c=this,d=this._moddle.ids;return q(b,function(b,e,f){var g=a.get(f);if(Oq(e)){if(!Oq(g))throw new Error("non-existing property <"+f+">: cannot update values");var h=c.updateProperties(g,e),i=h.changed,j=h.oldProperties;return{changed:[].concat(Lq(b.changed),Lq(i),[g]),oldProperties:KF({},b.oldProperties,Kq({},f,j))}}return f===MF&&Nq(a,e)&&(d.unclaim(a[MF]),c._elementRegistry.updateId(a,e),d.claim(e,a)),a.set(f,e),{changed:b.changed,oldProperties:KF({},b.oldProperties,Kq({},f,g))}},{changed:[],oldProperties:{}})}}]),a}();NF.$inject=["elementRegistry","moddle"];var OF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),PF=function(){function a(b){Pq(this,a),this._moddle=b}return OF(a,[{key:"execute",value:function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.claim(c,d):b.unclaim(c)}},{key:"revert",value:function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.unclaim(c):b.claim(c,d)}}]),a}();PF.$inject=["moddle"];var QF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},RF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SF=function zI(a,b,c){null===a&&(a=Function.prototype);var d=Object.getOwnPropertyDescriptor(a,b);if(void 0===d){var e=Object.getPrototypeOf(a);return null===e?void 0:zI(e,b,c)}if("value"in d)return d.value;var f=d.get;if(void 0!==f)return f.call(c)},TF=function(a){function b(a,c,d,e){Qq(this,b);var f=Rq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));return f._eventBus=a,f._elementFactory=c,f._commandStack=d,f._sheet=e,f}return Sq(b,a),RF(b,[{key:"getHandlers",value:function(){return b._getHandlers()}},{key:"editDecisionTableName",value:function(a){var b=this._sheet.getRoot(),c=b.businessObject,d=c.$parent,e={element:d,properties:{name:a}};this._commandStack.execute("updateProperties",e)}},{key:"editDecisionTableId",value:function(a){var b=this._sheet.getRoot(),c=b.businessObject,d=c.$parent,e={element:d,properties:{id:a}};this._commandStack.execute("updateProperties",e)}},{key:"editHitPolicy",value:function(a,b){var c=this._sheet.getRoot(),d=c.businessObject,e={element:d,properties:{hitPolicy:a,aggregation:b}};this._commandStack.execute("updateProperties",e)}},{key:"updateProperties",value:function(a,b){var c={element:a,properties:b};this._commandStack.execute("updateProperties",c)}},{key:"editInputExpression",value:function(a,b){var c={element:a,properties:b};this._commandStack.execute("updateProperties",c)}},{key:"editOutputName",value:function(a,b){var c={element:a,properties:{name:b}};this._commandStack.execute("updateProperties",c)}},{key:"editInputExpressionTypeRef",value:function(a,b){var c={element:a,properties:{typeRef:b}};this._commandStack.execute("updateProperties",c)}},{key:"editOutputTypeRef",value:function(a,b){var c={element:a,properties:{typeRef:b}};this._commandStack.execute("updateProperties",c)}},{key:"editCell",value:function(a,b){var c={element:a,properties:{text:b}};this._commandStack.execute("updateProperties",c)}},{key:"editAnnotation",value:function(a,b){var c={element:a,properties:{description:b}};this._commandStack.execute("updateProperties",c)}},{key:"editAllowedValues",value:function(a,b){var c={element:a,allowedValues:b};this._commandStack.execute("editAllowedValues",c)}},{key:"editExpressionLanguage",value:function(a,b){var c={element:a,properties:{expressionLanguage:b}};this._commandStack.execute("updateProperties",c)}},{key:"claimId",value:function(a,b){var c={id:a,element:b,claiming:!0};this._commandStack.execute("id.updateClaim",c)}},{key:"unclaimId",value:function(a,b){var c={id:a,element:b};this._commandStack.execute("id.updateClaim",c)}}],[{key:"_getHandlers",value:function(){return I({},SF(b.__proto__||Object.getPrototypeOf(b),"_getHandlers",this).call(this),{editAllowedValues:JF,updateProperties:NF,"id.updateClaim":PF})}}]),b}(HF);TF.$inject=["eventBus","elementFactory","commandStack","sheet"];var UF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},VF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),WF=function(a){function b(a,c,d){Tq(this,b);var e=Uq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return e._ids=c.ids,e._modeling=d,e.preExecute(["row.add","col.add"],function(a){var b=a.context,c=b.row||b.col;e.claimId(c.businessObject),c.cells&&c.cells.forEach(function(a){return e.claimId(a.businessObject)})}),e}return Vq(b,a),VF(b,[{key:"claimId",value:function(a){var b=this;a.id&&!this._ids.assigned(a.id)&&this._modeling.claimId(a.id,a),a.$descriptor.properties.forEach(function(c){var d=a[c.name];d&&(g(d)&&d.forEach(function(a){return b.claimId(a)}),d.$type&&b.claimId(d))})}}]),b}(Zk);WF.$inject=["eventBus","moddle","modeling"];var XF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},YF=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ZF=function(a){function b(a,c){Wq(this,b);var d=Xq(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return d._modeling=c,d.preExecute(["row.remove","col.remove"],function(a){var b=a.context,c=b.row||b.col;d.unclaimId(c.businessObject),c.cells&&c.cells.forEach(function(a){return d.unclaimId(a.businessObject)})}),d}return Yq(b,a),YF(b,[{key:"unclaimId",value:function(a){var b=this;a.id&&this._modeling.unclaimId(a.id,a),a.$descriptor.properties.forEach(function(c){var d=a[c.name];d&&(g(d)&&d.forEach(function(a){return b.unclaimId(a)}),d.$type&&b.unclaimId(d))})}}]),b}(Zk);ZF.$inject=["eventBus","modeling"];var $F={__init__:["idClaimBehavior","idUnclaimBehavior"],idClaimBehavior:["type",WF],idUnclaimBehavior:["type",ZF]},_F={__init__:["dmnUpdater","idChangeBehavior","modeling"],__depends__:[$F,SA],dmnUpdater:["type",fF],dmnFactory:["type",hF],elementFactory:["type",mF],idChangeBehavior:["type",qF],modeling:["type",TF]},aG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},bG=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),cG={feel:"FEEL",juel:"JUEL",python:"Python",javascript:"JavaScript",groovy:"Groovy",jruby:"JRuby"},dG=function(a){function b(a,c){Zq(this,b);var d=$q(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.state={isFocussed:!1},d.changeCellValue=d.changeCellValue.bind(d),d.onFocus=d.onFocus.bind(d),d.onBlur=d.onBlur.bind(d),d.onElementsChanged=d.onElementsChanged.bind(d),d}return _q(b,a),bG(b,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){var a=this.context.injector,b=this.props.cell,c=this._changeSupport=this.context.changeSupport;this._modeling=a.get("modeling"),c.onElementsChanged(b.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.props.cell;this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"changeCellValue",value:function(a){var b=this.props.cell;this._modeling.editCell(b.businessObject,a)}},{key:"onFocus",value:function(){this.setState({isFocussed:!0})}},{key:"onBlur",value:function(){this.setState({isFocussed:!1})}},{key:"render",value:function(){var a=this.props,b=a.cell,c=a.rowIndex,d=a.row,e=a.col,f=a.colIndex,g=this.state.isFocussed,h=$c(b,"dmn:UnaryTests")?"input-cell":"output-cell",i=b.businessObject;return Se(2,Xw,{className:h,elementId:b.id,coords:c+":"+f,"data-row-id":d.id,"data-col-id":e.id,children:Se(2,eG,{className:"cell-editor",ctrlForNewline:!0,onFocus:this.onFocus,onBlur:this.onBlur,isFocussed:g,onChange:this.changeCellValue,value:i.text,businessObject:i})})}}]),b}(Aw),eG=function(a){function b(){return Zq(this,b),$q(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _q(b,a),bG(b,[{key:"isDefaultExpressionLanguage",value:function(a){var b=a.expressionLanguage,c=$c(a,"dmn:UnaryTests"),d=this.context.injector.get("config"),e=d.defaultInputExpressionLanguage,f=d.defaultOutputExpressionLanguage;return c?!b&&!e||b===(e||"feel"):!b&&!f||b===(f||"juel")}},{key:"getDescription",value:function(a){return a.description}},{key:"getExpressionLanguageLabel",value:function(a){var b=a.expressionLanguage,c=$c(a,"dmn:UnaryTests");return c?b?cG[a.expressionLanguage.toLowerCase()]:"FEEL":b?cG[a.expressionLanguage.toLowerCase()]:"JUEL"}},{key:"isScript",value:function(a){return $c(a,"dmn:UnaryTests")&&("FEEL"!==(a.expressionLanguage||"FEEL")||a.text.indexOf("\n")!==-1)}},{key:"render",value:function(){var a=this.props,b=a.businessObject,c=a.isFocussed,d=this.getDescription(b),e=this.isDefaultExpressionLanguage(b),f=this.getExpressionLanguageLabel(b)||b.expressionLanguage,g=this.isScript(b);return Re(1,"div",this.getClassName(),[k(d)&&!c&&Re(1,"div","description-indicator"),this.getEditor({className:g?"script-editor":null}),!e&&!c&&Re(1,"span","dms-badge dmn-expression-language",[Re(1,"span","dms-badge-icon dmn-icon-file-code"),Re(1,"span","dms-badge-label",f,0)],4,{title:"Expression Language = "+f})],0)}}]),b}(vC),fG=1500,gG=function AI(a){ar(this,AI),a.onGetComponent("cell",fG,function(a){var b=a.cellType;if("rule"===b)return dG})};gG.$inject=["components"];var hG={__depends__:[BC,Ix],__init__:["decisionRulesEditor"],decisionRulesEditor:["type",gG]},iG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},jG=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),kG=4,lG=function(a){function b(a,c){br(this,b);var d=cr(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.state={top:0,left:0,isVisible:!1,isDisabled:!0};var e=c.injector,f=d._eventBus=e.get("eventBus"),g=e.get("simpleMode");return d._renderer=e.get("renderer"),d._selection=c.injector.get("selection"),d.updatePosition=d.updatePosition.bind(d),f.on("selection.changed",function(a){var b=a.selection;if(!b||!g.canSimpleEdit(b))return void d.setState({isVisible:!1});var c;d.setState({isVisible:!0,selection:b},d.updatePosition);var e=er(b);c=!fr(b,e),d.setState({isVisible:!0,selection:b,isDisabled:c},d.updatePosition)}),d.onClick=d.onClick.bind(d),d}return dr(b,a),jG(b,[{key:"updatePosition",value:function(){var a=this.state.selection;if(a&&this.node){var b=this._container=this._renderer.getContainer(),c=Rm(a.id,b),d=c.getBoundingClientRect(),e=this.node.getBoundingClientRect(),f=b.getBoundingClientRect(),g=b.scrollLeft,h=b.scrollTop,i={};d.left+d.width/2>f.width/2?i.left=window.scrollX-f.left+d.left-e.width+kG+g+"px":i.left=window.scrollX-f.left+d.left+d.width-kG+g+"px",d.top+d.height/2>f.height/2?i.top=window.scrollY-f.top+d.top-e.height+kG+h+"px":i.top=window.scrollY-f.top+d.top-kG+h+"px",I(this.node.style,i)}}},{key:"onClick",value:function(){var a=this.state.isDisabled;if(!a){var b=this._selection.get();b&&(this._eventBus.fire("simpleMode.open",{element:b,node:Rm(b.id,this._container)}),this.setState({isVisible:!1}))}}},{key:"render",value:function(){var a=this,b=this.state,c=b.isDisabled,d=b.isVisible,e=b.top,f=b.left,g=["simple-mode-button","no-deselect"];return c&&g.push("disabled"),d?Re(1,"div",g.join(" "),Re(1,"span","dmn-icon-edit"),2,{onClick:this.onClick,style:{top:e,left:f},title:c?"Editing not supported for set expression language":"Edit"},null,function(b){return a.node=b}):null}}]),b}(Aw),mG=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),nG=function(){function a(b,c,d,e,f){gr(this,a),this._providers=[],b.onGetComponent("table.before",function(){return lG}),e.on("simpleMode.open",function(a){var b=a.element,d=a.node,e=d.getBoundingClientRect(),g=e.left,h=e.top,i=e.width,j=e.height,k=f.getContainer();c.open({x:g+k.parentNode.scrollLeft,y:h+k.parentNode.scrollTop,width:i,height:j},{contextMenuType:"simple-mode-edit",element:b,offset:{x:4,y:4}})}),e.on("cell.click",function(a){var b=a.event,c=a.node,f=a.id;if(hr(b)){var g=d.get(f);g&&e.fire("simpleMode.open",{node:c,element:g}),a.preventDefault()}})}return mG(a,[{key:"registerProvider",value:function(a){this._providers.push(a)}},{key:"canSimpleEdit",value:function(a){return this._providers.reduce(function(b,c){return b||c(a)},!1)}}]),a}();nG.$inject=["components","contextMenu","elementRegistry","eventBus","renderer"];var oG={__depends__:[LC,OB],__init__:["simpleMode"],simpleMode:["type",nG]},pG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},qG=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),rG="true",sG="false",tG="none",uG=function(a){function b(a,c){kr(this,b);var d=lr(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._modeling=c.injector.get("modeling");var e=d.props.context.element,f=ir(e.businessObject.text);return d.state={value:f||tG},d.editCell=d.editCell.bind(d),d.onChange=d.onChange.bind(d),d}return mr(b,a),qG(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onChange",value:function(a){var b=this.props.context.element;this.editCell(b.businessObject,a===tG?"":a),this.setState({value:a})}},{key:"render",value:function(){var a=this.state.value,b=[{label:"-",value:tG},{label:"Yes",value:rG},{label:"No",value:sG}];return Re(1,"div","simple-boolean-edit context-menu-container",[Re(1,"h3","dms-heading",Te("Edit Boolean"),2),Re(1,"h4","dms-heading",Te("Set Value"),2),Se(2,uD,{noInput:!0,className:"dms-block",onChange:this.onChange,options:b,value:a})],4)}}]),b}(Aw),vG=function BI(a,b){nr(this,BI),b.registerProvider(function(a){return(_c(a.col)||ad(a.col))&&"boolean"===or(a)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=or(a.element);if("boolean"===b)return uG}})};vG.$inject=["components","simpleMode"];var wG={__depends__:[cF,oG],__init__:["simpleBooleanEdit"],simpleBooleanEdit:["type",vG]},xG=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d$/,yG=/^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/,zG=/^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/,AG=/^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/,BG="exact",CG="before",DG="after",EG="between",FG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},GG=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),HG="exact",IG="before",JG="after",KG="between",LG=function(a){function b(a,c){tr(this,b);var d=ur(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._modeling=c.injector.get("modeling");var e=d.props.context.element,f=sr(e.businessObject.text);if(f){var g=void 0;g=f.date?[f.date,""]:f.dates?f.dates:["",""],d.state={type:f.type,dates:g}}else d.state={type:HG,dates:["",""]};var h=c.injector.get("debounceInput");return d.debouncedEditCell=h(d.editCell.bind(d)),d.editCell=d.editCell.bind(d),d.onTypeChange=d.onTypeChange.bind(d),d.onSetStartDateTodayClick=d.onSetStartDateTodayClick.bind(d),d.onSetEndDateTodayClick=d.onSetEndDateTodayClick.bind(d),d.onStartDateInput=d.onStartDateInput.bind(d),d.onEndDateInput=d.onEndDateInput.bind(d),d}return vr(b,a),GG(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onTypeChange",value:function(a){var b=this.props.context.element,c=this.state.dates;this.setState({type:a}),sr(qr(a,c))&&this.editCell(b.businessObject,qr(a,c))}},{key:"onSetStartDateTodayClick",value:function(){var a=this.props.context.element,b=this.state,c=b.dates,d=b.type,e=rr();this.setState({dates:[e,c[1]]}),sr(qr(d,[e,c[1]]))&&this.editCell(a.businessObject,qr(d,[e,c[1]]))}},{key:"onSetEndDateTodayClick",value:function(){var a=this.props.context.element,b=this.state,c=b.dates,d=b.type,e=rr();this.setState({dates:[c[0],e]}),sr(qr(d,[c[0],e]))&&this.editCell(a.businessObject,qr(d,[c[0],e]))}},{key:"onStartDateInput",value:function(a){var b=a.isValid,c=a.value;if(b){var d=this.props.context.element,e=this.state,f=e.dates,g=e.type;this.setState({dates:[c,f[1]]}),this.debouncedEditCell(d.businessObject,qr(g,[c,f[1]]));
}}},{key:"onEndDateInput",value:function(a){var b=a.isValid,c=a.value;if(b){var d=this.props.context.element,e=this.state,f=e.dates,g=e.type;this.setState({dates:[f[0],c]}),this.debouncedEditCell(d.businessObject,qr(g,[f[0],c]))}}},{key:"render",value:function(){var a=this.state,b=a.dates,c=a.type,d=[{label:"Exactly",value:HG},{label:"Before",value:IG},{label:"After",value:JG},{label:"Between",value:KG}];return Re(1,"div","context-menu-container simple-date-edit",[Re(1,"h3","dms-heading",Te("Edit Date"),2),Re(1,"div","dms-fill-row",Se(2,uD,{noInput:!0,onChange:this.onTypeChange,options:d,value:c}),2),Re(1,"h4","dms-heading",c===KG?"Edit Start Date":"Set Date",0),Re(1,"div",null,[Se(2,WD,{className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:"e.g. "+rr(),validate:pr,value:b[0]}),Re(1,"p","dms-hint",[Re(1,"a","use-today",Te("Use today"),2,{href:"#",onClick:this.onSetStartDateTodayClick}),Te(".")],4)],4),c===KG&&Re(1,"h4","dms-heading",Te("Edit End Date"),2),c===KG&&Re(1,"div",null,[Se(2,WD,{className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:"e.g. "+rr(),validate:pr,value:b[1]}),Re(1,"p","dms-hint",[Re(1,"a","use-today",Te("Use today"),2,{href:"#",onClick:this.onSetEndDateTodayClick}),Te(".")],4)],4)],0)}}]),b}(Aw),MG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},NG=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),OG=function(a){function b(a,c){wr(this,b);var d=xr(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._modeling=c.injector.get("modeling");var e=d.props.context.element,f=sr(e.businessObject.text);d.state={date:f?f.date:""};var g=c.injector.get("debounceInput");return d.debouncedEditCell=g(d.editCell.bind(d)),d.editCell=d.editCell.bind(d),d.onClick=d.onClick.bind(d),d.onInput=d.onInput.bind(d),d}return yr(b,a),NG(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onClick",value:function(){var a=this.props.context.element,b=rr();this.setState({date:b}),this.editCell(a.businessObject,'date and time("'+b+'")')}},{key:"onInput",value:function(a){var b=a.isValid,c=a.value;if(b){var d=this.props.context.element;this.setState({date:c}),this.debouncedEditCell(d.businessObject,'date and time("'+c+'")')}}},{key:"render",value:function(){var a=this.state.date;return Re(1,"div","context-menu-container simple-date-edit",[Re(1,"h3","dms-heading",Te("Edit Date"),2),Re(1,"h4","dms-heading",Te("Set Date"),2),Re(1,"div",null,[Se(2,WD,{onInput:this.onInput,placeholder:"e.g. "+rr(),validate:pr,value:a,className:"dms-block"}),Re(1,"p","dms-hint",[Te("Set date "),Re(1,"a","use-today",Te("to today"),2,{href:"#",onClick:this.onClick}),Te(".")],4)],4)],4)}}]),b}(Aw),PG=function CI(a,b){zr(this,CI),b.registerProvider(function(a){var b=Ar(a);return(_c(a.col)||ad(a.col))&&Br(b)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=Ar(a.element);if(Br(b)){if(_c(a.element.col))return LG;if(ad(a.element.col))return OG}}})};PG.$inject=["components","simpleMode"];var QG={__depends__:[cF,oG],__init__:["simpleDateEdit"],simpleDateEdit:["type",PG]},RG=/^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,SG=/^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,TG={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="},UG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},VG=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),WG="comparison",XG="range",YG=function(a){function b(a,c){Jr(this,b);var d=Kr(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._modeling=c.injector.get("modeling");var e=d.props.context.element,f=Dr(e.businessObject.text);f?d.state={type:f.type,comparisonOperator:f.operator||"equals",comparisonValue:f.value||0,rangeStartValue:f.values?f.values[0]:0,rangeEndValue:f.values?f.values[1]:0,rangeStartType:f.start||"include",rangeEndType:f.end||"include"}:d.state={type:WG,comparisonOperator:"equals",comparisonValue:0,rangeStartValue:0,rangeEndValue:0,rangeStartType:"include",rangeEndType:"include"};var g=c.injector.get("debounceInput");return d.debouncedEditCell=g(d.editCell.bind(d)),d.editCell=d.editCell.bind(d),d.onComparisonOperatorChange=d.onComparisonOperatorChange.bind(d),d.onComparisonValueChange=d.onComparisonValueChange.bind(d),d.onTypeChange=d.onTypeChange.bind(d),d.onRangeStartTypeChange=d.onRangeStartTypeChange.bind(d),d.onRangeStartValueChange=d.onRangeStartValueChange.bind(d),d.onRangeEndTypeChange=d.onRangeEndTypeChange.bind(d),d.onRangeEndValueChange=d.onRangeEndValueChange.bind(d),d}return Lr(b,a),VG(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onTypeChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.comparisonOperator,e=c.comparisonValue,f=c.rangeStartValue,g=c.rangeEndValue,h=c.rangeStartType,i=c.rangeEndType;a===WG?this.editCell(b.businessObject,Hr(d,e)):this.editCell(b.businessObject,Ir(f,g,h,i)),this.setState({type:a})}},{key:"onComparisonOperatorChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.comparisonValue;d===WG&&(this.editCell(b.businessObject,Hr(a,e)),this.setState({comparisonOperator:a}))}},{key:"onComparisonValueChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.comparisonOperator;d===WG&&(this.debouncedEditCell(b.businessObject,Hr(e,a)),this.setState({comparisonValue:a}))}},{key:"onRangeStartTypeChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeStartValue,f=c.rangeEndValue,g=c.rangeEndType;d===XG&&(this.editCell(b.businessObject,Ir(e,f,a,g)),this.setState({rangeStartType:a}))}},{key:"onRangeStartValueChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeEndValue,f=c.rangeStartType,g=c.rangeEndType;d===XG&&(this.editCell(b.businessObject,Ir(a,e,f,g)),this.setState({rangeStartValue:a}))}},{key:"onRangeEndTypeChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeStartValue,f=c.rangeEndValue,g=c.rangeStartType;d===XG&&(this.editCell(b.businessObject,Ir(e,f,g,a)),this.setState({rangeEndType:a}))}},{key:"onRangeEndValueChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeStartValue,f=c.rangeStartType,g=c.rangeEndType;d===XG&&(this.editCell(b.businessObject,Ir(e,a,f,g)),this.setState({rangeEndValue:a}))}},{key:"renderComparison",value:function(a,b){var c=[{label:"Equals",value:"equals"},{label:"Less",value:"less"},{label:"Less or equals",value:"lessEquals"},{label:"Greater",value:"greater"},{label:"Greater or equals",value:"greaterEquals"}];return Re(1,"div","comparison",[Re(1,"h4","dms-heading",Te("Value"),2),Re(1,"div","dms-fill-row",[Se(2,uD,{noInput:!0,onChange:this.onComparisonOperatorChange,options:c,value:a}),Te(""),Se(2,gD,{className:"comparison-number-input",onInput:this.onComparisonValueChange,type:"number",value:b})],4)],4)}},{key:"renderRange",value:function(a,b,c,d){var e=[{label:"Include",value:"include"},{label:"Exclude",value:"exclude"}];return Re(1,"div","range",[Re(1,"h4","dms-heading",Te("Start Value"),2),Re(1,"div","dms-fill-row",[Se(2,uD,{noInput:!0,onChange:this.onRangeStartTypeChange,options:e,value:c}),Te(""),Se(2,gD,{className:"range-start-number-input",onInput:this.onRangeStartValueChange,type:"number",value:a})],4),Re(1,"h4","dms-heading",Te("End Value"),2),Re(1,"div","dms-fill-row",[Se(2,uD,{noInput:!0,onChange:this.onRangeEndTypeChange,options:e,value:d}),Te(""),Se(2,gD,{className:"range-end-number-input",onInput:this.onRangeEndValueChange,type:"number",value:b})],4)],4)}},{key:"render",value:function(){var a=this.state,b=a.type,c=a.comparisonOperator,d=a.comparisonValue,e=a.rangeStartValue,f=a.rangeEndValue,g=a.rangeStartType,h=a.rangeEndType,i=[{label:"Comparison",value:WG},{label:"Range",value:XG}];return Re(1,"div","context-menu-container simple-number-edit",[Re(1,"h3","dms-heading",Te("Edit Number"),2),Re(1,"div","dms-fill-row",Se(2,uD,{noInput:!0,onChange:this.onTypeChange,options:i,value:b}),2),b===WG&&this.renderComparison(c,d),b===XG&&this.renderRange(e,f,g,h)],0)}}]),b}(Aw),ZG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},$G=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_G=function(a){function b(a,c){Mr(this,b);var d=Nr(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._modeling=c.injector.get("modeling");var e=d.props.context.element,f=Dr(e.businessObject.text);f?d.state={value:f.value}:d.state={value:""};var g=c.injector.get("debounceInput");return d.debouncedEditCell=g(d.editCell.bind(d)),d.editCell=d.editCell.bind(d),d.onInput=d.onInput.bind(d),d}return Or(b,a),$G(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onInput",value:function(a){var b=this.props.context.element;this.debouncedEditCell(b.businessObject,a),this.setState({value:a})}},{key:"render",value:function(){var a=this.state.value;return Re(1,"div","context-menu-container simple-number-edit",[Re(1,"h3","dms-heading",Te("Edit Number"),2),Re(1,"h4","dms-heading",Te("Set Value"),2),Se(2,gD,{onInput:this.onInput,type:"number",value:a})],4)}}]),b}(Aw),aH=function DI(a,b){Pr(this,DI),b.registerProvider(function(a){var b=Qr(a);return(_c(a.col)||ad(a.col))&&("integer"===b||"long"===b||"double"===b)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=Qr(a.element);if(Rr(b)){if(_c(a.element.col))return YG;if(ad(a.element.col))return _G}}})};aH.$inject=["components","simpleMode"];var bH={__depends__:[cF,oG],__init__:["simpleNumberEdit"],simpleNumberEdit:["type",aH]},cH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},dH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),eH="disjunction",fH="negation",gH="Predefined Values",hH="Predefined Values",iH="Custom Values",jH=function(a){function b(a,c){Vr(this,b);var d=Wr(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._modeling=c.injector.get("modeling");var e=Sr(a.context.element.businessObject.text);e||(e={values:[],type:eH});var f=Tr(a.context.element.col.businessObject),g=e.values.filter(function(a){return!$r(f,a)}),h=_c(a.context.element.col),i=f.map(function(a){return{value:a,isChecked:$r(e.values,a),isRemovable:!1,group:h?gH:hH}});h&&(i=i.concat(g.map(function(a){return{value:a,isChecked:!0,isRemovable:!0,group:iH}})));var j="";h||!e.values.length||$r(f,e.values[0])||(j=e.values[0]),d.state={items:i,unaryTestsType:e.type,inputValue:j,isOutputValueInputChecked:""!==j};var k=c.injector.get("debounceInput");return d.debouncedEditCell=k(d.editCell.bind(d)),d.editCell=d.editCell.bind(d),d.addUnaryTestsListItem=d.addUnaryTestsListItem.bind(d),d.onInput=d.onInput.bind(d),d.onKeyDown=d.onKeyDown.bind(d),d.onOutputValueInputClick=d.onOutputValueInputClick.bind(d),d.onUnaryTestsListChanged=d.onUnaryTestsListChanged.bind(d),d.onUnaryTestsTypeChange=d.onUnaryTestsTypeChange.bind(d),d}return Xr(b,a),dH(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onUnaryTestsTypeChange",value:function(a){var b=this.state.items,c=Zr(b),d=this.props.context.element;a===eH?(this.editCell(d.businessObject,c.join(",")),this.setState({unaryTestsType:eH})):(this.editCell(d.businessObject,"not("+c.join(",")+")"),this.setState({unaryTestsType:fH}))}},{key:"onUnaryTestsListChanged",value:function(a){var b=Zr(a),c=this.props.context.element,d=this.state.unaryTestsType;d===eH?this.editCell(c.businessObject,b.join(",")):this.editCell(c.businessObject,"not("+b.join(",")+")"),this.setState({items:a,isOutputValueInputChecked:!1})}},{key:"onOutputValueInputClick",value:function(){var a=this.props.context.element,b=this.state,c=b.inputValue,d=b.items,e=Sr(c);!e||e.values.length>1||(this.editCell(a.businessObject,""+e.values.join("")),this.setState({items:d.map(function(a){return a.isChecked=!1,a}),isOutputValueInputChecked:!0}))}},{key:"onInput",value:function(a){var b=a.isValid,c=a.value,d=this.state.isOutputValueInputChecked;this.setState({inputValue:c});var e=this.props.context.element;!_c(e)&&b&&d&&this.debouncedEditCell(e.businessObject,c)}},{key:"onKeyDown",value:function(a){var b=a.isValid,c=a.event;if(Yr(c.keyCode)){var d=this.props.context.element,e=_c(d.col);!e&&b||(c.stopPropagation(),c.preventDefault()),b&&(e?this.addUnaryTestsListItem():this.onOutputValueInputClick())}}},{key:"addUnaryTestsListItem",value:function(){var a=this.state,b=a.inputValue,c=a.items,d=a.unaryTestsType,e=Sr(b);if(e){var f=this.props.context.element,g=Zr(c),h=[].concat(g,e.values);d===eH?this.editCell(f.businessObject,h.join(",")):this.editCell(f.businessObject,"not("+h.join(",")+")");var i=c.concat(e.values.map(function(a){return{value:a,isChecked:!0,isRemovable:!0,group:"Custom Values"}}));this.setState({items:i,inputValue:""})}}},{key:"render",value:function(){var a=this,b=this.props.context.element,c=this.state,d=c.inputValue,e=c.isOutputValueInputChecked,f=c.items,g=c.unaryTestsType,h=[{label:"Match one",value:eH},{label:"Match none",value:fH}],i=_c(b.col),j=g===fH,k=!i&&f.length>0;return Re(1,"div","simple-string-edit context-menu-container",[Re(1,"h3","dms-heading",Te("Edit String"),2),i&&Re(1,"p",null,Se(2,uD,{noInput:!0,onChange:this.onUnaryTestsTypeChange,options:h,value:j?fH:eH},null,function(b){return a.selectNode=b}),2),Se(2,TD,{onChange:this.onUnaryTestsListChanged,items:f,type:i?"checkbox":"radio"}),i?Re(1,"h4","dms-heading",Te("Add Values"),2):Re(1,"h4","dms-heading",Te("Set Value"),2),Re(1,"div","dms-fill-row",[k&&Re(64,"input","cursor-pointer",null,1,{checked:e,onClick:this.onOutputValueInputClick,type:"radio",style:{marginRight:"8px"}}),Se(2,WD,{className:"dms-block",onKeyDown:this.onKeyDown,onInput:this.onInput,placeholder:i?'"value", "value", ...':'"value"',type:"text",validate:function(a){if(!Sr(a))return"Strings must be in double quotes."},value:d})],0)],0)}}]),b}(Aw),kH=function EI(a,b){_r(this,EI),b.registerProvider(function(a){return(_c(a.col)||ad(a.col))&&"string"===as(a)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=as(a.element);if("string"===b)return jH}})};kH.$inject=["components","simpleMode"];var lH={__depends__:[cF,oG],__init__:["simpleStringEdit"],simpleStringEdit:["type",kH]},mH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},nH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),oH=function(a){function b(){return cs(this,b),ds(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return es(b,a),nH(b,[{key:"getModules",value:function(){return[].concat(bs(ey._getModules()),bs(b._getModules()))}}],[{key:"_getModules",value:function(){return[lC,CC,OB,LC,dC,OC,XC,aD,kC,jE,uE,DE,HE,cF,jE,SE,jC,_E,CB,_F,hG,yB,oG,wG,QG,bH,lH]}}]),b}(ey),pH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},qH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),rH=function(a){function b(a,c){fs(this,b);var d=gs(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onElementsChanged=function(){d.forceUpdate()},d.setDecisionName=function(a){d._modeling.editDecisionName(a)},d.setDecisionId=function(a){var b=d.getDecision().id;b!==a&&d._modeling.editDecisionId(a)},d.validateId=function(a){return Up(d.getDecision(),a)},d._viewer=c.injector.get("viewer"),d._modeling=c.injector.get("modeling"),d.setupChangeListeners({bind:d.getDecision().id}),d}return hs(b,a),qH(b,[{key:"componentWillUnmount",value:function(){this.setupChangeListeners({unbind:this.getDecision().id})}},{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"setupChangeListeners",value:function(a){var b=a.bind,c=a.unbind,d=this.context.changeSupport;"string"==typeof c&&d.offElementsChanged(c,this.onElementsChanged),"string"==typeof b&&d.onElementsChanged(b,this.onElementsChanged)}},{key:"render",value:function(){var a=this.getDecision(),b=a.name,c=a.id;return Re(1,"header","decision-properties",[Se(2,sH,{className:"decision-name editor",value:b,onChange:this.setDecisionName}),Se(2,tH,{className:"decision-id editor",value:c,validate:this.validateId,onChange:this.setDecisionId})],4)}}]),b}(Aw),sH=function(a){function b(){return fs(this,b),gs(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return hs(b,a),qH(b,[{key:"render",value:function(){return Re(1,"h3",this.getClassName(),this.getEditor(),0)}}]),b}(vC),tH=function(a){function b(){return fs(this,b),gs(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return hs(b,a),qH(b,[{key:"render",value:function(){return Re(1,"h5",this.getClassName(),this.getEditor(),0)}}]),b}(vC),uH=2e3,vH=function FI(a){is(this,FI),a.onGetComponent("viewer",uH,function(){return rH})};vH.$inject=["components"];var wH={__depends__:[BC],__init__:["decisionProperties"],decisionProperties:["type",vH]},xH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),yH="is not a registered action",zH="is already registered",AH=function(){function a(b,c){js(this,a),this._actions={undo:function(){b.undo()},redo:function(){b.redo()}}}return xH(a,[{key:"trigger",value:function(a,b){if(!this._actions[a])throw ks(a,yH);return this._actions[a](b)}},{key:"register",value:function(a,b){var c=this;return"string"==typeof a?this._registerAction(a,b):void p(a,function(a,b){c._registerAction(b,a)},this)}},{key:"_registerAction",value:function(a,b){if(this.isRegistered(a))throw ks(a,zH);this._actions[a]=b}},{key:"unregister",value:function(a){if(!this.isRegistered(a))throw ks(a,yH);this._actions[a]=void 0}},{key:"isRegistered",value:function(a){return!!this._actions[a]}}]),a}();AH.$inject=["commandStack","eventBus"];var BH={__init__:["editorActions"],editorActions:["type",AH]},CH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),DH=function(){function a(b,c,d){var e=this;ns(this,a),this._init=function(){e._registerDefaultBindings(),e._fire("init")},this._destroy=function(){e._fire("destroy"),e.unbind(),e._listeners=null},this._keyHandler=function(a){var b,c,d=e._listeners,f=a.keyCode||a.charCode||-1;for(b=0;c=d[b];b++)if(c(f,a))return a.preventDefault(),void a.stopPropagation()},this.unbind=function(){var a=e._node;a&&(e._fire("unbind"),Ut.unbind(a,"keydown",e._keyHandler,!0)),e._node=null},this._config=b||{},this._eventBus=c,this._editorActions=d,this._listeners=[],c.on("viewer.destroy",this._destroy),c.on("viewer.init",this._init),c.on("attach",function(){e._config.bindTo&&e.bind(b.bindTo)}),c.on("detach",this.unbind)}return CH(a,[{key:"bind",value:function(a){this.unbind(),this._node=a,Ut.bind(a,"keydown",this._keyHandler,!0),this._fire("bind")}},{key:"getBinding",value:function(){return this._node}},{key:"_fire",value:function(a){this._eventBus.fire("keyboard."+a,{node:this._node,listeners:this._listeners})}},{key:"_registerDefaultBindings",value:function(){function a(a,b){if(ls(b)&&!ms(b)&&90===a)return d.trigger("undo"),!0}function b(a,b){if(ls(b)&&(89===a||90===a&&ms(b)))return d.trigger("redo"),!0}var c=this._listeners,d=this._editorActions;c.push(a),c.push(b)}},{key:"addListener",value:function(a){this._listeners.unshift(a)}},{key:"removeListener",value:function(a){this._listeners=this._listeners.filter(function(b){return b!==a})}}]),a}();DH.$inject=["config.keyboard","eventBus","editorActions"];var EH={__depends__:[BH],__init__:["keyboard"],keyboard:["type",DH]},FH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},GH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),HH=[{label:"FEEL",value:"feel"},{label:"JUEL",value:"juel"},{label:"JavaScript",value:"javascript"},{label:"Groovy",value:"groovy"},{label:"Python",value:"python"},{label:"JRuby",value:"jruby"}],IH=[{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"integer",value:"integer"},{label:"long",value:"long"},{label:"double",value:"double"},{label:"date",value:"date"}],JH=function(a){function b(a,c){os(this,b);var d=ps(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._viewer=c.injector.get("viewer"),d._modeling=c.injector.get("modeling");var e=d._viewer.getDecision();return d.state={name:e.variable.name,typeRef:e.variable.typeRef,expressionLanguage:rs(e.literalExpression)},d.setVariableName=d.setVariableName.bind(d),d.setVariableType=d.setVariableType.bind(d),d.setExpressionLanguage=d.setExpressionLanguage.bind(d),d}return qs(b,a),GH(b,[{key:"setVariableName",value:function(a){this._modeling.editVariableName(a),this.setState({name:a})}},{key:"setVariableType",value:function(a){""===a?(this._modeling.editVariableType(void 0),this.setState({typeRef:void 0})):(this._modeling.editVariableType(a),this.setState({typeRef:a}))}},{key:"setExpressionLanguage",value:function(a){""===a?(this._modeling.editExpressionLanguage(void 0),this.setState({expressionLanguage:void 0})):(this._modeling.editExpressionLanguage(a),this.setState({expressionLanguage:a}))}},{key:"render",value:function(){var a=this.state,b=a.expressionLanguage,c=a.name,d=a.typeRef;return Re(1,"div","literal-expression-properties",Re(1,"table",null,[Re(1,"tr",null,[Re(1,"td",null,Te("Variable Name:"),2),Re(1,"td",null,Se(2,gD,{className:"variable-name-input",onInput:this.setVariableName,placeholder:"name",value:c||""}),2)],4),Re(1,"tr",null,[Re(1,"td",null,Te("Variable Type:"),2),Re(1,"td",null,Re(1,"div","dms-fill-row",Se(2,uD,{onChange:this.setVariableType,options:IH,value:d,className:"variable-type-select dms-block"}),2),2)],4),Re(1,"tr",null,[Re(1,"td",null,Te("Expression Language:"),2),Re(1,"td",null,Re(1,"div","dms-fill-row",Se(2,uD,{onChange:this.setExpressionLanguage,options:HH,value:b,className:"expression-language-select dms-block"}),2),2)],4)],4),2)}}]),b}(Aw),KH=500,LH=function GI(a){ss(this,GI),a.onGetComponent("viewer",KH,function(){return JH})};LH.$inject=["components"];var MH={__depends__:[BC,EH],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",LH]},NH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),OH=function(){function a(b,c,d){var e=this;ts(this,a),this._commandStack=b,this._viewer=c,this._eventBus=d,d.on("viewer.init",function(){us(e.getHandlers(),b)})}return NH(a,[{key:"getHandlers",value:function(){return a._getHandlers()}},{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"editDecisionName",value:function(a){var b=this.getDecision(),c={element:b,properties:{name:a}};this._commandStack.execute("updateProperties",c)}},{key:"editDecisionId",value:function(a){var b=this.getDecision(),c={element:b,properties:{id:a}};this._commandStack.execute("updateProperties",c)}},{key:"editLiteralExpressionText",value:function(a){var b=this.getDecision(),c=b.literalExpression,d={element:c,properties:{text:a}};this._commandStack.execute("updateProperties",d)}},{key:"editExpressionLanguage",value:function(a){var b=this.getDecision(),c=b.literalExpression,d={element:c,properties:{expressionLanguage:a}};this._commandStack.execute("updateProperties",d)}},{key:"editVariableName",value:function(a){var b=this.getDecision(),c=b.variable,d={element:c,properties:{name:a}};this._commandStack.execute("updateProperties",d)}},{key:"editVariableType",value:function(a){var b=this.getDecision(),c=b.variable,d={element:c,properties:{typeRef:a}};this._commandStack.execute("updateProperties",d)}}],[{key:"_getHandlers",value:function(){return{updateProperties:NF}}}]),a}();OH.$inject=["commandStack","viewer","eventBus"];var PH={__init__:["idChangeBehavior","modeling"],commandStack:["type",Mk],idChangeBehavior:["type",qF],modeling:["type",OH]},QH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},RH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SH=function(a){function b(a,c){vs(this,b);var d=ws(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d._modeling=c.injector.get("modeling"),d._viewer=c.injector.get("viewer"),d.editLiteralExpressionText=d.editLiteralExpressionText.bind(d),d.onElementsChanged=d.onElementsChanged.bind(d);var e=d.getLiteralExpression(),f=e.id;return c.changeSupport.onElementsChanged(f,d.onElementsChanged),d}return xs(b,a),RH(b,[{key:"getLiteralExpression",value:function(){return this._viewer.getDecision().literalExpression}},{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"editLiteralExpressionText",value:function(a){this._modeling.editLiteralExpressionText(a)}},{key:"render",value:function(){var a=this.getLiteralExpression(),b=a.text;return Se(2,TH,{className:"textarea editor",value:b,onChange:this.editLiteralExpressionText})}}]),b}(Aw),TH=function(a){function b(){return vs(this,b),ws(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return xs(b,a),RH(b,[{key:"render",value:function(){return Re(1,"div",this.getClassName(),this.getEditor(),0)}}]),b}(vC),UH=function HI(a){ys(this,HI),a.onGetComponent("viewer",function(){return SH})};UH.$inject=["components"];var VH={__depends__:[BC],__init__:["textarea"],textarea:["type",UH]},WH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},XH=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),YH=function(a){function b(){return As(this,b),Bs(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Cs(b,a),XH(b,[{key:"getModules",value:function(){return[].concat(zs(fz._getModules()),zs(b._getModules()))}}],[{key:"_getModules",value:function(){return[wH,EH,MH,PH,VH]}}]),b}(fz),ZH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},$H=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_H=function(a){function b(){return Ds(this,b),Es(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return Fs(b,a),$H(b,[{key:"_getViewProviders",value:function(){return[{id:"drd",constructor:om,opens:"dmn:Definitions"},{id:"decisionTable",constructor:oH,opens:function(a){return $c(a,"dmn:Decision")&&a.decisionTable}},{id:"literalExpression",constructor:YH,opens:function(a){return $c(a,"dmn:Decision")&&a.literalExpression}}]}},{key:"_getInitialView",value:function(a){for(var b,c=0;c<a.length;c++){var d=a[c],e=d.element;if($c(e,"dmn:Decision"))return d;if($c(e,"dmn:Definitions")&&(b=d,Oi(e)))return d}return b||a[0]}}]),b}(nz),aI=document.addEventListener;document.addEventListener=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b[0];if("focusin"!==d)return aI.apply(document,b)},c.NavigatedViewer=hz,c.Modeler=_H}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:132}],53:[function(a,b,c){"use strict";b.exports=["$animate","$rootScope",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d){function f(b){g&&(a.leave(g),g=void 0),h&&(h.$destroy(),h=void 0),b&&(h=c.$new(),e(h,function(b){g=b,a.enter(b,d.parent(),d)}))}var g,h;c.$on("authentication.changed",function(a,b){f(b)}),f(b.authentication)}}}}]},{}],54:[function(a,b,c){"use strict";b.exports=["$animate","$rootScope",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,e){return function(c,d){function f(b){g&&(a.leave(g),g=void 0),h&&(h.$destroy(),h=void 0),b&&(h=c.$new(),e(h,function(b){g=b,a.enter(b,d.parent(),d)}))}var g,h;c.$on("authentication.changed",function(a,b){f(!b)}),f(!b.authentication)}}}}]},{}],55:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");a("angular-route"),a("angular-resource"),a("angular-translate");var e=a("../util/index"),f=a("./page/login"),g=a("./directives/camIfLoggedIn"),h=a("./directives/camIfLoggedOut"),i=a("./service/authenticationService"),j=d.module("cam.commons.auth",[d.module("ngRoute").name,e.name,"pascalprecht.translate"]);j.config(f).run(["$rootScope","$location",function(a,b){var c;a.$on("authentication.login.required",function(d){a.$evalAsync(function(){var a=b.url();"/login"===a||d.defaultPrevented||(c=a,
b.url("/login"))})}),a.$on("authentication.login.success",function(d){a.$evalAsync(function(){d.defaultPrevented||(b.url(c||"/").replace(),c=null)})})}]).run(["$cacheFactory","$rootScope","$location","$timeout","Notifications","$translate",function(a,b,c,d,e,f){b.$on("authentication.logout.success",function(g){b.$evalAsync(function(){g.defaultPrevented||(a.get("$http").removeAll(),c.url("/login"))}),d(function(){var a=function(){var a=new Date;if(a.getDay()>=5)return"AUTH_DAY_CONTEXT_WEEKEND";var b=a.getHours();switch(!0){case b>=4&&b<7:return"AUTH_DAY_CONTEXT_MORNING";case b>=7&&b<12:return"AUTH_DAY_CONTEXT_DAY";case b>=12&&b<17:return"AUTH_DAY_CONTEXT_AFTERNOON";case b>=17&&b<22:return"AUTH_DAY_CONTEXT_EVENING";case b>=22||b<4:return"AUTH_DAY_CONTEXT_NIGHT"}return"AUTH_DAY_CONTEXT_DAY"};e.addMessage({status:f.instant("AUTH_LOGOUT_SUCCESSFUL"),message:f.instant("AUTH_LOGOUT_THANKS",{dayContext:f.instant(a())}),exclusive:!0})})})}]).run(["$rootScope","Notifications","$translate","shouldDisplayAuthenticationError",function(a,b,c,d){a.$on("authentication.login.required",function(){d()&&b.addError({status:c.instant("AUTH_FAILED_TO_DISPLAY_RESOURCE"),message:c.instant("AUTH_AUTHENTICATION_FAILED"),http:!0,exclusive:["http"]})})}]).run(["AuthenticationService",function(){}]).directive("camIfLoggedIn",g).directive("camIfLoggedOut",h).service("AuthenticationService",i),b.exports=j},{"../util/index":93,"./directives/camIfLoggedIn":53,"./directives/camIfLoggedOut":54,"./page/login":56,"./service/authenticationService":57,"angular-resource":"angular-resource","angular-route":"angular-route","angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":48}],56:[function(a,b,c){"use strict";var d='<!-- # CE - camunda-commons-ui/lib/auth/page/login.html -->\n<div class="form-signin-container">\n  <form class="form-signin"\n        ng-submit="login()"\n        name="signinForm"\n        request-aware>\n    <h2 class="form-signin-heading">\n      {{ \'PAGE_LOGIN_PLEASE_SIGN_IN\' | translate }}\n    </h2>\n\n    <div notifications-panel\n         ng-if="signinForm.$dirty"\n         class="notifications-panel"></div>\n\n    <input autofocus\n           tabindex="1"\n           type="text"\n           class="form-control"\n           placeholder="{{ \'PAGE_LOGIN_USERNAME\' | translate }}"\n           auto-fill\n           required\n           ng-model="username"></input>\n    <input tabindex="2"\n           type="password"\n           class="form-control"\n           placeholder="{{ \'PAGE_LOGIN_PASSWORD\' | translate }}"\n           auto-fill\n           required\n           ng-model="password"></input>\n    <button tabindex="3"\n            class="btn btn-lg btn-primary"\n            type="submit">{{ \'PAGE_LOGIN_SIGN_IN_ACTION\' | translate }}</button>\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/auth/page/login.html -->\n',e=a("jquery"),f=["$scope","$rootScope","AuthenticationService","Notifications","$location","$translate",function(a,b,c,d,f,g){if(b.authentication)return f.path("/");b.showBreadcrumbs=!1;var h=e('form[name="signinForm"] [autofocus]')[0];h&&h.focus(),a.login=function(){return c.login(a.username,a.password).then(function(){d.clearAll()})["catch"](function(b){delete a.username,delete a.password,d.addError({status:g.instant("PAGE_LOGIN_FAILED"),message:b.data&&b.data.message||g.instant("PAGE_LOGIN_ERROR_MSG"),scope:a,exclusive:!0})})}}];b.exports=["$routeProvider",function(a){a.when("/login",{template:d,controller:f})}]},{jquery:"jquery"}],57:[function(a,b,c){"use strict";a("camunda-bpm-sdk-js/vendor/angular");var d=a("jquery"),e=a("../util/authentication");b.exports=["$rootScope","$q","$http","Uri",function(a,b,c,f){function g(b,c,d){a.$broadcast(b,c,d)}function h(a){if(200!==a.status)return b.reject(a);var c=a.data;return new e({name:c.userId,authorizedApps:c.authorizedApps})}function i(b){a.authentication=b,g("authentication.changed",b)}this.updateAuthentication=i,this.login=function(a,e){function j(a){return i(a),g("authentication.login.success",a),a}function k(a){return g("authentication.login.failure",a),b.reject(a)}var l=d.param({username:a,password:e});return c({method:"POST",url:f.appUri("admin://auth/user/:engine/login/:appName"),data:l,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(h).then(j,k)},this.logout=function(a){function d(a){i(null),g("authentication.logout.success",a)}function e(a){return g("authentication.logout.failure",a),b.reject(a)}return c.post(f.appUri("admin://auth/user/"+(a||":engine")+"/logout")).then(d,e)};var j;a.$on("authentication.changed",function(a,c){j=b[c?"when":"reject"](c)}),this.getAuthentication=function(){function d(a){return i(a),a}return j||(j=a.authentication?b.when(a.authentication):c.get(f.appUri("admin://auth/user/:engine")).then(h).then(d)),j},a.$on("$routeChangeStart",function(a,c){c.authentication&&(c.resolve||(c.resolve={}),c.resolve.authentication||(c.resolve.authentication=["AuthenticationService",function(a){return a.getAuthentication()["catch"](function(a){return"optional"===c.authentication?null:(g("authentication.login.required",c),b.reject(a))})}]))})}]},{"../util/authentication":58,"camunda-bpm-sdk-js/vendor/angular":48,jquery:"jquery"}],58:[function(a,b,c){"use strict";function d(a){e.extend(this,a)}var e=a("camunda-bpm-sdk-js/vendor/angular");d.prototype.canAccess=function(a){return this.authorizedApps&&this.authorizedApps.indexOf(a)!==-1},b.exports=d},{"camunda-bpm-sdk-js/vendor/angular":48}],59:[function(a,b,c){"use strict";function d(a,b){var c=Math.ceil(a/b),d=""+c;return c=(parseInt(d[0],10)+1)*Math.pow(10,d.length-1),c*b}function e(){}function f(a){return Math.log(a)/Math.log(10)}function g(a){this.moment=a.moment,this.abbreviateNumber=a.abbreviateNumber,this.resize(a.width,a.height,a.disableSelection),this.lineColors=a.lineColors,this.rulersColor=a.rulersColor||"#666",this.selectingColor=a.selectingColor||"rgba(0,0,64,0.1)",this.unselectedColor=a.unselectedColor||"rgba(0,0,0,0.1)",this.handleColorHover=a.handleColorHover||"#999",this.handleColor=a.handleColor||"#aaa",this.fontSize=a.fontSize||12,this.fontFamily=a.fontFamily||"Arial",this.lineWidth=a.lineWidth||1,this.isLogScale=a.isLogScale||!1,this.valueLabelsCount=a.valueLabelsCount||8,this.timespan=a.timespan||"day",this.interval=a.interval||900,this.handleWidth=a.handleWidth||4,this.timestampFormat=a.timestampFormat||"YYYY-MM-DDTHH:mm:ss",this.timeLabelFormats=a.timeLabelFormats||{day:"HH:mm",week:"dd DD",month:"DD MMM"},this.tickSize=a.tickSize||10,this.textPadding=a.textPadding||3,this.onselection=a.onselection||e}b.exports=g;var h=g.prototype;h._mouseIsDown=!1,h._selectedIn=null,h._selectedOut=null,h._eventHandlers={},h._eventHandlers.mouseout=function(a){this.drawMouseHint().drawSelection(a)},h._eventHandlers.mousemove=function(a){var b=this.cursorPosition(a);this._hoveredSelectionHandle=this.hoveredSelectionHandle(a),this.canvas.style.cursor=this._hoveredSelectionHandle?"ew-resize":"default","in"===this._grabbedSelectionHandle?this._selectedIn=b.left:"out"===this._grabbedSelectionHandle&&(this._selectedOut=b.left),this.drawMouseHint(b.left,b.top).drawSelection(a)},h._eventHandlers.mousedown=function(a){var b=this.cursorPosition(a),c=this.verticalScaleX(),d=this.innerW();this._hoveredSelectionHandle=this.hoveredSelectionHandle(a),this.canvas.style.cursor=this._hoveredSelectionHandle?"ew-resize":"default",this._hoveredSelectionHandle?this._grabbedSelectionHandle=this._hoveredSelectionHandle:(this._mouseIsDown||(this._selectedIn=Math.min(Math.max(b.left,c),c+d),this._selectedOut=null),this._mouseIsDown=!0),this.drawMouseHint(b.left,b.top).drawSelection(a)},h._eventHandlers.mouseup=function(a){var b=this.cursorPosition(a),c=this.verticalScaleX(),d=this.innerW();this._grabbedSelectionHandle&&(this._grabbedSelectionHandle=!1),this._mouseIsDown&&(this._selectedOut=Math.max(Math.min(b.left,c+d),c)),this._mouseIsDown=!1,Math.abs(this._selectedIn-this._selectedOut)<=1&&(this._selectedIn=this._selectedOut=null,this.onselection({start:null,end:null,"in":null,out:null})),this.drawMouseHint(b.left,b.top).drawSelection(a),this._selectedIn&&this._selectedOut&&this.onselection({start:this.momentAtX(this._selectedIn),end:this.momentAtX(this._selectedOut),"in":this._selectedIn,out:this._selectedOut})},h._eventHandlers.wheel=function(a){if(this._selectedIn&&this._selectedOut){a.preventDefault();var b=this.cursorPosition(a),c=this.ctx;c.clearRect(0,0,this.canvas.width,this.canvas.height);var d=Math.max(Math.round(Math.abs(this._selectedOut-this._selectedIn)/10),1);a.deltaY>0?(this._selectedIn+=d,this._selectedOut-=d):(this._selectedIn-=d,this._selectedOut+=d),this.drawMouseHint(b.left,b.top).drawSelection(a),this.onselection({start:this.momentAtX(this._selectedIn),end:this.momentAtX(this._selectedOut),"in":this._selectedIn,out:this._selectedOut})}},h.cursorPosition=function(a){var b=this.canvas.getBoundingClientRect();return{left:a.clientX-b.left,top:a.clientY-b.top}},h.bindEvents=function(){return Object.keys(h._eventHandlers).forEach(function(a){this.canvas.addEventListener(a,h._eventHandlers[a].bind(this),!1)},this),this},h.unbindEvents=function(){return Object.keys(h._eventHandlers).forEach(function(a){this.canvas.removeEventListener(a,h._eventHandlers[a].bind(this),!1)},this),this},h._clearCache=function(){this._verticalLabels=null,this._verticalScaleX=null,this._horizontalScaleY=null,this._innerW=null,this._innerH=null,this._selectedIn=null,this._selectedOut=null},h.resize=function(a,b,c){return this._clearCache(),this.canvas||(this.canvas=document.createElement("canvas"),this.offCanvas=document.createElement("canvas"),!c&&this.bindEvents()),this.canvas.width=this.offCanvas.width=a,this.canvas.height=this.offCanvas.height=b,this.ctx=this.canvas.getContext("2d"),this.offCtx=this.offCanvas.getContext("2d"),this._selectedIn=null,this._selectedOut=null,"function"==typeof this.onselection&&this.onselection({start:null,end:null,"in":null,out:null}),this},h.max=function(a){var b=0;return arguments.length?((this.data[a]||[]).forEach(function(a){b=Math.max(a.value,b)},this),b):((this.data||[]).forEach(function(a,c){b=Math.max(b,this.max(c))},this),b)},h.min=function(a){var b=this.max();return arguments.length?(b=this.max(a),(this.data[a]||[]).forEach(function(a){b=Math.min(a.value,b)},this),b):((this.data||[]).forEach(function(a,c){b=Math.min(b,this.min(c))},this),b)},h.momentAtX=function(a){var b=this.moment,c=this.labelFrom,d=this.labelTo,e=d-c,f=e/this.innerW();return b(f*(a-this.verticalScaleX())+this.labelFrom)},h.valueAtY=function(a){return a},h.setData=function(a,b,c){this._clearCache();var e=this.moment,f=this.abbreviateNumber;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.offCtx.clearRect(0,0,this.offCanvas.width,this.offCanvas.height),b&&(this.timespan=b),c&&(this.interval=c);var g=e(),h=[[{value:0,timestamp:g.format(this.dateformat)}]];a&&a.length&&a[0]||(a=h),this.data=a;var i,j,k=this.timespan,l=this.timestampFormat,m=this.max(),n=d(m,this.valueLabelsCount),o=this.timeLabelFormats;this.isLogScale&&(this.valueLabelsCount=this.maxLog()+1),this.valueLabels=[];for(var p=this.valueLabelsCount;p>=0;p--)j=this.isLogScale?p&&Math.pow(10,p-1):f(p*n/this.valueLabelsCount)||0,this.valueLabels.push(j);if(this.timeLabels=[],a.length&&a[0]&&a[0].length&&a[0][0].timestamp){var q=e(),r=this.labelTo=q.clone();"day"===k?r.startOf("hour").add(1,"hour"):"week"===k?r.startOf("day").add(1,"day"):"month"===k&&r.startOf("week").add(1,"week");var s,t,u=this.labelFrom=r.clone().subtract(1,k),v=1;"day"===k?(s=12,t="hour",v=2):"week"===k?(s=7,t="day"):"month"===k&&(s=4,t="week");for(var w=0;w<=s;w++)this.timeLabels.push(u.clone().add(w*v,t).format(o[k]))}return this.data=a.map(function(a){a&&a.length||(a=[{value:0}]),1===a.length&&(a=[a[0],a[0]]);var b=e(a[a.length-1].timestamp,l),c=b-i;return a.map(function(a){var d=e(a.timestamp,l);return a.positionPercent=(b-d)/c,a})}),this.draw()},h._verticalLabels=null,h.verticalLabels=function(){if(this._verticalLabels)return this._verticalLabels;var a=this.ctx,b=this.timeLabels,c=this.textPadding,d=0,e=this.innerW();return b.forEach(function(b){d+=a.measureText(b).width+2*c}),this._verticalLabels=d>e,this._verticalLabels},h._innerW=null,h.innerW=function(){if(this._innerW)return this._innerW;var a=this.lineWidth,b=Math.max(2*a,10),c=this.ctx,d=c.canvas.width,e=0,f=this.textPadding,g=this.timeLabels;return g.forEach(function(a){e=Math.max(e,c.measureText(a).width+2*f)}),this._innerW=d-(b+this.verticalScaleX()),this.verticalLabels()||(this._innerW-=e/2),this._innerW},h._innerH=null,h.innerH=function(){if(this._innerH)return this._innerH;var a=this.lineWidth,b=Math.max(2*a,10),c=this.ctx,d=c.canvas.height;return this._innerH=d-(b+this.horizontalScaleY()),this._innerH},h._verticalScaleX=null,h.verticalScaleX=function(){if(this._verticalScaleX)return this._verticalScaleX;var a=0,b=this.ctx,c=this.valueLabels,d=this.textPadding,e=this.tickSize;return c.forEach(function(c){a=Math.max(a,b.measureText(c||"0").width+4*d+e)}),a=Math.round(Math.max(a,e+d))+.5,this._verticalScaleX=a,a},h._horizontalScaleY=null,h.horizontalScaleY=function(){if(this._horizontalScaleY)return this._horizontalScaleY;var a=this.ctx,b=this.timeLabels,c=this.fontSize,d=this.tickSize,e=this.textPadding,f=this.verticalLabels(),g=0;return f?(b.forEach(function(b){g=Math.max(g,a.measureText(b).width+4*e+d)}),g=Math.round(Math.max(g,d+e))):g=c+2*e+d,this._horizontalScaleY=g,g},h.drawMouseHint=function(a,b){var c=this.ctx,d=this.innerW(),e=c.canvas.height,f=c.canvas.width,g=Math.max(2*this.lineWidth,10),h=this.verticalScaleX(),i=this.horizontalScaleY(),j=this.tickSize;if(c.strokeStyle=this.rulersColor,c.fillStyle=this.rulersColor,c.lineWidth=1,c.lineCap="round",c.lineJoin="round",c.font=this.fontSize+"px "+this.fontFamily,c.clearRect(0,0,f,e),c.drawImage(this.offCanvas,0,0,f,e,0,0,f,e),a&&a>h&&a<=h+d){var k=this.momentAtX(a).format(this.timestampFormat),l=c.measureText(k).width+2*g,m=a+l>f-g?f-(g+l):a,n=b>g?b:g;c.fillText(k,m,n),c.beginPath(),c.moveTo(a+.5,e-(i+j)),c.lineTo(a+.5,e-i),c.stroke(),c.closePath()}return this},h.drawSelection=function(a){var b=this.ctx,c=this.innerH(),d=this.innerW(),e=this.verticalScaleX(),f=Math.max(2*this.lineWidth,10),g=this.cursorPosition(a),h=this.handleWidth,i=this.selectingColor,j=this.unselectedColor,k=b.fillStyle;if(this._mouseIsDown)return b.fillStyle=i,this._selectedIn<g.left?b.fillRect(this._selectedIn,f,Math.min(g.left-this._selectedIn,e+d-this._selectedIn),c):b.fillRect(Math.max(g.left,e),f,Math.min(this._selectedIn-g.left,d),c),b.fillStyle=k,this;if(this._selectedIn&&this._selectedOut){var l=b.lineWidth,m=b.strokeStyle;if(this._selectedIn<e&&(this._selectedIn=e),this._selectedOut>e+d&&(this._selectedOut=e+d),b.fillStyle=j,this._selectedOut&&this._selectedIn>this._selectedOut){var n=this._selectedOut;this._selectedOut=this._selectedIn,this._selectedIn=n}b.fillRect(e,f,this._selectedIn-e,c),b.fillRect(this._selectedOut,f,d+e-this._selectedOut,c),b.beginPath(),b.moveTo(this._selectedIn+.5,c+f),b.lineTo(this._selectedIn+.5,f+.5),b.lineTo(this._selectedOut+.5,f+.5),b.lineTo(this._selectedOut+.5,c+f),b.stroke(),b.lineWidth=h+2,b.strokeStyle=this.rulersColor,b.beginPath(),b.moveTo(this._selectedIn,f+10),b.lineTo(this._selectedIn,80),b.stroke(),b.closePath(),b.lineWidth=h,b.strokeStyle="in"===this._hoveredSelectionHandle?this.handleColorHover:this.handleColor,b.beginPath(),b.moveTo(this._selectedIn,f+10),b.lineTo(this._selectedIn,80),b.stroke(),b.lineWidth=h+2,b.strokeStyle="#333",b.beginPath(),b.moveTo(this._selectedOut,f+10),b.lineTo(this._selectedOut,80),b.stroke(),b.closePath(),b.lineWidth=h,b.strokeStyle="out"===this._hoveredSelectionHandle?this.handleColorHover:this.handleColor,b.beginPath(),b.moveTo(this._selectedOut,f+10),b.lineTo(this._selectedOut,80),b.stroke(),b.lineWidth=l,b.fillStyle=k,b.strokeStyle=m}return this},h.hoveredSelectionHandle=function(a){if(!this._selectedIn||!this._selectedOut)return!1;var b=this.cursorPosition(a),c=this.ctx,d=Math.max(2*this.lineWidth,10),e=!1,f=this.handleWidth+4,g=c.lineWidth,h=c.strokeStyle;return c.lineWidth=1,c.strokeStyle="rgba(0,0,0,0)",c.beginPath(),c.rect(this._selectedIn-f/2,d+10,f,80),c.stroke(),c.closePath(),c.isPointInPath(b.left,b.top)&&(e="in"),c.beginPath(),c.rect(this._selectedOut-f/2,d+10,f,80),c.stroke(),c.closePath(),c.isPointInPath(b.left,b.top)&&(e="out"),c.lineWidth=g,c.strokeStyle=h,e},h.maxLog=function(){var a=this.max()||1;return Math.ceil(f(a))},h.drawRulers=function(){var a,b,c,d,e,g,h=this.offCtx,i=this.lineWidth,j=Math.max(2*i,10),k=this.abbreviateNumber,l=this.timeLabels,m=this.valueLabels,n=h.canvas.height,o=this.textPadding,p=this.tickSize,q=this.verticalScaleX(),r=this.horizontalScaleY(),s=this.innerW(),t=this.innerH(),u=this.verticalLabels();h.strokeStyle=this.rulersColor,h.fillStyle=this.rulersColor,h.lineWidth=1,h.lineCap="round",h.lineJoin="round",h.font=this.fontSize+"px "+this.fontFamily;var v=n-r+.5;for(h.beginPath(),h.moveTo(q-p,v),h.lineTo(q+s,v),h.stroke(),h.beginPath(),h.moveTo(q,j),h.lineTo(q,v+p),h.stroke(),u?(h.textAlign="right",h.textBaseline="middle"):(h.textAlign="center",h.textBaseline="top"),l.forEach(function(a,b){var c=q+b*(s/(l.length-1));h.beginPath(),h.moveTo(c,v),h.lineTo(c,v+p),h.stroke(),u?(h.save(),h.translate(c,n-(r-(p+o))),h.rotate(-Math.PI/2),h.fillText(l[b],0,0),h.restore()):h.fillText(l[b],c,n-(r-(p+o)))}),a=t/(m.length-1),d=this.maxLog(),h.textAlign="right",h.textBaseline="middle",b=0;b<m.length;b++)c=m[b],this.isLogScale?(e=c&&t/(d+1)*(f(c)+1),g=t-e+j):g=Math.round(j+a*b)-.5,h.fillText(k(c)||0,q-(p+o),g),b<m.length-1&&(h.beginPath(),h.moveTo(q-p,g),h.lineTo(q,g),h.stroke());return this},h.draw=function(){function a(a){if(!a)return r;var b=a&&m/(u+1)*(f(a)+1);return s?m-b+g:m-m/v*a+g}function b(a){return j+(a-n)/p*l}var c=this.offCtx,e=this.lineWidth,g=Math.max(2*e,10),h=c.canvas.width,i=c.canvas.height,j=this.verticalScaleX(),k=this.horizontalScaleY(),l=this.innerW(),m=this.innerH();c.clearRect(0,0,h,i);var n=this.labelFrom,o=this.labelTo,p=o-n,q=this.interval,r=i-k+.5,s=this.isLogScale,t=this.max(),u=this.maxLog(),v=d(t,this.valueLabelsCount);return this.data.forEach(function(d,f){var g,h,l,m,o=this.moment,p=this.lineColors[f];c.lineWidth=e,c.strokeStyle=p,c.beginPath(),d.forEach(function(d,e){return l=o(d.timestamp),l<=n?void(m=d):(0===e&&l>n&&(c.moveTo(j,i-k),c.lineTo(b(l.clone().subtract(q,"seconds")),i-k)),m&&(g=j,h=a(m.value),c.lineTo(g,h),m=null),g=b(l),h=a(d.value),void c.lineTo(g,h))}),o()-l>=1e3*q&&(g=b(l.clone().add(q,"seconds")),h=i-k,c.lineTo(g,h),g=b(o()),c.lineTo(g,h)),c.stroke(),c.closePath(),d.length>=1&&(c.beginPath(),c.fillStyle=p,c.arc(g,h,2*e,0,2*Math.PI),c.fill(),c.closePath())},this),this.ctx.drawImage(this.offCanvas,0,0,h,i,0,0,h,i),this.drawRulers().drawMouseHint()},h.remove=function(){this.unbindEvents(),this.canvas.parentNode.removeChild(this.canvas)}},{}],60:[function(a,b,c){"use strict";b.exports=["$interval",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f=a(function(){var b=c.val();b!==e.$viewValue&&(e.$setViewValue(b),e.$setPristine()),"function"!=typeof document.contains||document.contains(c[0])?"function"!=typeof document.contains&&a.cancel(f):a.cancel(f)},500)}}}]},{}],61:[function(a,b,c){"use strict";b.exports=["$compile","$parse",function(a,b){return{restrict:"A",link:function(c,d,e){function f(){return(g(c)||"").toString()}var g=b(e.ngBindHtml);c.$watch(f,function(){a(d.contents())(c)})}}}]},{}],62:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;d.$parsers.unshift(function(a){return e.test(a)||!a?(d.$setValidity("email",!0),a):(d.$setValidity("email",!1),null)})}}}},{}],63:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<li class="dropdown engine-select"\n    ng-show="engines.length > 1 && currentEngine">\n<!-- # CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n  <a href\n     class="dropdown-toggle"\n     data-toggle="dropdown">\n    <span class="glyphicon glyphicon-info-sign glyphicon glyphicon-info-sign "\n          tooltip="{{ \'DIRECTIVE_ENGINE_SELECT_TOOLTIP\' | translate }}"\n          tooltip-placement="bottom"></span>\n    {{ currentEngine.name }}\n  </a>\n  <ul class="dropdown-menu dropdown-menu-right">\n    <li ng-repeat="(id, engine) in engines"\n        ng-class="{ active: currentEngine.name === engine.name }">\n      <a ng-href="{{ \'app://../\' + engine.name + \'/\' | uri }}">\n        {{ engine.name }}\n      </a>\n    </li>\n  </ul>\n<!-- / CE - camunda-commons-ui/lib/directives/engineSelect.html -->\n</li>\n',f=a("jquery"),g=["$scope","$http","$location","$window","Uri","Notifications","$translate",function(a,b,c,e,f,g,h){var i=f.appUri(":engine"),j={};b.get(f.appUri("engine://engine/")).then(function(b){a.engines=b.data,d.forEach(a.engines,function(a){j[a.name]=a}),a.currentEngine=j[i],a.currentEngine||(g.addError({status:h.instant("DIRECTIVE_ENGINE_SELECT_STATUS_NOT_FOUND"),message:h.instant("DIRECTIVE_ENGINE_SELECT_MESSAGE_NOT_FOUND"),scope:a}),c.path("/dashboard"))})}];b.exports=function(){return{template:e,replace:!0,controller:g,link:function(a,b,c){var d;a.$watch(c.ngShow,function(a){a&&!d&&(d=f('<li class="divider-vertical"></li>').insertAfter(b)),!a&&d&&(d.remove(),d=null)}),a.$on("$destroy",function(){d&&d.remove()})}}}},{"camunda-bpm-sdk-js/vendor/angular":48,jquery:"jquery"}],64:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<!-- # CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n<div in-place-text-field-root>\n  <div ng-if="!editing">\n    {{ context[property] }}\n    <span class="edit-toggle"\n          ng-click="enter()">\n      <span class="glyphicon glyphicon-pencil"></span>\n    </span>\n  </div>\n\n  <form ng-if="editing"\n        ng-submit="submit()"\n        class="inline-edit"\n        name="inPlaceTextFieldForm"\n        novalidate\n        request-aware>\n\n    <fieldset>\n      <!-- {{ value }} -->\n      <input name="value"\n             ng-model="value"\n             type="text"\n             class="in-place-edit form-control"\n             placeholder="{{ placeholder }}"\n             autofocus\n             ng-required="isRequired">\n    </fieldset>\n\n    <div class="inline-edit-footer">\n\n      <p class="error" ng-show="error">\n        {{ error.message }}\n      </p>\n\n      <div class="btn-group">\n        <button type="submit"\n                class="btn btn-sm btn-primary"\n                ng-disabled="inPlaceTextFieldForm.$invalid">\n          <span class="glyphicon glyphicon-ok "></span>\n        </button>\n        <button type="button"\n                class="btn btn-sm btn-default"\n                ng-click="leave()">\n          <span class="glyphicon glyphicon-ban-circle"></span>\n        </button>\n      </div>\n    </div>\n\n  </form>\n</div>\n<!-- / CE - camunda-commons-ui/lib/directives/inPlaceTextField.html -->\n';b.exports=["$translate",function(a){function b(a){a.value=a.context[a.property]||a.defaultValue||null,a.enter=function(){a.editing=!0,a.value=a.context[a.property]},a.submit=function(){var b=this;return a.context[a.property]===b.value?void a.leave():(a.context[a.property]=b.value,d.isFunction(a.$parent[a.submitCallback])&&a.$parent[a.submitCallback](b),void a.leave())},a.leave=function(){a.editing=!1}}return{restrict:"E",scope:{unserializeCallback:"@unserialize",serializeCallback:"@serialize",initializeCallback:"@initialize",enterCallback:"@enter",validateCallback:"@validate",submitCallback:"@submit",successCallback:"@success",errorCallback:"@error",leaveCallback:"@leave",context:"=",property:"@",defaultValue:"@default"},template:e,link:function(c,d,e){if(c.isRequired=null!==e.required&&void 0!==e.required,!c.property)throw new Error(a.instant("DIRECTIVE_INPLACE_TEXTFIELD_ERROR_MSG"));var f=c.initializeCallback?c.$parent[c.initializeCallback]:function(a,b){b()};f(c,function(){b(c)})}}}]},{"camunda-bpm-sdk-js/vendor/angular":48}],65:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./email"),f=a("./engineSelect"),g=a("./autoFill"),h=a("./inPlaceTextField"),i=a("./notificationsPanel"),j=a("./passwordRepeat"),k=a("./showIfAuthorized"),l=a("./compileTemplate"),m=a("./nl2br"),n=a("./instantTypeahead"),o=a("../util/index");a("../../vendor/ui-bootstrap-tpls-0.11.2-camunda");var p=d.module("camunda.common.directives",["ui.bootstrap",o.name]);p.directive("email",e),p.directive("autoFill",g),p.directive("engineSelect",f),p.directive("camInPlaceTextField",h),p.directive("notificationsPanel",i),p.directive("passwordRepeat",j),p.directive("showIfAuthorized",k),p.directive("compileTemplate",l),p.directive("nl2br",m),p.directive("instantTypeahead",n),p.config(["$modalProvider","$tooltipProvider",function(a,b){a.options={backdrop:!0,keyboard:!0},b.options({animation:!0,popupDelay:100,appendToBody:!0})}]),b.exports=p},{"../../vendor/ui-bootstrap-tpls-0.11.2-camunda":123,"../util/index":93,"./autoFill":60,"./compileTemplate":61,"./email":62,"./engineSelect":63,"./inPlaceTextField":64,"./instantTypeahead":66,"./nl2br":67,"./notificationsPanel":68,"./passwordRepeat":69,"./showIfAuthorized":70,"camunda-bpm-sdk-js/vendor/angular":48}],66:[function(a,b,c){"use strict";var d="[$empty$]";b.exports=["$timeout",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,e,f){a(function(){f.$parsers.unshift(function(a){var b=a?a:d;return f.$viewValue=b,b}),f.$parsers.push(function(a){return a===d?"":a}),b.instantTypeahead=function(a,b){return b===d||(""+a).toLowerCase().indexOf((""+b).toLowerCase())>-1},c.bind("click",function(){f.$setViewValue(f.$viewValue),c.triggerHandler("input")}),c.bind("input",function(){f.$setViewValue(f.$viewValue)})})}}}]},{}],67:[function(a,b,c){"use strict";b.exports=[function(){return{scope:{original:"=nl2br"},link:function(a,b){b.text(a.original||"");var c=b.html().replace(/\n/g,"<br/>");b.html(c)}}}]},{}],68:[function(a,b,c){"use strict";a("angular-sanitize");var d='<div class="notifications">  <div ng-repeat="notification in notifications" class="alert" ng-class="notificationClass(notification)">    <button type="button" class="close" ng-click="removeNotification(notification)">&times;</button>    <strong class="status" ng-bind-html="trustHTML(notification.status)" compile-template></strong>     <strong ng-if="notification.message">:</strong>    <span class="message" ng-bind-html="trustHTML(notification.message)" compile-template></span>  </div></div>';b.exports=["Notifications","$filter","$sce",function(a,b,c){return{restrict:"EA",scope:{filter:"=notificationsFilter"},template:d,link:function(d){function e(a){return!f||!!b("filter")([a],f).length}var f=d.filter,g=d.notifications=[],h={add:function(a){return!!e(a)&&(g.push(a),!0)},remove:function(a){var b=g.indexOf(a);b!=-1&&g.splice(b,1)}};a.registerConsumer(h),d.removeNotification=function(a){g.splice(g.indexOf(a),1)},d.notificationClass=function(a){var b=["danger","error","success","warning","info"],c="info";return b.indexOf(a.type)>-1&&(c=a.type),"alert-"+c},d.trustHTML=function(a){return c.trustAsHtml(a)},d.$on("$destroy",function(){a.unregisterConsumer(h)})}}}]},{"angular-sanitize":"angular-sanitize"}],69:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=c.passwordRepeat;d.$parsers.unshift(function(b){var c=a.$eval(e),f=b==c;return d.$setValidity("passwordRepeat",f),b}),a.$watch(e,function(a){var b=a==d.$viewValue;d.$setValidity("passwordRepeat",b),b||d.$setViewValue(d.$viewValue)})}}}},{}],70:[function(a,b,c){"use strict";var d={application:0,user:1,group:2,"group membership":3,authorization:4},e=function(a,b,c){var e={};return e.permissionName=a,e.resourceName=b,e.resourceType=d[b],c&&(e.resourceId=c),e};b.exports=["$animate","AuthorizationResource",function(a,b){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(c,d,f){return function(c,g){var h,i,j=d.authPermission,k=d.authResourceName,l=c.$eval(d.authResourceId),m="true"===d.authInverse;b.check(e(j,k,l)).$promise.then(function(b){h&&(a.leave(h),h=void 0),i&&(i.$destroy(),i=void 0),(b.authorized&&!m||!b.authorized&&m)&&(i=c.$new(),f(i,function(b){h=b,a.enter(b,g.parent(),g)}))})}}}}]},{}],71:[function(a,b,c){"use strict";var d=function(){function a(a,b){b=Math.pow(10,b);for(var c=["k","M","G","T","P","E","Z","Y"],d=c.length-1;d>=0;d--){var e=Math.pow(10,3*(d+1));if(e<=a)return a=Math.round(a*b/e)/b,1e3==a&&d<c.length-1&&(a=1,d++),a+=c[d]}return a}return function(b,c){if(b)return b<950?b:(c||(c=1),a(b,c))}};b.exports=d},{}],72:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("camunda-bpm-sdk-js/vendor/moment");a("angular-translate");var f=d.module("cam.commons.filter.date",["pascalprecht.translate"]);f.provider("camDateFormat",function(){var a={normal:"LLL","short":"LL","long":"LLLL"};this.setDateFormat=function(b,c){c=c||"normal",a[c]=b},this.$get=function(){return function(b){return b=b||"normal",a[b]}}}),f.config(["$filterProvider",function(a){a.register("camDate",["$translate","camDateFormat",function(a,b){return function(a,c){return a?e(a).format(b(c)):""}}])}]),b.exports=f},{"angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":48,"camunda-bpm-sdk-js/vendor/moment":49}],73:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./auth/index"),f=a("./util/index"),g=a("./pages/index"),h=a("./plugin/index"),i=a("./directives/index"),j=a("./resources/index"),k=a("./search/index"),l=a("./services/index"),m=a("./widgets/index"),n=a("./filter/date/index");a("../vendor/ui-bootstrap-tpls-0.11.2-camunda"),a("angular-translate"),b.exports=d.module("cam.commons",[e.name,f.name,g.name,h.name,i.name,j.name,k.name,l.name,m.name,n.name,"ui.bootstrap","pascalprecht.translate"])},{"../vendor/ui-bootstrap-tpls-0.11.2-camunda":123,"./auth/index":55,"./directives/index":65,"./filter/date/index":72,"./pages/index":74,"./plugin/index":75,"./resources/index":79,"./search/index":80,"./services/index":88,"./util/index":93,"./widgets/index":108,"angular-translate":"angular-translate","camunda-bpm-sdk-js/vendor/angular":48}],74:[function(a,b,c){"use strict";function d(a){var b="camunda Login";a.indexOf("/cockpit/")!==-1?b="camunda Cockpit":a.indexOf("/tasklist/")!==-1?b="camunda Tasklist":a.indexOf("/admin/")!==-1&&(b="camunda Admin"),f("head title").text(b)}var e=a("camunda-bpm-sdk-js/vendor/angular");a("angular-route");var f=a("jquery"),g=e.module("camunda.common.pages",["ngRoute"]),h=["$rootScope","$location","Notifications","AuthenticationService","shouldDisplayAuthenticationError","$translate",function(a,b,c,e,f,g){function h(a){a.http=!0,a.exclusive=["http"],c.addError(a)}function i(c,i){var j=i.status,k=i.data;switch(j){case 500:h(k&&k.message?{status:g.instant("PAGES_STATUS_SERVER_ERROR"),message:k.message,exceptionType:k.exceptionType}:{status:g.instant("PAGES_STATUS_SERVER_ERROR"),message:g.instant("PAGES_MSG_SERVER_ERROR")});break;case 0:h({status:g.instant("PAGES_STATUS_REQUEST_TIMEOUT"),message:g.instant("PAGES_MSG_REQUEST_TIMEOUT")});break;case 401:b.absUrl().indexOf("/setup/#")!==-1?b.path("/setup"):(d(b.absUrl()),e.updateAuthentication(null),a.$broadcast("authentication.login.required"));break;case 403:if("AuthorizationException"==k.type){var l;if(k.resourceId)l=g.instant("PAGES_MSG_ACCESS_DENIED_RESOURCE_ID",{permissionName:k.permissionName.toLowerCase(),resourceName:k.resourceName.toLowerCase(),resourceId:k.resourceId});else{var m=k.missingAuthorizations.map(function(a){return"'"+a.permissionName+"' "+a.resourceName+"s"});l=g.instant("PAGES_MSG_ACCESS_DENIED",{missingAuths:m.join()})}h({status:g.instant("PAGES_STATUS_ACCESS_DENIED"),
message:l})}else h({status:g.instant("PAGES_STATUS_ACCESS_DENIED"),message:g.instant("PAGES_MSG_ACTION_DENIED")});break;case 404:f()&&h({status:g.instant("PAGES_STATUS_NOT_FOUND"),message:g.instant("PAGES_MSG_NOT_FOUND")});break;default:h({status:g.instant("PAGES_STATUS_COMMUNICATION_ERROR"),message:g.instant("PAGES_MSG_COMMUNICATION_ERROR",{status:j})})}}a.$on("httpError",i)}],i=["$scope","$http","$location","$window","Uri","Notifications","$translate",function(a,b,c,d,f,g,h){var i=f.appUri(":engine"),j={};b.get(f.appUri("engine://engine/")).then(function(b){a.engines=b.data,e.forEach(a.engines,function(a){j[a.name]=a}),a.currentEngine=j[i],a.currentEngine||(g.addError({status:h.instant("PAGES_STATUS_NOT_FOUND"),message:h.instant("PAGES_MSG_ENGINE_NOT_EXISTS"),scope:a}),c.path("/"))}),a.$watch("currentEngine",function(a){a&&i!==a.name&&(d.location.href=f.appUri("app://../"+a.name+"/"))})}],j=["$scope","$location",function(a,b){a.activeClass=function(a){var c=b.absUrl();return c.indexOf(a)!=-1?"active":""}}],k=["$scope","$window","$cacheFactory","$location","Notifications","AuthenticationService",function(a,b,c,d,e,f){a.logout=function(){f.logout()}}];b.exports=g.run(h).controller("ProcessEngineSelectionController",i).controller("AuthenticationController",k).controller("NavigationController",j)},{"angular-route":"angular-route","camunda-bpm-sdk-js/vendor/angular":48,jquery:"jquery"}],75:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./view"),f=a("./service"),g=d.module("cockpit.plugin",[]);e(g),f(g),b.exports=g},{"./service":76,"./view":77,"camunda-bpm-sdk-js/vendor/angular":48}],76:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("jquery");b.exports=function(a){function b(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}a._camPlugins={};var c,f=[],g=e("base").attr("cam-exclude-plugins")||"";g&&(d.forEach(g.split(","),function(a){a=a.split(":");var c="*";a.length>=2&&b(a[1])&&(c=b(a.pop())),a=b(a.shift()),a&&f.push(a+":"+c)}),c=new RegExp("("+f.join("|")+")","i"));var h=[function(){function b(a,b){for(var c,d="undefined"!=typeof b.priority?b.priority:-(1/0),e=0;c=a[e];e++)if("undefined"==typeof c.priority||c.priority<d)return void a.splice(e,0,b);a.push(b)}function d(a,c,d){var e=d[a]=d[a]||[];b(e,c)}var e={};this.registerPlugin=function(b,f,g){if(a._camPlugins[f+":"+g.id]=!1,!c||!c.test(f+":"+g.id)){a._camPlugins[f+":"+g.id]=!0;var h=e[b]=e[b]||{};d(f,g,h)}},this.$get=["$filter",function(a){var b={getAllProviders:function(a){return e[a]||{}},getProviders:function(b,c){if(!b)throw new Error("No type given");var d=c.component;if(!d)throw new Error("No component given");var f=(e[b]||{})[d];return c.id&&(f=a("filter")(f,{id:c.id})),f||[]},getProvider:function(a,b){var c=this.getProviders(a,b);return(c||[])[0]}};return b}]}];a.provider("Plugins",h);var i=["PluginsProvider",function(a){this.registerDefaultView=function(b,d){c&&c.test(b+":"+d.id)||a.registerPlugin("view",b,d)},this.registerView=function(b,c){a.registerPlugin("view",b,c)},this.$get=["Uri","Plugins",function(a,b){function c(b){d.forEach(b,function(b){d.forEach(b,function(b){b.url&&(b.url=a.appUri(b.url))})})}function e(){f||(c(b.getAllProviders("view")),f=!0)}var f=!1,g={getProviders:function(a){return e(),b.getProviders("view",a)},getProvider:function(a){var b=this.getProviders(a);return(b||[])[0]}};return g}]}];a.provider("Views",i);var j=["PluginsProvider",function(a){this.registerData=function(b,c){a.registerPlugin("data",b,c)},this.$get=["Plugins","$injector",function(a,b){var c={getProviders:function(b){return a.getProviders("data",b)},getProvider:function(a){var b=this.getProviders(a);return(b||[])[0]},instantiateProviders:function(a,c){var e=this.getProviders({component:a});d.forEach(e,function(a){b.instantiate(a.controller,c)})}};return c}]}];a.provider("Data",j)}},{"camunda-bpm-sdk-js/vendor/angular":48,jquery:"jquery"}],77:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");b.exports=function(a){a.directive("view",["$q","$http","$templateCache","$anchorScroll","$compile","$controller",function(a,b,c,e,f,g){return{restrict:"ECA",terminal:!0,link:function(h,i,j){function k(){o&&(o.$destroy(),o=null)}function l(){i.html(""),k()}function m(a){var d=a.template;if(d)return d;var e=a.url;return b.get(e,{cache:c}).then(function(a){return a.data})}function n(){var b=h.$eval(j.provider),c=h.$eval(j.vars)||{};return b?void a.when(m(b)).then(function(a){i.html(a),k();var j,l=f(i.contents()),m={};o=h.$new(!0),c&&(c.read&&d.forEach(c.read,function(a){o[a]=h[a],h.$watch(a,function(b){o[a]=b})}),c.write&&d.forEach(c.write,function(a){o.$watch(a,function(b){h[a]=b})})),b.controller&&(m.$scope=o,j=g(b.controller,m),i.children().data("$ngControllerController",j)),l(o),o.$emit("$pluginContentLoaded"),e()},function(a){throw l(),a}):void l()}var o;h.$watch(j.provider,n)}}}])}},{"camunda-bpm-sdk-js/vendor/angular":48}],78:[function(a,b,c){"use strict";b.exports=["$resource","Uri",function(a,b){return a(b.appUri("engine://engine/:engine/authorization/:action"),{action:"@action"},{check:{method:"GET",params:{action:"check"},cache:!0},count:{method:"GET",params:{action:"count"}},create:{method:"POST",params:{action:"create"}}})}]},{}],79:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./authorizationResource"),f=d.module("camunda.common.resources",[]);f.factory("AuthorizationResource",e),b.exports=f},{"./authorizationResource":78,"camunda-bpm-sdk-js/vendor/angular":48}],80:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=["$location","$rootScope",function(a,b){var c=!1;b.$on("$routeUpdate",function(a,d){c?c=!1:b.$broadcast("$routeChanged",d)}),b.$on("$routeChangeSuccess",function(){c=!1});var e=function(){return a.search.apply(a,arguments)};return e.updateSilently=function(b,e){var f=a.absUrl();d.forEach(b,function(b,c){a.search(c,b)});var g=a.absUrl();g!=f&&(c=!0),e&&a.replace()},e}],f=d.module("camunda.common.search",[]);f.factory("search",e),b.exports=f},{"camunda-bpm-sdk-js/vendor/angular":48}],81:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("camunda-bpm-sdk-js/lib/angularjs/index");b.exports=["$rootScope","$timeout","$q","$browser",function(a,b,c,f){function g(a){var b=a.headers=a.headers||{},c=f.cookies()["XSRF-TOKEN"];c&&(b["X-XSRF-TOKEN"]=c)}function h(a){this._wrapped=new e.Client.HttpClient(a)}return d.forEach(["post","get","load","put","del","options","head"],function(e){h.prototype[e]=function(f,h){var i=b(function(){},1e5);g(h);var j=d.isFunction(h.done)?h.done:d.noop;return h.done=function(c,d){function e(){return c&&401===c.status?(a.$broadcast("authentication.changed",null),a.authentication=null,void a.$broadcast("authentication.login.required")):void j(c,d)}var f=a.$$phase;"$apply"!==f&&"$digest"!==f?a.$apply(e):e(),b.cancel(i)},c.when(this._wrapped[e](f,h))}}),d.forEach(["on","once","off","trigger"],function(a){h.prototype[a]=function(){this._wrapped[a].apply(this,arguments)}}),h}]},{"camunda-bpm-sdk-js/lib/angularjs/index":4,"camunda-bpm-sdk-js/vendor/angular":48}],82:[function(a,b,c){"use strict";b.exports=["$rootScope",function(a){var b=0;return{logStarted:function(){b||a.$broadcast("requestStarted"),b++},logFinished:function(){b--,b||a.$broadcast("requestFinished")}}}]},{}],83:[function(a,b,c){"use strict";b.exports=["$route","$q","$location","Notifications","$translate",function(a,b,c,d,e){function f(f,g){function h(a){j.resolve(a)}function i(a){var b,f,h,i=!1;404===a.status?(b=e.instant("SERVICES_RESOURCE_RESOLVER_ID_NOT_FOUND",{resourceName:m,id:k}),f=!0,h=g.redirectTo||"/dashboard","function"==typeof h&&(i=!0,h(a))):401===a.status?(b=e.instant("SERVICES_RESOURCE_RESOLVER_AUTH_FAILED"),h="/login"):(b=e.instant("SERVICES_RESOURCE_RESOLVER_RECEIVED_STATUS",{status:a.status}),h="/dashboard"),i||(c.path(h),f&&c.replace(),d.addError({status:e.instant("SERVICES_RESOURCE_RESOLVER_DISPLAY_FAILED",{resourceName:m}),message:b,http:!0,exclusive:["http"]})),j.reject(b)}var j=b.defer(),k=a.current.params[f],l=g.resolve,m=g.name||"entity",n=l(k);if(n.$promise&&n.$promise.then)n=n.$promise.then(function(a){h(a)},i);else{if(!n.then)throw new Error(e.instant("SERVICES_RESOURCE_RESOLVER_NO_PROMISE"));n=n.then(h,i)}return j.promise}return{getByRouteParam:f}}]},{}],84:[function(a,b,c){"use strict";b.exports=["$window",function(a){var b=a.localStorage,c=JSON.parse(b.getItem("camunda")||"{}");return{get:function(a,b){return"undefined"!=typeof c[a]?c[a]:b},set:function(a,d){c[a]=d,b.setItem("camunda",JSON.stringify(c))},remove:function(a){delete c[a],b.setItem("camunda",JSON.stringify(c))}}}]},{}],85:[function(a,b,c){"use strict";b.exports=["$timeout",function(a){return function(b,c){var d,e=function(){var f=this,g=arguments;e.$loading=!0,d&&a.cancel(d),d=a(function(){d=null,e.$loading=!1,b.apply(f,g)},c)};return e}}]},{}],86:[function(a,b,c){"use strict";b.exports=function(){return function(a){return encodeURIComponent(a).replace(/%2F/g,"%252F").replace(/\*/g,"%2A").replace(/%5C/g,"%255C")}}},{}],87:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/moment");b.exports=function(){return function(a){return a?d(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a}}},{"camunda-bpm-sdk-js/vendor/moment":49}],88:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./../util/index"),f=a("./escape"),g=a("./debounce"),h=a("./RequestLogger"),i=a("./ResourceResolver"),j=a("./HttpClient"),k=a("./unescape"),l=a("./fixDate"),m=a("./unfixDate"),n=a("./shouldDisplayAuthenticationError"),o=d.module("camunda.common.services",[e.name]);o.filter("escape",f),o.factory("debounce",g),o.factory("RequestLogger",h),o.factory("ResourceResolver",i),o.factory("camAPIHttpClient",j),o.factory("unescape",k),o.factory("fixDate",l),o.factory("unfixDate",m),o.factory("shouldDisplayAuthenticationError",n),o.config(["$httpProvider",function(a){a.responseInterceptors.push(["$rootScope","$q","RequestLogger",function(a,b,c){return function(d){function e(a){return c.logFinished(),a}function f(d){c.logFinished();var e={status:parseInt(d.status),response:d,data:d.data};return a.$broadcast("httpError",e),b.reject(d)}return c.logStarted(),d.then(e,f)}}])}]),o.config(["$httpProvider","$windowProvider",function(a,b){var c=b.$get(),d=c.location.href,e=d.match(/\/app\/([\w-]+)\/([\w-]+)\//);if(!e)throw new Error("no process engine selected");a.defaults.headers.get={"X-Authorized-Engine":e[2]}}]),b.exports=o},{"./../util/index":93,"./HttpClient":81,"./RequestLogger":82,"./ResourceResolver":83,"./debounce":85,"./escape":86,"./fixDate":87,"./shouldDisplayAuthenticationError":89,"./unescape":90,"./unfixDate":91,"camunda-bpm-sdk-js/vendor/angular":48}],89:[function(a,b,c){"use strict";b.exports=["$location",function(a){return function(){var b=a.path();return"/login"!==b&&"/dashboard"!==b&&"/"!==b&&"/welcome"!==b}}]},{}],90:[function(a,b,c){"use strict";b.exports=function(){return function(a){var b=a.replace(/%252F/g,"%2F").replace(/%255C/g,"%5C").replace(/%2A/g,"*");return decodeURIComponent(b)}}},{}],91:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/moment");b.exports=function(){return function(a){return a?d(a).format("YYYY-MM-DDTHH:mm:ss"):a}}},{"camunda-bpm-sdk-js/vendor/moment":49}],92:[function(a,b,c){"use strict";function d(a,b){return a.replace('xmlns="'+b+'"','xmlns="'+f+'"')}var e=["http://www.omg.org/spec/DMN/20151101/dmn11.xsd"],f="http://www.omg.org/spec/DMN/20151101/dmn.xsd";b.exports=function(a){return e.reduce(d,a)}},{}],93:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./uriFilter"),f=a("./uriProvider"),g=a("./notifications");b.exports=d.module("cam.commons.util",[]).filter("uri",e).provider("Uri",f).service("Notifications",g)},{"./notifications":95,"./uriFilter":96,"./uriProvider":97,"camunda-bpm-sdk-js/vendor/angular":48}],94:[function(a,b,c){"use strict";b.exports={load:function(){return requirejs.s.contexts._.defined}}},{}],95:[function(a,b,c){"use strict";function d(a){var b=document.createTextNode(a),c=document.createElement("div");return c.appendChild(b),c.innerHTML}var e=a("camunda-bpm-sdk-js/vendor/angular");b.exports=["$filter","$timeout",function(a,b){return{notifications:[],consumers:[],addError:function(a){a.type||(a.type="danger"),this.add(a)},addMessage:function(a){a.type||(a.type="info"),this.add(a)},add:function(a){var c=this,f=this.notifications,g=this.consumers,h=a.exclusive;if(a.unsafe||(a.status=d(a.status),a.message=d(a.message||"")),h)if("boolean"==typeof h)this.clearAll();else{var i={};e.forEach(h,function(b){i[b]=a[b]}),c.clear(i)}f.push(a);for(var j,k=g.length-1;(j=g[k])&&!j.add(a);k--);a.duration&&b(function(){a.scope&&delete a.scope,c.clear(a)},a.duration),a.scope&&a.scope.$on("$destroy",function(){delete a.scope,c.clear(a)})},clear:function(b){var c=this.notifications,d=this.consumers,f=[];"string"==typeof b&&(b={status:b}),f=a("filter")(c,b),f.push(b),e.forEach(f,function(a){var b=c.indexOf(a);b!=-1&&c.splice(b,1),e.forEach(d,function(b){b.remove(a)})})},clearAll:function(){for(var a=this.notifications;a.length;){var b=a.pop();this.clear(b)}},registerConsumer:function(a){this.consumers.push(a)},unregisterConsumer:function(a){var b=this.consumers,c=b.indexOf(a);c!=-1&&b.splice(c,1)}}}]},{"camunda-bpm-sdk-js/vendor/angular":48}],96:[function(a,b,c){"use strict";var d=["Uri",function(a){return function(b){return a.appUri(b)}}];b.exports=d},{}],97:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular");b.exports=function(){var a=/[\w]+:\/\/|:[\w]+/g,b={};this.replace=function(a,c){b[a]=c},this.$get=["$injector",function(c){return{appUri:function(e){var f=e.replace(a,function(a){var e=b[a];return void 0===e?a:((d.isFunction(e)||d.isArray(e))&&(e=c.invoke(e)),e)});return f}}}]}},{"camunda-bpm-sdk-js/vendor/angular":48}],98:[function(a,b,c){"use strict";function d(a){var b=a.key&&g[a.key];if(b)return b.cached=!0,b;var c=f;return a.disableNavigation&&(c=Object.getPrototypeOf(f.prototype).constructor),new c(a)}function e(a){return a.key&&(g[a.key]=a.viewer)}var f=a("../../bpmn-js"),g={};b.exports={generateViewer:d,cacheViewer:e}},{"../../bpmn-js":50}],99:[function(a,b,c){"use strict";var d=a("jquery"),e=a("../../util/moduleLoader"),f=a("camunda-bpm-sdk-js/vendor/angular"),g=a("../../util/viewer"),h='<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>{{ \'CAM_WIDGET_BPMN_VIEWER_ERROR\' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">{{ \'CAM_WIDGET_BPMN_VIEWER_LOADING\' | translate }}</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$q","$document","$compile","$location","$rootScope","search","debounce",function(a,b,c,i,j,k,l){return{scope:{diagramData:"=",key:"@",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&",bpmnJsConf:"=?"},template:h,link:function(h,m){function n(){u.appendChild(s._container)}function o(){u.removeChild(s._container)}function p(c){var d=b[0].body,e=a.defer(),g=f.element("<img>").css("position","absolute").css("left","-9999em").css("top","-9999em").attr("src",c)[0];return g.onload=function(){e.resolve(g)},g.onerror=function(){e.reject(g)},d.appendChild(g),e.promise}function q(a){function b(){t=s.get("canvas"),r=s._definitions,u(),d(),h.loaded=!0}function c(){if(s.cached)return n(),b(),h.onLoad();if(C){h.loaded=!1;var a="object"==typeof C,c=(a?s.importDefinitions:s.importXML).bind(s);c(C,function(c,d){var e=a?function(a){a()}:h.$apply.bind(h);e(function(){return c?void(h.error=c):(h.warn=d,b(),h.onLoad())})})}}function d(){if(t){var a=JSON.parse((i.search()||{}).viewbox||"{}")[r.id];a?t.viewbox(a):t.zoom("fit-viewport","auto")}}function e(a){h.onClick({element:a.element,$event:a.originalEvent})}function f(a){h.onMouseEnter({element:a.element,$event:a.originalEvent})}function p(a){h.onMouseLeave({element:a.element,$event:a.originalEvent})}function q(){h.grabbing=!0,document.addEventListener("mouseup",D),h.$apply()}function u(){var a=s.get("eventBus");a.on("element.click",e),a.on("element.hover",f),a.on("element.out",p),a.on("element.mousedown",q),a.on("canvas.viewbox.changed",E)}function v(){var a=s.get("eventBus");a.off("element.click",e),a.off("element.hover",f),a.off("element.out",p),a.off("element.mousedown",q),a.off("canvas.viewbox.changed",E)}s=g.generateViewer({width:"100%",height:"100%",canvas:{deferUpdate:!1},key:h.key,disableNavigation:h.disableNavigation,additionalModules:x,moddleExtensions:a}),s.cached||n();var w=s.get("overlays").show.bind(s.get("overlays"));s.get("overlays").show=function(){s.get("eventBus").fire("overlays.show"),w()};var y=s.get("overlays").hide.bind(s.get("overlays"));s.get("overlays").hide=function(){s.get("eventBus").fire("overlays.hide"),y()};var z=l(function(){s.get("overlays").show()},300),A=s.get("canvas")._viewboxChanged.bind(s.get("canvas")),B=l(function(){A(),s.get("overlays").hide(),z()},0);s.get("canvas")._viewboxChanged=function(){B()};var C=null;h.$watch("diagramData",function(a){a&&(C=a,c())});var D=function(){h.grabbing=!1,document.removeEventListener("mouseup",D),h.$apply()},E=l(function(a){var b=JSON.parse((i.search()||{}).viewbox||"{}");b[r.id]={x:a.viewbox.x,y:a.viewbox.y,width:a.viewbox.width,height:a.viewbox.height},k.updateSilently({viewbox:JSON.stringify(b)});var c=j.$$phase;"$apply"!==c&&"$digest"!==c?h.$apply(function(){i.replace()}):i.replace()},500);h.zoomIn=function(){s.get("zoomScroll").zoom(1,{x:m[0].offsetWidth/2,y:m[0].offsetHeight/2})},h.zoomOut=function(){s.get("zoomScroll").zoom(-1,{x:m[0].offsetWidth/2,y:m[0].offsetHeight/2})},h.resetZoom=function(){t.resized(),t.zoom("fit-viewport","auto")},h.control.resetZoom=h.resetZoom,h.control.refreshZoom=function(){t.resized(),t.zoom(t.zoom(),"auto")},h.$on("$destroy",function(){o(),v(),s.get("overlays").clear(),g.cacheViewer({key:h.key,viewer:s})})}var r,s=null,t=null,u=m[0].querySelector(".diagram-holder");h.grabbing=!1,h.disableNavigation=h.$eval(h.disableNavigation),h.control=h.control||{},h.control.highlight=function(a){t.addMarker(a,"highlight"),m.find('[data-element-id="'+a+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},h.control.clearHighlight=function(a){t.removeMarker(a,"highlight")},h.control.isHighlighted=function(a){return t.hasMarker(a,"highlight")},h.control.createBadge=function(a,b){var d,e=s.get("overlays");b.html?d=b.html:(d=document.createElement("span"),b.color&&(d.style["background-color"]=b.color),b.tooltip&&(d.setAttribute("tooltip",b.tooltip),d.setAttribute("tooltip-placement","top")),b.text&&d.appendChild(document.createTextNode(b.text)));var f=e.add(a,{position:b.position||{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:d});return c(d)(h),f},h.control.removeBadges=function(a){s.get("overlays").remove({element:a})},h.control.removeBadge=function(a){s.get("overlays").remove(a)},h.control.getViewer=function(){return s},h.control.scrollToElement=function(a){var b,c,d,e,f=s.get("elementRegistry").get(a),g=t.viewbox();b=Math.max(g.height,f.height),c=Math.max(g.width,f.width),d=Math.min(Math.max(g.x,f.x-g.width+f.width),f.x),e=Math.min(Math.max(g.y,f.y-g.height+f.height),f.y),t.viewbox({x:d,y:e,width:c,height:b})},h.control.getElement=function(a){return s.get("elementRegistry").get(a)},h.control.getElements=function(a){return s.get("elementRegistry").filter(a)},h.loaded=!1,h.control.isLoaded=function(){return h.loaded},h.control.addAction=function(a){var b=m.find(".actions"),d=a.html;b.append(d),c(d)(h)};var v;h.control.addImage=function(a,c,d){return p(a).then(function(e){var g=e.offsetWidth,h=e.offsetHeight,i=b[0].createElementNS("http://www.w3.org/2000/svg","image");return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),i.setAttributeNS(null,"width",g),i.setAttributeNS(null,"height",h),i.setAttributeNS(null,"x",c),i.setAttributeNS(null,"y",d),b[0].body.removeChild(e),t._viewport.appendChild(i),v=f.element(i)},function(a){b[0].body.removeChild(a)})};var w=h.bpmnJsConf,x=[];w&&w.additionalModules&&f.forEach(e.load(),function(a,b){w.additionalModules[b]&&x.push(a)});var y={};w&&w.moddleExtensions&&f.forEach(w.moddleExtensions,function(a,b){y[b]=d.getJSON("../"+a+".json",function(a){return a})}),a.all(y).then(function(a){q(a)})["catch"](function(){q([])})}}}]},{"../../util/moduleLoader":94,"../../util/viewer":98,"camunda-bpm-sdk-js/vendor/angular":48,jquery:"jquery"}],100:[function(a,b,c){"use strict";var d='<div cam-widget-clipboard="getLink()" icon="glyphicon-link" tooltip-text="{{ \'CAM_WIDGET_COPY_LINK\' | translate }}">\n</div>\n';b.exports=["$location",function(a){return{restrict:"A",template:d,link:function(b){b.getLink=a.absUrl.bind(a)}}}]},{}],101:[function(a,b,c){"use strict";var d=a("lodash").throttle,e=a("./../../chart/line"),f=a("camunda-bpm-sdk-js/vendor/moment"),g=a("./../../filter/abbreviateNumber")();b.exports=["$window",function(a){return{restrict:"A",scope:{fontFamily:"=?",fontSize:"=?",handleColor:"=?",handleColorHover:"=?",handleWidth:"=?",interval:"=?",lineColors:"=?",lineWidth:"=?",rulersColor:"=?",selectingColor:"=?",selection:"&onSelection",textPadding:"=?",tickSize:"=?",timeLabelFormats:"=?",timespan:"=?",timestampFormat:"=?",unselectedColor:"=?",valueLabelsCount:"=?",values:"=",disableSelection:"=",isLogScale:"="},link:function(b,c){function h(){return Math.min(Math.max(.75*i.clientWidth,180),300)}var i=c[0],j=a.getComputedStyle(i);b.timespan=b.timespan||"day",b.interval=b.interval||900;var k=b.chart=new e({moment:f,abbreviateNumber:g,onselection:function(a){b.$apply(function(){b.selection({info:a})})},width:i.clientWidth,height:h(),fontFamily:b.fontFamily||j.fontFamily,fontSize:b.fontSize,handleColor:b.handleColor,handleColorHover:b.handleColorHover,handleWidth:b.handleWidth,lineColors:b.lineColors,lineWidth:b.lineWidth,rulersColor:b.rulersColor||j.color,selectingColor:b.selectingColor,textPadding:b.textPadding,tickSize:b.tickSize,timeLabelFormats:b.timeLabelFormats,timestampFormat:b.timestampFormat,unselectedColor:b.unselectedColor,valueLabelsCount:b.valueLabelsCount,disableSelection:b.disableSelection,isLogScale:b.isLogScale});b.$watch("values",function(){var a=i.className.replace("no-data","");b.values&&b.values.length&&b.values[0]&&b.values[0].length?k.setData(b.values,b.timespan,b.interval):(a+=" no-data",k.setData([[]],b.timespan,b.interval)),i.className=a}),i.appendChild(k.canvas);var l=d(function(){k.resize(i.clientWidth,h()).draw()},100);a.addEventListener("resize",l),b.$on("$destroy",function(){a.removeEventListener("resize",l)})},template:"<!-- keule!! pech jehabt! -->"}}]},{"./../../chart/line":59,"./../../filter/abbreviateNumber":71,"camunda-bpm-sdk-js/vendor/moment":49,lodash:"lodash"}],102:[function(a,b,c){"use strict";var d=a("clipboard"),e='<span ng-transclude></span>\n<a ng-if="!noTooltip"\n   tooltip="{{ tooltipText }}"\n   tooltip-append-to-body="true"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon {{icon}}"></a>\n<a ng-if="noTooltip"\n   ng-class="{\'copy-ok\': copyStatus === true, \'copy-error\': copyStatus === false}"\n   class="glyphicon {{icon}}"></a>\n';b.exports=["$timeout","$translate",function(a,b){return{transclude:!0,template:e,scope:{value:"=camWidgetClipboard"},link:function(c,e,f){function g(){c.$apply(),i=a(function(){c.copyStatus=null},1200,!0)}var h;c.noTooltip="undefined"!=typeof f.noTooltip,c.copyStatus=null,c.icon=f.icon||"glyphicon-copy",c.$watch("value",function(){c.tooltipText=f.tooltipText||b.instant("CAM_WIDGET_COPY",{value:c.value})});var i;a(function(){var a=e[0].querySelector("a."+c.icon);a&&(h=new d(a,{text:function(){return c.value}}),h.on("success",function(){c.copyStatus=!0,g()}),h.on("error",function(){c.copyStatus=!1,g()}))}),c.$on("$destroy",function(){h&&h.destroy&&h.destroy(),i&&a.cancel(top)})}}}]},{clipboard:"clipboard"}],103:[function(a,b,c){"use strict";var d=a("../../../cmmn-js/index.js"),e='<div class="alert alert-danger"\n     ng-if="error">\n  <span>\n    <strong>{{ \'CAM_WIDGET_CMMN_VIEWER_ERROR\' | translate }}</strong>\n  </span>\n  <span>\n   {{ error.message }}\n  </span>\n</div>\n\n<div ng-show="!error">\n\n  <div ng-if="!loaded" class="placeholder-container">\n    <div class="placeholder-content">\n      <span class="glyphicon glyphicon-refresh animate-spin"></span>\n      <span class="loading-text">{{ \'CAM_WIDGET_CMMN_VIEWER_LOADING\' | translate }}</span>\n    </div>\n  </div>\n\n  <div class="diagram-holder" ng-class=\'{"diagram-holder": true, "grab-cursor": !disableNavigation && !grabbing, "djs-cursor-move": !disableNavigation && grabbing}\'></div>\n\n  <div class="actions"></div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div ng-if="!disableNavigation"\n       class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$compile","$location","$rootScope","search","debounce",function(a,b,c,f,g){return{scope:{diagramData:"=",control:"=?",disableNavigation:"&",onLoad:"&",onClick:"&",onMouseEnter:"&",onMouseLeave:"&"},template:e,link:function(e,h){function i(){if(t){e.loaded=!1;var a="object"==typeof t,b=(a?n.importDefinitions:n.importXML).bind(n);b(t,function(b,c){var d=a?function(a){a()}:e.$apply.bind(e);d(function(){return b?void(e.error=b):(e.warn=c,u=n.get("canvas"),l=n._definitions,j(),k(),e.loaded=!0,void e.onLoad())})})}}function j(){if(u){var a=JSON.parse((b.search()||{}).viewbox||"{}")[l.id];a?u.viewbox(a):u.zoom("fit-viewport","auto")}}function k(){var a=n.get("eventBus");a.on("element.click",function(a){e.onClick({element:a.element,$event:a.originalEvent})}),a.on("element.hover",function(a){e.onMouseEnter({element:a.element,$event:a.originalEvent})}),a.on("element.out",function(a){e.onMouseLeave({element:a.element,$event:a.originalEvent})}),a.on("element.mousedown",function(){e.grabbing=!0,document.addEventListener("mouseup",v),e.$apply()}),a.on("canvas.viewbox.changed",g(function(a){var d=JSON.parse((b.search()||{}).viewbox||"{}");d[l.id]={x:a.viewbox.x,y:a.viewbox.y,width:a.viewbox.width,height:a.viewbox.height},f.updateSilently({viewbox:JSON.stringify(d)});var g=c.$$phase;"$apply"!==g&&"$digest"!==g?e.$apply(function(){b.replace()}):b.replace()},500))}var l;e.grabbing=!1,e.disableNavigation=e.$eval(e.disableNavigation),e.control=e.control||{},e.control.highlight=function(a){e.control.addMarker(a,"highlight");var b=a.id||a;h.find('[data-element-id="'+b+'"]>.djs-outline').attr({rx:"14px",ry:"14px"})},e.control.clearHighlight=function(a){e.control.removeMarker(a,"highlight")},e.control.isHighlighted=function(a){return e.control.hasMarker(a,"highlight")},e.control.addMarker=function(a,b){u.addMarker(a,b)},e.control.removeMarker=function(a,b){u.removeMarker(a,b)},e.control.hasMarker=function(a,b){return u.hasMarker(a,b)},e.control.createBadge=function(b,c){var d,f=n.get("overlays");c.html?d=c.html:(d=document.createElement("span"),c.color&&(d.style["background-color"]=c.color),c.tooltip&&(d.setAttribute("tooltip",c.tooltip),d.setAttribute("tooltip-placement","top")),c.text&&d.appendChild(document.createTextNode(c.text)));var g=f.add(b,{position:c.position||{bottom:0,right:0},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:d});return a(d)(e),g},e.control.removeBadges=function(a){n.get("overlays").remove({element:a})},e.control.removeBadge=function(a){n.get("overlays").remove(a)},e.control.getViewer=function(){return n},e.control.scrollToElement=function(a){var b,c,d,e,f=n.get("elementRegistry").get(a),g=u.viewbox();b=Math.max(g.height,f.height),c=Math.max(g.width,f.width),d=Math.min(Math.max(g.x,f.x-g.width+f.width),f.x),e=Math.min(Math.max(g.y,f.y-g.height+f.height),f.y),u.viewbox({x:d,y:e,width:c,height:b})},e.control.getElement=function(a){return n.get("elementRegistry").get(a)},e.control.getElements=function(a){return n.get("elementRegistry").filter(a)},e.loaded=!1,e.control.isLoaded=function(){return e.loaded},e.control.addAction=function(b){var c=h.find(".actions"),d=b.html;c.append(d),a(d)(e)},e.control.addImage=function(a,b,c){var d=u._viewport.image(a,b,c);return d};var m=d;e.disableNavigation&&(m=Object.getPrototypeOf(d.prototype).constructor);var n=new m({container:h[0].querySelector(".diagram-holder"),width:"100%",height:"100%",canvas:{deferUpdate:!1}}),o=n.get("overlays").show.bind(n.get("overlays"));n.get("overlays").show=function(){n.get("eventBus").fire("overlays.show"),o()};var p=n.get("overlays").hide.bind(n.get("overlays"));n.get("overlays").hide=function(){n.get("eventBus").fire("overlays.hide"),p()};var q=g(function(){n.get("overlays").show()},300),r=n.get("canvas")._viewboxChanged.bind(n.get("canvas")),s=g(function(){r(),n.get("overlays").hide(),q()},0);n.get("canvas")._viewboxChanged=function(){s()};var t=null,u=null;e.$watch("diagramData",function(a){a&&(t=a,i())});var v=function(){e.grabbing=!1,document.removeEventListener("mouseup",v),e.$apply()};e.zoomIn=function(){n.get("zoomScroll").zoom(1,{x:h[0].offsetWidth/2,y:h[0].offsetHeight/2})},e.zoomOut=function(){n.get("zoomScroll").zoom(-1,{x:h[0].offsetWidth/2,y:h[0].offsetHeight/2})},e.resetZoom=function(){u.resized(),u.zoom("fit-viewport","auto")},e.control.resetZoom=e.resetZoom,e.control.refreshZoom=function(){u.resized(),u.zoom(u.zoom(),"auto")}}}}]},{"../../../cmmn-js/index.js":51}],104:[function(a,b,c){"use strict";var d='<div class="debug">\n  <div class="col-xs-2">\n    <button class="btn btn-default btn-round"\n            ng-click="toggleOpen()"\n            tooltip="{{tooltip}}">\n      <span class="glyphicon"\n            ng-class="{\'glyphicon-eye-open\': !open, \'glyphicon-eye-close\': open}"></span>\n    </button>\n  </div>\n  <div class="col-xs-10"\n       ng-show="open">\n    <span ng-show="extended" cam-widget-clipboard="extendedInfo"\n          no-tooltip>\n      <code>{{ extensionName }}</code>\n    </span>\n    <pre ng-show="extended">{{ extendedInfo }}</pre>\n    <span cam-widget-clipboard="debugged | json "\n          no-tooltip>\n      <code>{{ varName }}</code>\n    </span>\n    <pre>{{ debugged | json }}</pre>\n  </div>\n</div>\n';b.exports=[function(){return{template:d,scope:{debugged:"=",displayName:"@displayName",extensionName:"@extensionName",open:"@",extendedInfo:"=",tooltip:"@camWidgetDebugTooltip"},link:function(a,b,c){a.varName=c.displayName||c.debugged,
a.extended=void 0!==c.extended,a.toggleOpen=function(){a.open=!a.open}}}}]},{}],105:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("../../../dmn-js/index.js").NavigatedViewer,f=a("../../../dmn-js/index.js").Modeler,g=a("../../util/change-dmn-namespace"),h='<div class="alert alert-danger"\n     ng-if="error">\n  <strong>{{ \'CAM_WIDGET_DMN_VIEWER_ERROR\' | translate }}</strong><br/>\n  {{ error.message }}\n</div>\n\n<div ng-show="!error"\n     ng-if="!loaded && !disableLoader"\n     class="placeholder-container">\n  <div class="placeholder-content">\n    {{ \'CAM_WIDGET_DMN_VIEWER_LOADING\' | translate }}<br />\n    <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  </div>\n</div>\n\n<div ng-show="!error"\n     ng-class="{\n      \'grab-cursor\': isDrd && !grabbing,\n      \'cursor-move\': isDrd && grabbing\n     }"\n     class="table-holder">\n</div>\n\n<div ng-if="!error && !disableNavigation && isDrd">\n  <div class="navigation zoom">\n    <button class="btn btn-default in"\n            title="zoom in"\n            ng-click="zoomIn()">\n      <span class="glyphicon glyphicon-plus"></span>\n    </button>\n    <button class="btn btn-default out"\n            title="zoom out"\n            ng-click="zoomOut()">\n      <span class="glyphicon glyphicon-minus"></span>\n    </button>\n  </div>\n\n  <div class="navigation reset">\n    <button class="btn btn-default"\n            title="reset zoom"\n            ng-click="resetZoom()">\n      <span class="glyphicon glyphicon-screenshot"></span>\n    </button>\n  </div>\n</div>\n';b.exports=["$window",function(a){return{scope:{xml:"=",table:"@",width:"=",height:"=",control:"=?",editMode:"=",showDetails:"=",disableNavigation:"=",enableDrdNavigation:"=",disableLoader:"=",onLoad:"&",onClick:"&",onDblClick:"&"},template:h,link:function(b,c){function h(a,b){var c=o.getActiveViewer().get("overlays"),d=c.add(a,{position:b.position||{bottom:10,right:10},show:{minZoom:-(1/0),maxZoom:+(1/0)},html:b.html});return d}function i(){if(p){var a=g(p);b.loaded=!1,o.importXML(a,function(a){if(b.isDrd=o.getDefinitions().drgElements.length>1&&!b.table,b.isDrd&&(k=o.getActiveViewer().get("canvas"),k.zoom("fit-viewport","auto"),b.control.getElements(function(a){return"dmn:Decision"===a.type}).forEach(function(a){k.addMarker(a.id,"decision-element")})),b.table){var c=/^[0-9]+$/.test(b.table);b.table=c?+b.table:b.table;var e=o.getViews().filter(function(a){return d.isString(b.table)&&a.element.id===b.table||a.element.name===b.table})[0];o.open(e)}b.$apply(function(){return a?void(b.error=a):(b.loaded=!0,void b.onLoad())})})}}function j(){k&&(k.resized(),k.zoom("fit-viewport","auto"))}var k,l=a.document;b.isDrd=!1,b.grabbing=!1,b.control=b.control||{},b.control.getViewer=function(){return o},b.control.getElement=function(a){return o.getActiveViewer().get("elementRegistry").get(a)},b.loaded=!1,b.control.isLoaded=function(){return b.loaded},b.control.highlightRow=function(a,b){var c="[data-row-id = "+a+"]";d.element(c).parent().addClass(b)},b.control.highlightElement=function(a){k&&o.getActiveViewer().get("elementRegistry").get(a)&&(k.addMarker(a,"highlight"),c.find('[data-element-id="'+a+'"]>.djs-outline').attr({rx:"14px",ry:"14px"}))},b.control.clearAllElementsHighlight=function(){if(k){var a=k.getRootElement().children;a.forEach(function(a){var b=a.id;k.hasMarker(b,"highlight")&&k.removeMarker(b,"highlight")})}},b.control.clearElementHighlight=function(a){k&&k.removeMarker(a,"highlight")},b.control.isElementHighlighted=function(a){if(k)return k.hasMarker(a,"highlight")},b.control.getElements=function(a){if(k)return o.getActiveViewer().get("elementRegistry").filter(a)},b.control.createBadge=function(a,b){k&&h(a,b)},b.control.resetZoom=j,b.control.refreshZoom=function(){k.resized(),k.zoom(k.zoom(),"auto")};var m;m=b.editMode?f:e;var n=c[0].querySelector(".table-holder"),o=new m({container:n,width:b.width,height:b.height,hideDetails:!b.showDetails,tableViewOnly:b.table,drd:{drillDown:{enabled:b.enableDrdNavigation}}}),p=null;b.$watch("xml",function(a){a&&(p=a,i())}),o.on("import.done",function(){o.getActiveViewer().on("element.click",function(a){b.$apply(function(){b.onClick({element:a.element,$event:a.originalEvent})})}),o.getActiveViewer().on("element.dblclick",function(a){b.$apply(function(){b.onDblClick({element:a.element,$event:a.originalEvent})})})});var q=b.$apply.bind(b,function(){b.grabbing=!1,l.removeEventListener("mouseup",q)});o.on("element.mousedown",b.$apply.bind(b,function(){b.grabbing=!0,l.addEventListener("mouseup",q)})),b.zoomIn=function(){o.getActiveViewer().get("zoomScroll").zoom(1,{x:c[0].offsetWidth/2,y:c[0].offsetHeight/2})},b.zoomOut=function(){o.getActiveViewer().get("zoomScroll").zoom(-1,{x:c[0].offsetWidth/2,y:c[0].offsetHeight/2})},b.resetZoom=j,a.addEventListener("resize",b.resetZoom),b.$on("destroy",function(){a.removeEventListener("resize",b.resetZoom),l.removeEventListener("mouseup",q)})}}}]},{"../../../dmn-js/index.js":52,"../../util/change-dmn-namespace":92,"camunda-bpm-sdk-js/vendor/angular":48}],106:[function(a,b,c){"use strict";var d='<div class="container-fluid">\n  <div class="row">\n    <div class="col-xs-6" style="text-align: left;">\n      {{ \'CAM_WIDGET_FOOTER_TIMEZONE\' | translate }} <i>{{timezoneName}}</i>\n    </div>\n    <div class="col-xs-6">\n      {{ \'CAM_WIDGET_FOOTER_POWERED_BY\' | translate }} <a href="http://camunda.org">camunda BPM</a> /\n      <span class="version">{{version}}</span>\n    </div>\n  </div>\n</div>\n';b.exports=[function(){return{template:d,scope:{version:"@"},link:function(a){a.timezoneName=Intl.DateTimeFormat().resolvedOptions().timeZone}}}]},{}],107:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<div class="navbar-header">\n  <button type="button"\n          class="navbar-toggle"\n          ng-class="{open: !!navbarOpen}"\n          ng-click="navbarOpen = !navbarOpen">\n    <em class="sr-only">{{ toggleNavigation }}</em>\n    <span></span>\n    <span></span>\n    <span></span>\n  </button>\n\n  <a class="navbar-brand"\n     href="#/"\n     title="{{ brandName }} {{ appName }}">\n    <span class="brand-logo"></span>\n    <span class="brand-name" ng-cloak>{{ brandName }}</span>\n  </a>\n\n  <div class="small-screen-warning">\n    <span class="glyphicon glyphicon-exclamation-sign"\n          tooltip="{{ smallScreenWarning }}"\n          tooltip-placement="bottom"></span>\n  </div>\n</div>\n\n<nav class="cam-nav app-menu">\n  <ul ng-class="{collapse: !navbarOpen}">\n\n    <li engine-select></li>\n\n    <li class="account dropdown"\n        ng-if="authentication.name"\n        ng-cloak>\n      <a href\n         class="dropdown-toggle">\n        <span class="glyphicon glyphicon-user "></span>\n        {{ (userName || authentication.name) }}\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li class="profile"\n            ng-if="currentApp !== \'welcome\'">\n          <a ng-href="{{ \'../../welcome/:engine/\' | uri }}">\n            {{ myProfile | translate }}\n          </a>\n        </li>\n\n        <li class="divider"\n            ng-if="currentApp !== \'welcome\'"></li>\n\n        <li class="logout">\n          <a href\n             ng-click="logout()">\n            {{ signOut | translate }}\n          </a>\n        </li>\n      </ul>\n    </li>\n\n    <li class="divider-vertical"\n        ng-if="authentication.name"\n        ng-cloak></li>\n\n    <li class="app-switch dropdown"\n        ng-if="showAppDropDown">\n      <a href\n         class="dropdown-toggle">\n        <span class="glyphicon glyphicon-home"></span>\n        <span class="caret"></span>\n      </a>\n\n      <ul class="dropdown-menu dropdown-menu-right">\n        <li ng-repeat="(appName, app) in apps"\n            ng-class="appName">\n          <a ng-href="{{ (\'../../\' + appName + \'/:engine/\' | uri) + getTargetRoute() }}">\n            {{ app.label }}\n          </a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n</nav>\n\n<div ng-transclude\n     class="sections-menu"\n     ng-class="{collapse: !navbarOpen}"></div>\n',f={welcome:{label:"Welcome"},admin:{label:"Admin"},cockpit:{label:"Cockpit"},tasklist:{label:"Tasklist"}};b.exports=["$translate",function(a){return{transclude:!0,template:e,scope:{authentication:"=",userName:"=?",currentApp:"@",signOut:"@?",toggleNavigation:"@?",myProfile:"@?",smallScreenWarning:"@?",brandName:"@"},compile:function(b,c){c.toggleNavigation||(c.toggleNavigation=a.instant("CAM_WIDGET_HEADER_TOGGLE_NAVIGATION")),c.myProfile||(c.myProfile=a.instant("CAM_WIDGET_HEADER_MY_PROFILE")),c.signOut||(c.signOut=a.instant("CAM_WIDGET_HEADER_SIGN_OUT")),c.brandName||(c.brandName="Camunda"),c.smallScreenWarning||(c.smallScreenWarning=a.instant("CAM_WIDGET_HEADER_SMALL_SCREEN_WARNING"))},controller:["$scope","AuthenticationService",function(a,b){function c(){var b=d.copy(f);a.currentApp&&("welcome"===a.currentApp&&a.authentication?b={}:delete b[a.currentApp]),a.authentication&&a.authentication.name&&(delete b.welcome,Object.keys(b).forEach(function(c){a.authentication.authorizedApps.indexOf(c)<0&&delete b[c]})),a.showAppDropDown=Object.keys(b).length>0,a.apps=b}a.logout=b.logout,a.getTargetRoute=function(){return a.authentication?"":"#/login"},a.$watch("currentApp",c),a.$watch("authentication",c)}]}}]},{"camunda-bpm-sdk-js/vendor/angular":48}],108:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./inline-field/cam-widget-inline-field"),f=a("./search-pill/cam-widget-search-pill"),g=a("./search-pill/cam-query-component"),h=a("./header/cam-widget-header"),i=a("./footer/cam-widget-footer"),j=a("./loader/cam-widget-loader"),k=a("./chart-line/cam-widget-chart-line"),l=a("./debug/cam-widget-debug"),m=a("./clipboard/cam-widget-clipboard"),n=a("./variable/cam-widget-variable"),o=a("./variables-table/cam-widget-variables-table"),p=a("./variables-table/cam-render-var-template"),q=a("./search/cam-widget-search"),r=a("./bpmn-viewer/cam-widget-bpmn-viewer"),s=a("./cmmn-viewer/cam-widget-cmmn-viewer"),t=a("./dmn-viewer/cam-widget-dmn-viewer"),u=a("../filter/date/index"),v=a("../directives/index"),w=a("../search/index"),x=a("./variable/cam-variable-validator"),y=a("./../services/cam-local-configuration"),z=a("./cam-share-link/cam-share-link");a("../../vendor/ui-bootstrap-tpls-0.11.2-camunda");var A=d.module("camunda.common.widgets",[u.name,v.name,w.name,"ui.bootstrap"]);A.factory("widgetLocalConf",y),A.directive("camWidgetInlineField",e),A.directive("camWidgetSearchPill",f),A.directive("camWidgetHeader",h),A.directive("camWidgetFooter",i),A.directive("camWidgetLoader",j),A.directive("camWidgetChartLine",k),A.directive("camWidgetDebug",l),A.directive("camWidgetClipboard",m),A.directive("camWidgetVariable",n),A.directive("camWidgetVariablesTable",o),A.directive("camRenderVarTemplate",p),A.directive("camWidgetSearch",q),A.directive("camWidgetBpmnViewer",r),A.directive("camWidgetCmmnViewer",s),A.directive("camWidgetDmnViewer",t),A.directive("camShareLink",z),A.directive("camVariableValidator",x),A.filter("camQueryComponent",g),b.exports=A},{"../../vendor/ui-bootstrap-tpls-0.11.2-camunda":123,"../directives/index":65,"../filter/date/index":72,"../search/index":80,"./../services/cam-local-configuration":84,"./bpmn-viewer/cam-widget-bpmn-viewer":99,"./cam-share-link/cam-share-link":100,"./chart-line/cam-widget-chart-line":101,"./clipboard/cam-widget-clipboard":102,"./cmmn-viewer/cam-widget-cmmn-viewer":103,"./debug/cam-widget-debug":104,"./dmn-viewer/cam-widget-dmn-viewer":105,"./footer/cam-widget-footer":106,"./header/cam-widget-header":107,"./inline-field/cam-widget-inline-field":109,"./loader/cam-widget-loader":110,"./search-pill/cam-query-component":111,"./search-pill/cam-widget-search-pill":112,"./search/cam-widget-search":113,"./variable/cam-variable-validator":115,"./variable/cam-widget-variable":116,"./variables-table/cam-render-var-template":117,"./variables-table/cam-widget-variables-table":118,"camunda-bpm-sdk-js/vendor/angular":48}],109:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("jquery"),f='<span ng-show="!editing"\n      ng-click="startEditing()"\n      ng-transclude\n      class="view-value">\n</span>\n\n<span ng-if="editing && (varType === \'datetime\' || varType === \'date\' || varType === \'time\')"\n      class="preview">\n  {{ dateValue | camDate }}\n</span>\n\n<span ng-if="editing"\n      ng-form\n      name="inlineForm"\n      class="edit">\n\n  <input ng-if="simpleField && !isNumber"\n         class="form-control"\n         type="{{ varType }}"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         placeholder="{{ placeholder }}" />\n\n   <input ng-if="isNumber"\n          name="numberField"\n          class="form-control"\n          ng-pattern="/^[0-9]{1,7}$/"\n          ng-model="editValue"\n          ng-keydown="handleKeydown($event)"\n          placeholder="{{ placeholder }}" />\n\n\n  <span ng-show="varType === \'datetime\' || varType === \'date\' || varType === \'time\'"\n        class="cam-widget-inline-field field-control">\n\n    <datepicker class="datepicker"\n                ng-if="varType === \'datetime\' || varType === \'date\'"\n                type="text"\n                ng-required="true"\n                is-open="datePickerOptions.isOpen"\n                show-button-bar="false"\n                ng-keydown="trapKeyboard($event, true); cancelOnEsc($event);"\n\n                ng-model="dateValue"\n                ng-change="changeDate(this)"></datepicker>\n\n    <timepicker class="timepicker"\n                ng-if="varType === \'datetime\' || varType === \'time\'"\n                show-meridian="false"\n\n                ng-model="dateValue"\n                ng-keydown="cancelOnEsc($event);"\n                ng-change="changeDate(this)"></timepicker>\n  </span>\n\n  <input ng-if="varType === \'option\' && options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option as option.value for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n  <input ng-if="varType === \'option\' && !options[0].value"\n         class="form-control"\n         type="text"\n         ng-model="editValue"\n         ng-keydown="handleKeydown($event)"\n         typeahead="option for option in options | filter:$viewValue:instantTypeahead"\n         typeahead-on-select="saveSelection($item)"\n         instant-typeahead />\n\n  <span ng-show="varType !== \'option\'"\n        class="cam-widget-inline-field btn-group">\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="changeType()"\n            ng-if="flexible">\n      <span class="glyphicon"\n            ng-class="\'glyphicon-\' + (varType === \'text\' ? \'calendar\' : \'pencil\')"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-style="{visibility: !isNumber || inlineForm.numberField.$valid ? \'visible\' : \'hidden\'}"\n            ng-click="applyChange($event);"\n            ng-keydown="cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-ok"></span>\n    </button>\n\n    <button type="button"\n            class="btn btn-xs btn-default"\n            ng-click="cancelChange($event)"\n            ng-keydown="trapKeyboard($event); cancelOnEsc($event);">\n      <span class="glyphicon glyphicon-remove"></span>\n    </button>\n  </span>\n</span>\n';b.exports=["$timeout","$filter","$document",function(a,b,c){return{scope:{varValue:"=value",varType:"@type",validator:"&validate",change:"&",onStart:"&onStartEditing",onCancel:"&onCancelEditing",placeholder:"@",options:"=?",allowNonOptions:"@",flexible:"@"},template:f,link:function(f,g){function h(a){var b,c,d,e,f,g,h,i=x.exec(a);if(i)return b=parseInt(i[1]||0,10),c=parseInt(i[2]||0,10)-1,d=parseInt(i[3]||0,10),e=parseInt(i[4]||0,10),f=parseInt(i[5]||0,10),g=parseInt(i[6]||0,10),h=parseInt(i[7]||0,10),new Date(b,c,d,e,f,g,h)}function i(){return["datetime","date","time"].indexOf(f.varType)>-1}function j(){return["color","email","month","number","range","tel","text","time","url","week"].indexOf(f.varType)>-1}function k(){if(f.editing=!1,f.invalid=!1,f.editValue=f.varValue,f.validator=f.validator||function(){},f.onStart=f.onStart||function(){},f.onCancel=f.onCancel||function(){},f.change=f.change||function(){},f.options=f.options||[],f.allowNonOptions=f.allowNonOptions||!1,f.flexible=f.flexible||!1,f.varType=f.varType?f.varType:"text",f.simpleField=j(),i()){var a=f.varValue,b=null;b=a?h(a):Date.now(),f.dateValue=b}}function l(a){if(!a||!a.length)return!1;var b=a.parent();return!(!b||!b.length)&&"body"===b[0].tagName.toLowerCase()}function m(){var a=e(g).offset();if(i()?s.addClass("datepicker-control").show().css({left:a.left+(t.outerWidth()-s.outerWidth()),top:a.top+t.outerHeight()}):s.removeClass("datepicker-control").show().css({left:a.left+(e(g).outerWidth()-s.outerWidth()),top:a.top-s.outerHeight()}),t.show().css({left:a.left,top:a.top+e(g).outerHeight()}),i()){var b=t[0].querySelector(".cam-widget-inline-field.field-control > .datepicker > table");b&&b.focus()}}function n(){t=(t&&t.length?t:e(g[0].querySelector(".field-control"))).hide(),l(t)||u.append(t),s=(s&&s.length?s:e(g[0].querySelector(".btn-group"))).hide(),l(s)||u.append(s),a(m,50)}function o(b){a(function(){f.editing&&!b||(s&&s.remove&&s.remove(),s=null,t&&t.remove&&t.remove(),t=null)},50)}function p(a){return g[0].contains(a.target)||s&&s.length&&s[0].contains(a.target)||t&&t.length&&t[0].contains(a.target)}function q(a){if(f.editing&&!p(a)){var b=e(a.target),c="ng-binding text-muted";if(!b.hasClass(c)){var d=b.children();d.hasClass(c)||f.$apply(f.cancelChange)}}}function r(a){return"number"===f.varType?a.length>0?+a:null:a}var s,t,u=e("body"),v=b("date"),w="yyyy-MM-dd'T'HH:mm:ss",x=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/;f.editing=!1,f.isNumber="number"===f.varType,f.$on("$locationChangeSuccess",function(){f.cancelChange()}),f.$on("$destroy",function(){o(!0)}),f.$watch("editing",function(a,b){a!==b&&(f.editing?(n(),g.addClass("inline-editing")):(o(),g.removeClass("inline-editing")))}),f.changeType=function(){"datetime"===f.varType?f.varType="text":f.varType="datetime",k(),f.editing=!0,g[0].attributes.type.value=f.varType,f.simpleField=j()},f.startEditing=function(){if(!f.editing){k(),f.editing=!0,f.onStart(f);var b=f.editValue;f.simpleField||(f.editValue=""),a(function(){a(function(){d.element(g[0].querySelector('[ng-model="editValue"]')).triggerHandler("input"),f.editValue=b,b&&a(function(){for(var a="object"==typeof b?b.value:b,c=e(g[0].querySelector("li[ng-mouseenter]")),d=0;d<c.length;d++){var f=c[d];if(0===f.innerText.indexOf(a))return void e(f).trigger("mouseenter")}})})}),a(function(){e('[ng-model="editValue"]').focus(),e('[ng-model="editValue"]').select(),c.bind("click",q)},50)}},f.applyChange=function(a,b){if(f.invalid=f.validator(f),!f.invalid){if(f.simpleField)f.editValue=r(e('[ng-model="editValue"]').val()),f.varValue=f.editValue;else if("option"===f.varType){if(f.options.indexOf(a)===-1&&!f.allowNonOptions)return void f.cancelChange();f.editValue=a||e('[ng-model="editValue"]').val(),f.varValue=f.editValue}else i()&&(f.varValue=v(f.dateValue,w));f.$event=b,f.change(f),f.editing=!1,c.unbind("click",q)}},f.cancelChange=function(){f.editing&&(f.editing=!1,f.onCancel(f),c.unbind("click",q))},f.changeDate=function(a){f.editValue=f.dateValue=a.dateValue},f.selectNextInlineField=function(b){for(var c=e("[cam-widget-inline-field][type='text'], [cam-widget-inline-field][type='option']"),d=b*(c.length-1);d!==!b*(c.length-1);d+=2*!b-1)if(c[d]===g[0])return void a(function(){var f=e(c[d+2*!b-1]);f.find(".view-value").click(),a(function(){f.find("input").select()})});a(function(){e(c[b*c.length-1]).find(".view-value").click()})},f.trapKeyboard=function(a,b){i()&&9===a.keyCode&&(b||a.shiftKey?b&&a.shiftKey&&(e('.cam-widget-inline-field.btn-group > button[ng-click="cancelChange($event)"]')[0].focus(),a.preventDefault()):(e(".cam-widget-inline-field.field-control > .datepicker > table")[0].focus(),a.preventDefault()))},f.cancelOnEsc=function(a){i()&&27===a.keyCode&&f.cancelChange()},f.handleKeydown=function(a){13===a.keyCode?(f.applyChange(f.selection,a),a.preventDefault()):27===a.keyCode?(f.cancelChange(a),a.preventDefault()):9===a.keyCode&&(f.applyChange(f.selection,a),f.selectNextInlineField(a.shiftKey),a.preventDefault()),f.selection=null},f.selection=null,f.saveSelection=function(b){f.selection=b,a(function(){f.selection===b&&f.applyChange(b)})}},transclude:!0}}]},{"camunda-bpm-sdk-js/vendor/angular":48,jquery:"jquery"}],110:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e='<div class="loader-state loaded"\n     ng-show="loadingState === \'LOADED\'"\n     ng-transclude></div>\n\n<div class="loader-state loading"\n     ng-if="loadingState === \'LOADING\'">\n  <span class="glyphicon glyphicon-refresh animate-spin"></span>\n  {{ textLoading }}\n</div>\n\n<div class="loader-state empty"\n     ng-if="loadingState === \'EMPTY\'">\n  {{ textEmpty }}\n</div>\n\n<div class="loader-state alert alert-danger"\n     ng-if="loadingState === \'ERROR\'">\n  {{ textError }}\n</div>\n';b.exports=[function(){return{transclude:!0,template:e,scope:{loadingState:"@",textEmpty:"@",textError:"@",textLoading:"@"},compile:function(a,b){d.isDefined(b.textLoading)||(b.textLoading="Loading"),d.isDefined(b.loadingState)||(b.loadingState="INITIAL")}}}]},{"camunda-bpm-sdk-js/vendor/angular":48}],111:[function(a,b,c){"use strict";b.exports=["$filter",function(a){function b(a){return a.match(c)}var c=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,d=a("camDate");return function(a){return a&&b(a)?d(a):a?a:"??"}}]},{}],112:[function(a,b,c){"use strict";var d=a("jquery"),e='<!-- CE # camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n<span class="search-label"\n      ng-class="{\'invalid\': !valid}">\n  <a href\n     ng-click="onDelete()"\n     tooltip-placement="top"\n     tooltip="{{ deleteText | translate }}"\n     class="remove-search glyphicon glyphicon-remove">\n  </a>\n\n  <span cam-widget-inline-field\n        class="set-value type-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'type\')"\n        type="option"\n        options="type.values"\n        change="changeSearch(\'type\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'type\')"\n        value="type.value">\n    <span ng-if="type.tooltip"\n          tooltip-placement="top"\n          tooltip="{{ type.tooltip | translate }}">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!type.tooltip">\n      {{ type.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended">:</span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !!name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        type="text"\n        tabindex="0"\n        ng-keydown="onKeydown($event,\'name\')"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          tooltip="{{name.tooltip | translate }}">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length <= 0 && !name.value.value"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="text"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="name.tooltip"\n          tooltip-placement="top"\n          tooltip="{{name.tooltip | translate }}">\n        {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="!name.tooltip">\n        {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="extended && potentialNames.length > 0"\n        cam-widget-inline-field\n        class="set-value name-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'name\')"\n        type="option"\n        options="potentialNames"\n        allow-non-options="true"\n        change="changeSearch(\'name\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'name\')"\n        value="name.value">\n    <span ng-if="extended && name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && name.value.key">\n      {{ name.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="extended && !name.tooltip && !name.value.key">\n      {{ name.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="!basic && operator.values.length > 1"\n        cam-widget-inline-field\n        class="set-value operator-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'operator\')"\n        type="option"\n        options="operator.values"\n        change="changeSearch(\'operator\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'operator\')"\n        value="operator.value">\n    <span ng-if="operator.tooltip"\n          tooltip-placement="top"\n          tooltip="{{operator.tooltip | translate }}">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n    <span ng-if="!operator.tooltip">\n      {{ operator.value.value | camQueryComponent }}\n    </span>\n  </span>\n\n  <span ng-if="operator.values.length < 2 && operator.tooltip"\n        tooltip-placement="top"\n        tooltip="{{operator.tooltip | translate }}"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n  <span ng-if="operator.values.length < 2 && !operator.tooltip"\n        class="operator-field">\n    {{ operator.value.value | camQueryComponent }}\n  </span>\n\n  <span cam-widget-inline-field\n        class="set-value value-field"\n        tabindex="0"\n        ng-keydown="onKeydown($event, \'value\')"\n        type="{{ valueType }}"\n        change="changeSearch(\'value\', varValue, $event)"\n        on-start-editing="clearEditTrigger(\'value\')"\n        ng-if="!basic"\n        options="options"\n        value="value.value"\n        flexible="{{ allowDates }}">\n    <span class="visible-whitespace"\n          ng-if="value.tooltip"\n          tooltip-placement="top"\n          tooltip="{{value.tooltip | translate }}">{{ value.value | camQueryComponent }}</span>\n    <span class="visible-whitespace"\n          ng-if="!value.tooltip">{{ value.value | camQueryComponent }}</span>\n  </span>\n</span>\n<!-- CE / camunda-commons-ui/lib/widgets/search-pill/search-pill.html -->\n';b.exports=["$timeout",function(a){return{restrict:"A",scope:{valid:"=",extended:"=",basic:"=",allowDates:"=",enforceDates:"=",enforceString:"=",options:"=",invalidText:"@",deleteText:"@",type:"=",name:"=",potentialNames:"=?",operator:"=",value:"=",onChange:"&",onDelete:"&"},link:function(b,c){function e(){return b.options?"option":b.enforceDates?"datetime":"text"}b.valueType=e(),b.potentialNames=b.potentialNames||[],b.changeSearch=function(a,c,d){var e=b[a].value;b[a].value=c,b[a].inEdit=!1,"function"==typeof b.onChange&&b.onChange({field:a,before:e,value:c,$event:d})},b.clearEditTrigger=function(a){b[a].inEdit=!1},b.onKeydown=function(a,c){13===a.keyCode&&a.target===a.currentTarget&&(b[c].inEdit=!0)},b.$watch("allowDates",function(a){a||(b.valueType=e())}),b.$watch("enforceDates",function(a){a&&(b.valueType=e())}),b.$watch("enforceString",function(a){a&&(b.valueType=e())});var f=function(b){a(function(){d(c[0].querySelectorAll("[cam-widget-inline-field][value='"+b+".value']")).find(".view-value").click()})};b.$watch("value",function(a){return a&&a.inEdit&&f("value")},!0),b.$watch("name",function(a){return a&&a.inEdit&&f("name")},!0),b.$watch("type",function(a){return a&&a.inEdit&&f("type")},!0),b.$watch("operator",function(a){return a&&!a.value&&1===a.values.length&&(a.value=a.values[0]),a&&a.inEdit&&f("operator")},!0)},template:e}}]},{jquery:"jquery"}],113:[function(a,b,c){"use strict";function d(a){return a&&"string"==typeof a&&a.match(i)?"date":typeof a}var e=a("camunda-bpm-sdk-js/vendor/angular"),f=e.copy,g=a("jquery"),h='<div class="search-field">\n  <form ng-submit="createSearch()"\n        ng-class="{\'has-search\': searches.length, \'focused\': focused}">\n\n    <div class="form-container search-container"\n         ng-style="{\'padding-right\': getRightPadding()}"\n         ng-class="{\'has-icon\': !!mode}">\n      <div ng-if="isMatchAnyActive && searches.length > 0"\n           class="match-any">\n        <button ng-click="switchMatchType()"\n                type="button"\n                class="btn btn-default btn-xs"\n                ng-disabled="searches.length < 2">\n          {{ (matchAny ? \'CAM_WIDGET_SEARCH_MATCH_TYPE_ANY\' : \'CAM_WIDGET_SEARCH_MATCH_TYPE_ALL\') | translate }}\n        </button>\n        <span ng-disabled="searches.length < 2">{{ \'CAM_WIDGET_SEARCH_MATCH_TYPE\' | translate }}</span>\n      </div>\n      <span ng-if="mode"\n            class="search-type glyphicon"\n            ng-class="\'glyphicon-\' + mode"></span>\n      <span cam-widget-search-pill\n            ng-repeat="search in searches"\n            extended="search.extended"\n            basic="search.basic"\n            allow-dates="search.allowDates"\n            enforce-dates="search.enforceDates"\n            valid="search.valid"\n            name="search.name"\n            potential-names="search.potentialNames"\n            type="search.type"\n            operator="search.operator"\n            value="search.value"\n            options="search.options"\n            invalid-text="{{ translations.invalid }}"\n            delete-text="{{ translations.deleteSearch }}"\n            on-change="handleChange($index, field, before, value, $event)"\n            on-delete="deleteSearch($index)"></span>\n      <input class="form-control main-field"\n             type="text"\n             ng-model="inputQuery"\n             ng-keydown="onKeydown($event)"\n             typeahead="type as type.value for type in dropdownTypes | filter:$viewValue:instantTypeahead"\n             typeahead-on-select="createSearch($item)"\n             instant-typeahead />\n    </div>\n  </form>\n  <div class="controls">\n    <span ng-if="total"\n          class="total-results"\n          tooltip="{{ \'CAM_WIDGET_SEARCH_TOTAL_NUMBER_RESULTS\' | translate }}">\n      {{total}}\n    </span>\n\n    <span cam-share-link></span>\n\n    <span class="dropdown stored-criteria">\n      <button ng-disabled="!searches.length && !hasCriteriaSets()"\n              class="dropdown-toggle btn btn-default">\n        <span class="glyphicon glyphicon-floppy-disk"></span>\n        <span class="caret"></span>\n      </button>\n\n      <ul class="dropdown-menu dropdown-menu-right"\n          ng-if="searchCriteriaStorage.group || hasCriteriaSets()">\n        <li ng-if="searchCriteriaStorage.group">\n          <div class="input-group input-group-sm">\n            <input type="text"\n                   class="form-control"\n                   ng-model="searchCriteriaStorage.nameInput"\n                   ng-click="storedCriteriaInputClick($event)"\n                   ng-keydown="searchCriteriaInputKeydown($event)" />\n            <span class="input-group-btn">\n              <button ng-disabled="!searchCriteriaStorage.nameInput"\n                      ng-click="storedCriteriaSaveClick($event)"\n                      class="btn btn-default"\n                      type="button">\n                <span class="glyphicon glyphicon-ok"></span>\n              </button>\n            </span>\n          </div>\n        </li>\n\n        <li role="separator"\n            class="divider"\n            ng-if="searchCriteriaStorage.group && hasCriteriaSets()"></li>\n\n        <li class="stored-criteria-set"\n            ng-if="hasCriteriaSets()"\n            ng-repeat="(key, value) in searchCriteriaStorage.available">\n          <div>\n            <a class="glyphicon glyphicon-remove-sign"\n               ng-click="dropCriteriaSet($event, key)"\n               href></a>\n\n            <a href\n               ng-click="loadCriteriaSet($event, key)">{{ key }}</a>\n          </div>\n        </li>\n      </ul>\n    </span>\n  </div>\n</div>\n',i=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(?:.(\d\d\d)| )?$/,j=function(a){
return a.type.value&&(!a.extended||a.name.value)&&(a.basic||a.operator.value)&&(a.basic||a.value.value)&&("date"===d(a.value.value)||!a.enforceDates)},k=function(a){if(!a.value)return void(a.value=a.values[0]);var b=a.values.map(function(a){return a.key}).indexOf(a.value.key);a.value=a.values[b===-1?0:b]},l=function(a,b){return b?""+a:isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:a):+a},m=!1;b.exports=["$timeout","$location","search","widgetLocalConf",function(a,b,c,i){var n=function(b){a(function(){var c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("placeholder","set");var d=!1;c.addEventListener("input",function(){d=!0}),document.body.appendChild(c),c.focus(),document.body.removeChild(c),a(function(){b(d)})},0,!1)};return{restrict:"A",scope:{types:"=camWidgetSearchTypes",translations:"=camWidgetSearchTranslations",operators:"=camWidgetSearchOperators",searches:"=?camWidgetSearchSearches",validSearches:"=?camWidgetSearchValidSearches",storageGroup:"=?camWidgetSearchStorageGroup",searchId:"@camWidgetSearchId",total:"=?camWidgetSearchTotal",matchAny:"=?camWidgetSearchMatchAny"},link:function(h,o){function p(){return E.available={},E.group?void(E.available=f(F[E.group])):void H.forEach(function(a){Object.keys(F[a]||{}).forEach(function(b){E.available[a+": "+b]=F[a][b]})})}function q(a){if(a.indexOf(":")>0){var b=a.split(":").map(function(a){return a.trim()});return{group:b[0],name:b[1]}}if(E.group)return{group:E.group,name:a}}h.isMatchAnyActive="undefined"!=typeof h.matchAny,h.switchMatchType=function(){h.isMatchAnyActive&&(h.matchAny=!h.matchAny)},h.focused=!1;var r=e.element(o).find("form")[0];r.addEventListener("focus",function(){a(function(){h.focused=!0})},!0),r.addEventListener("blur",function(){a(function(){h.focused=!1})},!0),n(function(a){if(a){var b=document.createElement("div");b.textContent=h.translations.inputPlaceholder+":",o[0].insertBefore(b,o[0].firstChild),h.$root.$broadcast("plugin:search:change")}else o[0].querySelector("input.main-field").setAttribute("placeholder",h.translations.inputPlaceholder)}),h.searchTypes=h.types.map(function(a){return a.id}),h.getRightPadding=function(){return o.width()>400?"125px":"12px"};var s=h.types.reduce(function(a,b){return a||(b["default"]?b:null)},null),t=function(){var a=h.searches.map(function(a){return a.type.value.key}).reduce(function(a,b){return a.indexOf(b)===-1&&a.push(b),a},[]),b=a.map(function(a){return u(a)?u(a).groups:null}).filter(function(a){return!!a}).reduce(function(a,b){if(a){if(0===a.length)return e.copy(b);for(var c=0;c<a.length;c++)b.indexOf(a[c])===-1&&(a.splice(c,1),c--);return 0===a.length?null:a}return null},[]);return null===b?[]:0===b.length?h.searchTypes:h.searchTypes.filter(function(a){var c=u(a.key).groups;if(!c)return!0;for(var d=0;d<c.length;d++)if(b.indexOf(c[d])>-1)return!0;return!1})},u=function(a){return h.types.reduce(function(b,c){return b||(c.id.key===a?c:null)},null)},v=function(a,b){return a.operators||h.operators[d(l(b,a.enforceString))]},w=function(a){return a.map(function(a){var b=u(a.type);if(b){var c={extended:b.extended,basic:b.basic,type:{values:t(),value:t().reduce(function(b,c){return b||(c.key===a.type?c:null)},null),tooltip:h.translations.type},name:{value:a.name,tooltip:h.translations.name},options:b.options,operator:{tooltip:h.translations.operator},value:{value:a.value,tooltip:h.translations.value},allowDates:b.allowDates,enforceDates:b.enforceDates,potentialNames:b.potentialNames||[],enforceString:b.enforceString};return c.operator.values=v(b,c.value.value),c.operator.value=c.operator.values.reduce(function(b,c){return b||(c.key===a.operator?c:null)},null),c.valid=j(c),c}}).filter(function(a){return a})},x=h.searchId||"search",y=function(){var a=JSON.parse((b.search()||{})[x+"Query"]||"[]");return w(a)};h.searches=h.searches||[],h.searches=y(),h.validSearchesBuffer=h.searches.reduce(function(a,b){return b.valid&&a.push(b),a},[]),h.validSearches=e.copy(h.validSearchesBuffer);var z=function(a,b){var c=h.searches[a];if(!c.valid){if(c.extended&&!c.name.value&&"name"!==b)return void(c.name.inEdit=!0);if("value"!==b)return void(c.value.inEdit=!0)}for(var d=1;d<h.searches.length;d++){var e=(d+a)%h.searches.length;if(c=h.searches[e],!c.valid)return void(c.extended&&!c.name.value?c.name.inEdit=!0:c.value.inEdit=!0)}};h.createSearch=function(b){if(b||h.inputQuery){var c=b?"":h.inputQuery;b=b&&u(b.key)||s;var d=v(b,c);h.searches.push({extended:b.extended,basic:b.basic,type:{values:t(),value:b.id,tooltip:h.translations.type},name:{value:"",inEdit:b.extended,tooltip:h.translations.name},operator:{value:d[0],values:d,tooltip:h.translations.operator},options:b.options,value:{value:c,inEdit:!b.extended&&!c,tooltip:h.translations.value},allowDates:b.allowDates,enforceDates:b.enforceDates,potentialNames:b.potentialNames,enforceString:b.enforceString});var e=h.searches[h.searches.length-1];e.valid=j(e),c?h.inputQuery="":a(function(){a(function(){h.inputQuery="",g(o[0].querySelector(".search-container > input")).blur()})})}},h.deleteSearch=function(b){h.searches.splice(b,1),a(function(){g(o[0].querySelector(".search-container > input")).focus()})},h.handleChange=function(b,c,d,e,f){var i,l=h.searches[b];"type"===c?(i=u(e.key),l.extended=i.extended,l.basic=i.basic,l.allowDates=i.allowDates,!l.enforceDates&&i.enforceDates&&(l.value.value=""),l.enforceDates=i.enforceDates,l.operator.values=v(i,l.value.value),k(l.operator)):"value"===c&&(b===h.searches.length-1&&a(function(){g(o[0].querySelector(".search-container > input")).focus()}),i=u(l.type.value.key),i.operators||(l.operator.values=v(i,l.value.value),k(l.operator))),l.valid=j(l),f&&13===f.keyCode&&z(b,c)},h.onKeydown=function(b){if([38,40,13].indexOf(b.keyCode)!==-1){var c=g(o[0].querySelectorAll('.dropdown-menu[id^="typeahead"]'));0===c.length&&a(function(){e.element(b.target).triggerHandler("input")})}};var A=function(a){var b=[];return e.forEach(a,function(a){b.push({type:a.type.value.key,operator:a.operator.value.key,value:a.value.value,name:a.name.value})}),b},B=function(){var d=h.searches;e.forEach(d,function(a){a.valid&&h.validSearchesBuffer.indexOf(a)===-1&&h.validSearchesBuffer.push(a)}),e.forEach(h.validSearchesBuffer,function(a,b){a.valid&&d.indexOf(a)!==-1||h.validSearchesBuffer.splice(b,1)});var f={};if(f[x+"Query"]=JSON.stringify(A(h.validSearchesBuffer)),h.isMatchAnyActive){var g;h.matchAny&&!b.search().hasOwnProperty(x+"OrQuery")?g=b.url()+"&"+x+"OrQuery":h.matchAny||(g=b.url().replace("&"+x+"OrQuery","")),b.url(g),b.replace()}m=!0,c.updateSilently(f,!b.search()[x+"Query"]),a(function(){m=!1}),D()};h.$watch("[searches, matchAny]",B,!0),h.$on("$locationChangeSuccess",function(){if(h.matchAny=b.search().hasOwnProperty(x+"OrQuery"),!m&&b.search().hasOwnProperty(x+"Query")){var a=y();e.equals(a,h.validSearchesBuffer)||(e.forEach(h.searches,function(b){b.valid||a.push(b)}),h.validSearchesBuffer=[],h.searches=a)}});var C;h.$watch("validSearchesBuffer",function(){a.cancel(C),C=a(function(){h.validSearches=e.copy(h.validSearchesBuffer)})},!0);var D=function(){var a=t();h.dropdownTypes=a;for(var b=0;b<h.searches.length;b++)h.searches[b].type.values=a};h.$watch("types",function(){h.searchTypes=h.types.map(function(a){return a.id}),h.dropdownTypes=t(),e.forEach(h.searches,function(a){a.potentialNames=u(a.type.value.key)?u(a.type.value.key).potentialNames||[]:null})},!0),h.dropdownTypes=t();for(var E=h.searchCriteriaStorage={group:null,nameInput:"",available:{}},F={},G=h.storageGroup?[h.storageGroup]:h.types.map(function(a){return a.groups}).reduce(function(a,b){return(a||[]).concat(b)}).filter(function(a){return a}),H=[],I=0;I<G.length;I++)H.indexOf(G[I])<0&&G[I]&&H.push(G[I]);!H.length&&h.storageGroup&&H.push(h.storageGroup),H.forEach(function(a){F[a]={}}),h.$watch("validSearches",function(){if(h.storageGroup)return E.group=h.storageGroup,void p();var a=null;h.validSearches.forEach(function(b){if(!a){var c=b.type.value.key;h.types.forEach(function(b){a||b.id.key===c&&1===(b.groups||[]).length&&(a=(b.groups||[])[0])})}}),E.group=a,p()},!0),F=i.get("searchCriteria",F),p(),h.$watch("storageGroup",function(){h.storageGroup&&H.indexOf(h.storageGroup)<0||(E.group=h.storageGroup,p())}),h.storedCriteriaInputClick=function(a){a.stopPropagation()},h.searchCriteriaInputKeydown=function(a){if(13===a.keyCode)return h.storedCriteriaSaveClick(a)},h.hasCriteriaSets=function(){return!!Object.keys(E.available||{}).length},h.loadCriteriaSet=function(a,b){var c=q(b);if(c){var d=F[c.group][c.name];h.searches=w(d),h.isMatchAnyActive&&(h.matchAny=d[d.length-1].matchAny),B()}},h.dropCriteriaSet=function(a,b){a.stopPropagation();var c=q(b);c&&(delete F[c.group][c.name],i.set("searchCriteria",F),p())},h.storedCriteriaSaveClick=function(a){a.stopPropagation();var b=E.nameInput;b&&(F[E.group]=F[E.group]||{},F[E.group][b]=A(h.validSearchesBuffer),h.isMatchAnyActive&&F[E.group][b].push({matchAny:h.matchAny}),i.set("searchCriteria",F),p(),E.nameInput="")}},template:h}}]},{"camunda-bpm-sdk-js/vendor/angular":48,jquery:"jquery"}],114:[function(a,b,c){"use strict";function d(a){return a=a||new Date,a.toISOString().slice(0,-5)}var e=a("camunda-bpm-sdk-js/vendor/angular"),f=a("camunda-bpm-sdk-js/lib/forms/type-util"),g='<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class="modal-header">\n  <h3>{{ \'CAM_WIDGET_VARIABLE_DIALOG_INSPECT\' | translate:\'{ name: variable.name }\' }}</h3>\n</div>\n\n<div class="modal-body">\n  <div ng-if="readonly"\n       class="form-group">\n    <label>{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE\' | translate }}</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ variable.valueInfo.objectTypeName }}</code>\n  </div>\n\n  <div ng-if="readonly"\n       class="form-group">\n    <label>{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION\' | translate }}</label>\n    <code class="form-control-static"\n          cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ variable.valueInfo.serializationDataFormat }}</code>\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="object-type-name"\n           cam-widget-clipboard="variable.valueInfo.objectTypeName">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_OBJECT_TYPE\' | translate }}</label>\n    <input type="text"\n           id="object-type-name"\n           class="form-control"\n           ng-model="variable.valueInfo.objectTypeName" />\n  </div>\n\n  <div ng-if="!readonly"\n       class="form-group">\n    <label for="serialization-data-format"\n           cam-widget-clipboard="variable.valueInfo.serializationDataFormat">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZATION\' | translate }}</label>\n    <input type="text"\n           id="serialization-data-format"\n           class="form-control"\n           ng-model="variable.valueInfo.serializationDataFormat" />\n  </div>\n\n  <div class="form-group">\n    <label for="serialized-value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">{{ \'CAM_WIDGET_VARIABLE_DIALOG_LABEL_SERIALIZED_VALUE\' | translate }}</label>\n    <textarea ng-model="variable.value"\n              id="serialized-value"\n              rows="10"\n              class="form-control"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_VARIABLE_DIALOG_BTN_CLOSE\' | translate }}\n  </button>\n\n  <button class="btn btn-primary"\n          ng-if="!readonly"\n          ng-readonly="!hasChanged(\'serialized\')"\n          ng-click="$close(variable)">\n    {{ \'CAM_WIDGET_VARIABLE_DIALOG_BTN_CHANGE\' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n',h='<!-- # CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n<div class="modal-header">\n  <h3>{{ \'CAM_WIDGET_STRING_DIALOG_TITLE\' | translate:\'{name: variable.name}\' }}</h3>\n</div>\n\n<div class="modal-body">\n  <div class="form-group">\n    <label for="value"\n           cam-widget-clipboard="variable.value"\n           no-tooltip\n           ng-class="{hovered: hovered === \'var-value\'}">\n      {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_VALUE\' | translate }}\n    </label>\n    <textarea ng-model="variable.value"\n              id="value"\n              rows="10"\n              class="form-control cam-string-variable"\n              ng-readonly="readonly"\n              ng-mouseenter="toggleHover(\'var-value\')"\n              ng-mouseleave="toggleHover()"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <button class="btn btn-default"\n          ng-click="$dismiss(\'close\')">\n    {{ \'CAM_WIDGET_STRING_DIALOG_LABEL_CLOSE\' | translate }}\n  </button>\n</div>\n<!-- / CE - camunda-commons-ui/lib/widgets/variable/cam-widget-variable-dialog.html -->\n',i={};i.camundaFormattedDate=d,i.templateDialog=g,i.templateStringDialog=h,i.modalCtrl=["$scope","variable","readonly",function(a,b,c){a.hovered=!1,a.toggleHover=function(b){a.hovered=b},a.variable=b,a.readonly=c;var d=e.copy(b);a.hasChanged=function(){return d.valueInfo=d.valueInfo||{},b.valueInfo=b.valueInfo||{},d.value!==b.value||d.valueInfo.serializationDataFormat!==b.valueInfo.serializationDataFormat||d.valueInfo.objectTypeName!==b.valueInfo.objectTypeName}}],i.typeUtils=f,i.types=["Boolean","Bytes","File","Date","Double","Integer","Long","Null","Object","Short","String","Json","Xml"],i.defaultValues={Boolean:!1,Bytes:null,File:null,Date:d(),Double:0,Integer:0,Long:0,Null:"",Short:0,String:"",Object:{},Json:"",Xml:""},i.isPrimitive=function(a){return function(b){return!b&&!a.variable||(b=b||a.variable.type,!b||["Boolean","Date","Double","Integer","Long","Short","String"].indexOf(b)>=0)}},i.isBinary=function(a){return function(b){return!(!b&&!a.variable)&&(b=b||a.variable.type,!!b&&["Bytes","File"].indexOf(b)>=0)}},i.useCheckbox=function(a){return function(b){return!(!b&&!a.variable)&&(b=b||a.variable.type,"Boolean"===b)}},i.validate=function(a){return function(){if(a.variable.name&&a.variable.type?null===a.variable.value||["String","Object","Null"].indexOf(a.variable.type)>-1?a.valid=!0:a.valid=f.isType(a.variable.value,a.variable.type):a.valid=!1,a.valid&&a.variable.type&&null!==a.variable.value&&a.isPrimitive(a.variable.type)){var b;b="Boolean"!==a.variable.type?f.convertToType(a.variable.value,a.variable.type):!!a.variable.value&&"false"!==a.variable.value,typeof a.variable.value!=typeof b&&(a.variable.value=b)}}},b.exports=i},{"camunda-bpm-sdk-js/lib/forms/type-util":45,"camunda-bpm-sdk-js/vendor/angular":48}],115:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/lib/forms/type-util");b.exports=[function(){return{require:"ngModel",link:function(a,b,c,e){var f=function(a){var b=c.camVariableValidator;return["String","Object","Null"].indexOf(b)!==-1?e.$setValidity("camVariableValidator",!0):e.$setValidity("camVariableValidator",d.isType(a,b)),a};e.$parsers.unshift(f),e.$formatters.push(f),c.$observe("camVariableValidator",function(){return f(e.$viewValue)})}}}]},{"camunda-bpm-sdk-js/lib/forms/type-util":45}],116:[function(a,b,c){"use strict";var d=a("camunda-bpm-sdk-js/vendor/angular"),e=a("./cam-variable-utils"),f='<div ng-if="display && isShown(\'type\')"\n     class="type">{{ variable.type }}</div>\n<div ng-if="display && isShown(\'name\')"\n     class="name">{{ variable.name }}</div>\n<div ng-if="display && isShown(\'value\') && isPrimitive()"\n     ng-class="{null: isNull()}"\n     class="value">\n  <span ng-if="isNull()"\n        class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  {{ (variable.value === null ? \'\' : variable.value.toString()) }}\n</div>\n<div ng-if="display && isShown(\'value\') && variable.type === \'Object\'"\n     ng-class="{null: isNull()}"\n     class="value">\n  <a ng-click="editVariableValue()">\n    {{ variable.valueInfo.objectTypeName }}\n  </a>\n</div>\n\n\n<div ng-if="!display"\n     class="input-group editing">\n  <div ng-if="isShown(\'type\')"\n       class="input-group-btn type">\n    <select class="form-control"\n            ng-model="variable.type"\n            ng-options="variableType for variableType in variableTypes track by variableType"\n            ng-disabled="isDisabled(\'type\')"\n            required>\n    </select>\n  </div><!-- /btn-group -->\n\n  <input ng-if="isShown(\'name\')"\n         type="text"\n         class="form-control name"\n         ng-model="variable.name"\n         placeholder="varName"\n         ng-disabled="isDisabled(\'name\')"\n         required />\n\n  <div ng-if="isShown(\'value\') && !isNull()"\n       class="value-wrapper input-group"\n       ng-class="{checkbox: useCheckbox()}">\n    <div ng-if="variable.type !== \'Null\'"\n         class="input-group-btn">\n      <a ng-click="setNull()"\n         class="btn btn-default set-null"\n         ng-disabled="isDisabled(\'value\')"\n         tooltip="{{ \'CAM_WIDGET_VARIABLE_SET_VALUE_NULL\' | translate }}">\n        <span class="glyphicon glyphicon-remove"></span>\n      </a>\n    </div>\n\n    <input ng-if="isPrimitive() && !useCheckbox()"\n           type="text"\n           class="form-control value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="{{ \'CAM_WIDGET_VARIABLE_VALUE\' | translate }}"\n           cam-variable-validator="{{variable.type}}" />\n\n    <input ng-if="useCheckbox()"\n           type="checkbox"\n           class="value"\n           ng-model="variable.value"\n           ng-disabled="isDisabled(\'value\')"\n           placeholder="{{ \'CAM_WIDGET_VARIABLE_VALUE\' | translate }}"\n           cam-variable-validator="{{variable.type}}" />\n\n    <div ng-if="variable.type === \'Object\'"\n         class="value form-control-static">\n      <a ng-click="editVariableValue()" ng-disabled="isDisabled(\'value\')">\n        {{ (variable.valueInfo.objectTypeName || \'CAM_WIDGET_VARIABLE_UNDEFINED\') | translate }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-if="variable.type !== \'Null\' && isShown(\'value\') && isNull()"\n       ng-click="setNonNull()"\n       class="value-wrapper value null-value btn btn-default"\n       ng-disabled="isDisabled(\'value\')"\n       tooltip="{{ \'CAM_WIDGET_VARIABLE_RESET\' | translate }}">\n    <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  </div>\n\n  <div ng-if="variable.type === \'Null\'"\n       ng-disabled="isDisabled(\'value\')"\n       class="value-wrapper value btn no-click null-value">\n    <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLE_NULL\' | translate }}</span>\n  </div>\n</div>\n',g=e.types,h=e.modalCtrl;b.exports=["$modal",function(a){return{template:f,scope:{variable:"=camVariable",display:"@?",shown:"=?",disabled:"=?",hiddenTypes:"=?"},link:function(b,c){function f(a){return!Array.isArray(b.hiddenTypes)||!b.hiddenTypes.length||b.hiddenTypes.indexOf(a)===-1}b.variableTypes=g.filter(f);var i=e.defaultValues;b.isPrimitive=e.isPrimitive(b),b.useCheckbox=e.useCheckbox(b),b.isShown=function(a){return!Array.isArray(b.shown)||!b.shown.length||b.shown.indexOf(a)>-1},b.isDisabled=function(a){return!(!Array.isArray(b.disabled)||!b.disabled.length)&&b.disabled.indexOf(a)>-1},b.shownClasses=function(){return Array.isArray(b.shown)&&b.shown.length?b.shown.map(function(a){return"show-"+a}).join(" "):""},b.$watch("shown",function(){c.removeClass("show-type show-name show-value").addClass(b.shownClasses())});var j=e.validate(b);b.valid=!0,b.$watch("variable.value",j),b.$watch("variable.name",j),b.$watch("variable.type",j),j();var k=b.variable.value;b.$watch("variable.type",function(a,d){"Boolean"===a?null!==b.variable.value&&(k=b.variable.value,b.variable.value="false"!==b.variable.value&&!!b.variable.value):"Boolean"===d&&(b.variable.value=k);var e=c[0].classList;d&&e.remove("var-type-"+d.toLowerCase()),a&&e.add("var-type-"+a.toLowerCase())}),b.isNull=function(){return null===b.variable.value},b.setNonNull=function(){b.variable.value=k||i[b.variable.type]},b.setNull=function(){k=b.variable.value,b.variable.value=null},b.editVariableValue=function(){a.open({template:e.templateDialog,controller:h,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return d.copy(b.variable)},readonly:function(){return b.display}}}).result.then(function(a){b.variable.value=a.value,b.variable.valueInfo=a.valueInfo})}}}}]},{"./cam-variable-utils":114,"camunda-bpm-sdk-js/vendor/angular":48}],117:[function(a,b,c){"use strict";var d=a("jquery");b.exports=["$compile",function(a){return{template:"<div></div>",scope:{info:"=",headerName:"="},link:function(b,c){var e=b.info.additions[b.headerName]||{};e.scopeVariables=e.scopeVariables||{};for(var f in e.scopeVariables)b[f]=e.scopeVariables[f];b.variable=b.info.variable,c.html("<div>"+e.html+"</div>"),a(d("div",c)[0])(b)}}}]},{jquery:"jquery"}],118:[function(a,b,c){"use strict";function d(a){return JSON.parse(JSON.stringify(a))}function e(a){return{then:function(b){b(f.copy(a.variable))}}}var f=a("camunda-bpm-sdk-js/vendor/angular"),g=a("../variable/cam-variable-utils"),h='<table class="cam-table">\n  <thead>\n  <tr>\n    <td ng-repeat="column in headers" ng-class="col-{{column.class}}">\n      <span class="{{column.class}}">{{column.content}}</span>\n      <a ng-if="column.sortable === true"\n         ng-click="changeOrder(column.request)">\n        <span class="glyphicon" ng-class="orderClass(column.request)"></span>\n      </a>\n    </td>\n    <td class="actions"\n        ng-if="editable.length">\n      Actions\n    </td>\n  </tr>\n  </thead>\n\n  <tbody>\n    <tr ng-repeat="(v, info) in variables"\n        ng-class="rowClasses(info, v)">\n      <td ng-repeat="headerClass in headerClasses track by $index"\n          ng-init="variable=info.variable"\n          ng-class="colClasses(info, headerClass, v)"\n          ng-switch on="headerClass">\n        <!-- ................................................................................... -->\n        <div ng-switch-when="type"\n             ng-if="!isEditable(\'type\', info)">\n          {{ variable.type }}\n        </div>\n        <select class="form-control"\n                ng-switch-when="type"\n                ng-if="isEditable(\'type\', info)"\n                ng-model="variable.type"\n                ng-options="variableType for variableType in variableTypes track by variableType"\n                required>\n        </select>\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <div ng-switch-when="name"\n             ng-if="!isEditable(\'name\', info)">\n          <span cam-widget-clipboard="variable.name">{{ variable.name }}</span>\n        </div>\n\n        <input class="form-control"\n               ng-switch-when="name"\n               ng-model="variable.name"\n               ng-if="isEditable(\'name\', info)" />\n        <!-- ................................................................................... -->\n\n\n        <!-- ................................................................................... -->\n        <a ng-switch-when="value"\n           ng-if="!isEditable(\'value\', info) && isBinary(variable.type)"\n           ng-href="{{ downloadLink(info) }}"\n           download="{{ variable.name }}-data">\n          Download\n        </a>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'Object\'"\n             class="read-only value-wrapper">\n          <span ng-if="variable.valueInfo.objectTypeName"\n                cam-widget-clipboard="variable.valueInfo.objectTypeName">\n            <a ng-click="editVariableValue(v)"\n               href>{{ variable.valueInfo.objectTypeName }}</a>\n          </span>\n          <a ng-if="!variable.valueInfo.objectTypeName"\n             ng-click="editVariableValue(v)"\n             href>&lt;undefined&gt;</a>\n        </div>\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && (variable.type === \'Json\' || variable.type === \'Xml\')"\n             class="read-only value-wrapper">\n          <span cam-widget-clipboard="variable.value">\n            <a ng-click="editVariableValue(v)"\n               href>{{ variable.value }}</a>\n          </span>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && variable.type === \'String\'"\n             class="read-only value-wrapper">\n          <span cam-widget-clipboard="variable.value">\n            <span ng-click="readStringVar(v)">{{ variable.value }}</span>\n          </span>\n        </div>\n\n        <div ng-switch-when="value"\n             ng-if="!isEditable(\'value\', info) && !hasEditDialog(variable.type)"\n             class="read-only value-wrapper">\n          <span ng-if="variable.type !== \'Bytes\' && variable.type !== \'Date\'"\n                cam-widget-clipboard="variable.value">{{ variable.value }}</span>\n          <span ng-if="variable.type === \'Bytes\'">{{ variable.value }}</span>\n          <span ng-if="variable.type === \'Date\'"\n                cam-widget-clipboard="variable.value">{{ variable.value | camDate }}</span>\n        </div>\n\n        <div class="value-wrapper"\n             ng-switch-when="value"\n             ng-if="isEditable(\'value\', info)">\n          <a ng-click="setNull(v)"\n             ng-if="!isNull(v)"\n             class="set-null"\n             tooltip-append-to-body="true"\n             tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_SET_NULL\' | translate }}">\n            <span class="glyphicon glyphicon-remove"></span>\n          </a>\n\n          <input ng-if="isPrimitive(variable.type) && !useCheckbox(variable.type) && !isNull(v)"\n                 type="text"\n                 class="form-control"\n                 ng-model="variable.value"\n                 placeholder="{{ \'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE\' | translate }}" />\n\n          <input ng-if="useCheckbox(variable.type)"\n                 type="checkbox"\n                 ng-model="variable.value"\n                 placeholder="{{ \'CAM_WIDGET_VARIABLES_TABLE_PLACEHOLDER_VALUE\' | translate }}" />\n\n          <a ng-if="variable.type === \'Object\' && !isNull(v)"\n             ng-click="editVariableValue(v)">\n            {{ variable.valueInfo.objectTypeName || \'&lt;undefined&gt;\' }}\n          </a>\n\n          <a ng-if="(variable.type === \'Json\' || variable.type === \'Xml\') && !isNull(v)"\n             ng-click="editVariableValue(v)">\n            {{ variable.value || \'&lt;undefined&gt;\' }}\n          </a>\n\n          <a ng-if="variable.type !== \'Null\' && !isBinary(variable.type) && isNull(v)"\n             ng-click="setNonNull(v)"\n             class="null-value"\n             tooltip-append-to-body="true"\n             tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_DEFAULT_VALUE\' | translate }}">\n            <span class="null-symbol">&lt;null&gt;</span>\n          </a>\n\n          <a ng-if="isBinary(variable.type)"\n             ng-click="uploadVariable(v)"\n             tooltip-append-to-body="true"\n             tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_TOOLTIP_UPLOAD\' | translate }}">\n            Upload\n          </a>\n\n          <span ng-if="variable.type === \'Null\'"\n                class="null-value">\n            <span class="null-symbol">{{ \'CAM_WIDGET_VARIABLES_TABLE_NULL\' | translate }}</span>\n          </span>\n        </div><!-- / value-wrapper -->\n        <!-- ................................................................................... -->\n\n\n        <div ng-switch-default\n             cam-render-var-template\n             info="info"\n             header-name="headerClass">\n        </div>\n      </td>\n\n      <td class="actions"\n          ng-if="editable.length">\n        <div ng-if="!info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="info.editMode = true"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_EDIT_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-pencil"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-disabled="!canEditVariable(info, v)"\n                  ng-click="deleteVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_DELETE_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon glyphicon-trash"></span>\n          </button>\n        </div>\n\n        <div ng-if="info.editMode"\n             class="btn-group">\n          <button class="btn btn-xs btn-primary"\n                  ng-disabled="!info.valid || !info.changed"\n                  ng-click="saveVariable(v)"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_SAVE_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-ok"></span>\n          </button>\n          <button class="btn btn-xs btn-default"\n                  ng-click="info.editMode = false"\n                  tooltip-append-to-body="true"\n                  tooltip="{{ \'CAM_WIDGET_VARIABLES_TABLE_REVERT_VARIABLE\' | translate }}">\n            <span class="glyphicon glyphicon-remove"></span>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n',i=g.typeUtils,j={variable:{name:null,type:null,value:null,valueInfo:{}},additions:{}};b.exports=["$modal",function(a){return{template:h,scope:{variables:"=?camVariables",headers:"=?camHeaders",editable:"=?camEditable",isVariableEditable:"=?",deleteVar:"=?onDelete",saveVar:"=?onSave",editVar:"=?onEdit",downloadVar:"=?onDownload",uploadVar:"=?onUpload",onSortChange:"&",defaultSort:"=?"},link:function(b){function c(a){return(b.variables[a]||{}).variable}function h(a){if(!b.variables||!b.variables[a]||!b.variables[a]._copy)return!1;var d,e=c(a),f=b.variables[a]._copy;return d=!e||!f,d=d||e.name!==f.name,d=d||e.type!==f.type,d=d||e.value!==f.value}function k(a,c){if(a.variable.name&&a.variable.type?null===a.variable.value||["String","Object","Null"].indexOf(a.variable.type)>-1?a.valid=!0:a.valid=i.isType(a.variable.value,a.variable.type):a.valid=!1,a.valid&&a.variable.type&&null!==a.variable.value&&b.isPrimitive(a.variable.type)){var d;d="Boolean"!==a.variable.type?i.convertToType(a.variable.value,a.variable.type):!!a.variable.value&&"false"!==a.variable.value,typeof a.variable.value!=typeof d&&(a.variable.value=d)}a.changed=h(c)}function l(){(b.variables||[]).forEach(function(a,c){function e(){k(a,c)}a.valid=!0;var g="variables["+c+"].variable";b.$watch(g+".value",e),b.$watch(g+".name",e),b.$watch(g+".type",e),b.$watch("variables["+c+"].editMode",function(b,c){f.isUndefined(b)||(b===!0?a._copy=d(a.variable):b===!1&&c===!0&&a._copy&&(a.variable.type=a._copy.type,a.variable.name=a._copy.name,a.variable.value=a._copy.value,delete a._copy))}),k(a,c),m[c]=a.variable.value})}var m=[];b.headerClasses=[],b.headers.forEach(function(a){b.headerClasses.push(a["class"])}),b.editable=b.editable||b.headerClasses,b.variableTypes=f.copy(g.types),b.defaultValues=g.defaultValues,b.isPrimitive=g.isPrimitive(b),b.isBinary=g.isBinary(b),b.useCheckbox=g.useCheckbox(b),["uploadVar","deleteVar","saveVar"].forEach(function(a){b[a]=f.isFunction(b[a])?b[a]:e;
}),b.sortObj=b.defaultSort,b.orderClass=function(a){a=a||b.sortObj.sortBy;var c={none:"minus",desc:"chevron-down",asc:"chevron-up"};return"glyphicon-"+c[a===b.sortObj.sortBy?b.sortObj.sortOrder:"none"]},b.changeOrder=function(a){b.sortObj.sortBy=a,b.sortObj.sortOrder="desc"===b.sortObj.sortOrder?"asc":"desc",b.onSortChange({sortObj:b.sortObj})};var n=function(a,b,d){return{template:b,controller:g.modalCtrl,windowClass:"cam-widget-variable-dialog",resolve:{variable:function(){return f.copy(c(a))},readonly:d}}};b.editVar=f.isFunction(b.editVar)?b.editVar:function(c,d){var e=function(){return!b.isEditable("value",b.variables[d])};return a.open(n(d,g.templateDialog,e)).result},b.readStringVar=f.isFunction(b.readStringVar)?b.readStringVar:function(b){var c=function(){return!0};return a.open(n(b,g.templateStringDialog,c)).result},b.downloadLink=f.isFunction(b.downloadVar)?b.downloadVar:function(a){return"/camunda/api/engine/engine/default/variable-instance/"+a.variable.id+"/data"},b.$watch("variables",l),l(),b.canEditVariable=f.isFunction(b.isVariableEditable)?b.isVariableEditable:function(){return!0},b.isEditable=function(a,c){return c.editMode&&b.editable.indexOf(a)>-1},b.hasEditDialog=function(a){return a&&["object","string","json","xml"].indexOf(a.toLowerCase())>-1},b.rowClasses=function(a){return[a.editMode?"editing":null,a.valid?null:"ng-invalid",a.valid?null:"ng-invalid-cam-variable-validator"]},b.colClasses=function(a,c){return[b.isEditable(c,a)?"editable":null,"type-"+(a.variable.type||"").toLowerCase(),"col-"+c]},b.isNull=function(a){return null===b.variables[a].variable.value},b.setNull=function(a){var b=c(a);m[a]=b.value,b.value=null},b.setNonNull=function(a){var d=c(a);d.value=m[a]||b.defaultValues[d.type]},b.editVariableValue=function(a){var d=b.variables[a];b.editVar(d,a).then(function(b){c(a).value=b.value,c(a).valueInfo=b.valueInfo})},b.addVariable=function(){b.variables.push(f.copy(j))},b.deleteVariable=function(a){var c=b.variables[a];b.deleteVar(c,a).then(function(){b.variables.splice(b.variables.indexOf(c),1)},function(){})},b.saveVariable=function(a){var c=b.variables[a];c.editMode=!1,b.saveVar(c,a).then(function(a){c.variable.name=a.name,c.variable.type=a.type,c.variable.value=a.value,c.variable.valueInfo=a.valueInfo,delete c._copy},function(){c.editMode=!0})},b.uploadVariable=function(a){var c=b.variables[a];b.uploadVar(c,a).then(function(){delete c._copy,c.editMode=!1},function(){c.editMode=!1})}}}}]},{"../variable/cam-variable-utils":114,"camunda-bpm-sdk-js/vendor/angular":48}],119:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/vendor/angular")},{"camunda-bpm-sdk-js/vendor/angular":48}],120:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/lib/angularjs/index")},{"camunda-bpm-sdk-js/lib/angularjs/index":4}],121:[function(a,b,c){"use strict";b.exports=a("lodash")},{lodash:"lodash"}],122:[function(a,b,c){"use strict";b.exports=a("camunda-bpm-sdk-js/vendor/moment")},{"camunda-bpm-sdk-js/vendor/moment":49}],123:[function(a,b,c){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});c[0].offsetWidth;c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);b!==-1&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);d&&!angular.isDefined(c.uncheckable)||a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=a.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=a.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);e.$element[0].offsetWidth;angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;if(!a.$currentTransition)return i.select(j[b],"next")},a.prev=function(){var b=k-1<0?j.length-1:k-1;if(!a.$currentTransition)return i.select(j[b],"prev")},a.isActive=function(a){return i.currentSlide===a},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?b>=j.length?i.select(j[b-1]):i.select(j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;g<h;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3!==b&&5!==b&&8!==b&&10!==b||c<31}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;l<m;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?e<8?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)&&(a.activeDateId=b.uid,!0)},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&b===-1||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);e<b;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;m<42;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;n<7;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a,b){var c=e.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(d,1),c=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(c)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;f<12;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a,b){var c=e.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);e.activeDate.setMonth(c)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());c<f;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a,b){var c=d.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=5:"right"===a?c+=1:"down"===a?c+=5:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*d.step.years:"home"===a?c=e(d.activeDate.getFullYear()):"end"===a&&(c=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(c)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a,b){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b,c){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{restrict:"CA",controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{restrict:"CA",require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=o.keys(),c=0;c<b.length;c++)o.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=o.get(a).value;o.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(n,o.length()>0),i()})}function i(){if(k&&g()==-1){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m,n="modal-open",o=f.createNew(),p={},q=0,r="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b=o.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){p.dismiss(b.key,"escape key press")});break;case 9:p.loadFocusElementList(b);var c=!1;a.shiftKey?p.isFocusInFirstItem(a)&&(c=p.focusLastFocusableElement()):p.isFocusInLastItem(a)&&(c=p.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),p.open=function(a,b){o.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:o.length()-1,animate:"animate"}).html(b.content);var m=d(j)(b.scope);o.top().value.modalDomEl=m,f.append(m),f.addClass(n),p.clearFocusListCache()},p.close=function(a,b){var c=o.get(a);c&&(c.value.deferred.resolve(b),h(a))},p.dismiss=function(a,b){var c=o.get(a);c&&(c.value.deferred.reject(b),h(a))},p.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},p.getTop=function(){return o.top()},p.focusFirstFocusableElement=function(){return m.length>0&&(m[0].focus(),!0)},p.focusLastFocusableElement=function(){return m.length>0&&(m[m.length-1].focus(),!0)},p.isFocusInFirstItem=function(a){return m.length>0&&(a.target||a.srcElement)==m[0]},p.isFocusInLastItem=function(a){return m.length>0&&(a.target||a.srcElement)==m[m.length-1];
},p.clearFocusListCache=function(){m=[],q=0},p.loadFocusElementList=function(a){if((void 0===m||!m.length0)&&a){var b=a.value.modalDomEl;b&&b.length&&(m=b[0].querySelectorAll(r))}},p}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&k<b;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;h<=e;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(e<b){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(a,b){var c=f(s);return function(a,b,d){function f(){a.tt_isOpen?m():k()}function k(){y&&!a.$eval(d[l+"Enable"])||(a.tt_popupDelay?v||(v=g(p,a.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){a.$apply(function(){q()})}function p(){return v=null,u&&(g.cancel(u),u=null),a.tt_content?(r(),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):b.after(t),z(),a.tt_isOpen=!0,a.$digest(),z):angular.noop}function q(){a.tt_isOpen=!1,g.cancel(v),v=null,a.tt_animation?u||(u=g(s,500)):s()}function r(){t&&s(),t=c(a,function(){}),a.$digest()}function s(){u=null,t&&(t.remove(),t=null)}var t,u,v,w=!!angular.isDefined(o.appendToBody)&&o.appendToBody,x=n(void 0),y=angular.isDefined(d[l+"Enable"]),z=function(){var c=j.positionElements(b,t,a.tt_placement,w);if(w){var d={left:5,width:window.innerWidth-5},e=angular.element(t[0].querySelector(".tooltip-arrow")),f=t[0].clientWidth,g=Math.abs(c.left+f-d.width);if(c.left<d.left)e.css("left",f/2+(c.left-d.left)+"px"),c.left=d.left+"px";else if(c.left+f>d.width){var h=f/2+Math.abs(d.width-(c.left+f));e.css("left",h+"px"),c.left=c.left-g+"px"}else c.left+="px";c.top+="px"}else c.top+="px",c.left+="px";t.css(c)};a.tt_isOpen=!1,d.$observe(e,function(b){a.tt_content=b,!b&&a.tt_isOpen&&q()}),d.$observe(l+"Title",function(b){a.tt_title=b}),d.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),d.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c});var A=function(){b.unbind(x.show,k),b.unbind(x.hide,m)};d.$observe(l+"Trigger",function(a){A(),x=n(a),x.show===x.hide?b.bind(x.show,f):(b.bind(x.show,k),b.bind(x.hide,m))});var B=a.$eval(d[l+"Animation"]);a.tt_animation=angular.isDefined(B)?!!B:o.animation,d.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){g.cancel(u),g.cancel(v),A(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;b<c;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&b<13:b>=0&&b<24;if(c)return a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b}function h(){var b=parseInt(a.minutes,10);return b>=0&&b<60?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(b){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(b){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=!!k.typeaheadAppendToBody&&i.$eval(k.typeaheadAppendToBody),u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x="typeahead-"+w.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":x});var y=angular.element("<div typeahead-popup></div>");y.attr({id:x,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&y.attr("template-url",k.typeaheadTemplateUrl);var z=function(){w.matches=[],w.activeIdx=-1,j.attr("aria-expanded",!1)},A=function(a){return x+"-option-"+a};w.$watch("activeIdx",function(a){a<0?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",A(a))});var B=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var e=0;e<c.length;e++)b[v.itemName]=c[e],w.matches.push({id:A(e),label:v.viewMapper(w,b),model:c[e]});w.query=a,w.position=t?f.offset(j):f.position(j),w.position.top=w.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else z();d&&q(i,!1)},function(){z(),q(i,!1)})};z(),w.query=void 0;var C,D=function(a){C=d(function(){B(a)},o)},E=function(){C&&d.cancel(C)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(E(),D(a)):B(a):(q(i,!1),E(),z()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,e={};e[v.itemName]=c=w.matches[a].model,b=v.modelMapper(i,e),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,e)}),z(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==w.matches.length&&h.indexOf(a.which)!==-1&&(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),z(),w.$digest()))}),j.bind("blur",function(a){m=!1});var F=function(a){j[0]!==a.target&&(z(),w.$digest())};e.bind("click",F),i.$on("$destroy",function(){e.unbind("click",F)});var G=a(y)(w);t?e.find("body").append(G):j.after(G)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n');
}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}])},{}],124:[function(a,b,c){function d(a){for(var b=i(a,q),c="",d=0;d<b.length;d++)c+=b[d][1];return c}function e(a,b){if(b){var c=a.split(":"),d="/"===a.charAt(0)?"/":"";if(2===c.length){if("xmlns"===c[0])return"";a=d+c[1]}}return a}function f(a,b,c){return a?!b||isNaN(a)?(a=""+h.decode(a,{isAttributeValue:c,strict:!0}),c&&(a=a.replace(/\r?\n/g," "))):a=a.indexOf(".")!==-1?parseFloat?parseFloat(a):Number.parseFloat(a):parseInt?parseInt(a,10):Number.parseInt(a,10):a="",a}function g(a,b,c,d,g,h){if(a=a||a.trim(),!b&&a.length>3){for(var j=i(a,r),k={},l=0;l<j.length;l++){var m=e(j[l][1],g);m.length&&"xmlns"!==m&&(k[c+m]=f(j[l][3],h,!0))}if(!Object.keys(k).length)return;if(d){var n={};return n[d]=k,n}return k}}var h=a("he"),i=a("./util").getAllMatches,j=function(a,b,c){this.tagname=a,this.parent=b,this.child=[],this.val=c,this.addChild=function(a){this.child.push(a)}},k="<!\\[CDATA\\[(.*?)(\\]\\]>)",l=new RegExp("<(\\/?[\\w:\\-._]+)([^>]*)>(\\s*"+k+")*([^<]+)?","g"),m={attrPrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreNonTextNodeAttr:!0,ignoreTextNodeAttr:!0,ignoreNameSpace:!1,ignoreRootElement:!1,textNodeConversion:!0,textAttrConversion:!1,arrayMode:!1},n=function(a){a||(a={});for(var b=["attrPrefix","attrNodeName","ignoreNonTextNodeAttr","ignoreTextNodeAttr","ignoreNameSpace","ignoreRootElement","textNodeName","textNodeConversion","textAttrConversion","arrayMode"],c=0;c<b.length;c++)void 0===a[b[c]]&&(a[b[c]]=m[b[c]]);return a},o=function(a,b){b=n(b),a=a.replace(/<!--(.|\n)*?-->/g,"");for(var c=i(a,l),h=new j("!xml"),k=h,m=0;m<c.length;m++){var o,p=e(c[m][1],b.ignoreNameSpace),q=m+1<c.length?e(c[m+1][1],b.ignoreNameSpace):void 0,r=c[m][2],s=void 0===c[m][4]?c[m][6]:d(c[m][0]);if(0!==p.indexOf("/")){var t="/"===r.charAt(r.length-1),u=new j(p,k);if(t)o=g(r,b.ignoreTextNodeAttr,b.attrPrefix,b.attrNodeName,b.ignoreNameSpace,b.textAttrConversion),u.val=o||"",k.addChild(u);else if("/"+p===q)o=g(r,b.ignoreTextNodeAttr,b.attrPrefix,b.attrNodeName,b.ignoreNameSpace,b.textAttrConversion),s=f(s,b.textNodeConversion),o?(o[b.textNodeName]=s,u.val=o):u.val=s,k.addChild(u),m++;else if(q&&q.indexOf("/")===-1&&void 0!==s&&null!=s&&""!==s.trim())s=f(s,b.textNodeConversion),u.addChild(new j(b.textNodeName,u,s)),k.addChild(u),k=u;else{if(o=g(r,b.ignoreNonTextNodeAttr,b.attrPrefix,b.attrNodeName,b.ignoreNameSpace,b.textAttrConversion))for(var v in o)o.hasOwnProperty(v)&&u.addChild(new j(v,u,o[v]));k.addChild(u),k=u}}else k=k.parent}return h},p=function(a,b){return s(o(a,b),n(b).arrayMode)},q=new RegExp(k,"g"),r=new RegExp("([\\w\\-\\.\\:]+)\\s*=\\s*(['\"])((.|\n)*?)\\2","gm"),s=function(a,b){var c={};if(void 0!==a.val&&null!=a.val||""===a.val)return a.val;for(var d=0;d<a.child.length;d++){var e=a.child[d].tagname,f=s(a.child[d],b);if(void 0!==c[e]){if(!Array.isArray(c[e])){var g=c[e];c[e]=[],c[e].push(g)}c[e].push(f)}else c[e]=b?[f]:f}return c};c.parse=p,c.getTraversalObj=o,c.convertToJson=s,c.validate=a("./validator").validate},{"./util":125,"./validator":126,he:127}],125:[function(a,b,c){var d=function(a,b){for(var c=[],d=b.exec(a);d;){for(var e=[],f=0;f<d.length;f++)e.push(d[f]);c.push(e),d=b.exec(a)}return c},e=function(a,b){var c=b.exec(a);return null!==c&&void 0!==c},f=function(a,b){return!e(a,b)};c.doesMatch=e,c.doesNotMatch=f,c.getAllMatches=d},{}],126:[function(a,b,c){function d(a,b){if(a.length>b+5&&"-"===a[b+1]&&"-"===a[b+2]){for(b+=3;b<a.length;b++)if("-"===a[b]&&"-"===a[b+1]&&">"===a[b+2]){b+=2;break}}else if(a.length>b+9&&"["===a[b+1]&&"C"===a[b+2]&&"D"===a[b+3]&&"A"===a[b+4]&&"T"===a[b+5]&&"A"===a[b+6]&&"["===a[b+7])for(b+=8;b<a.length;b++)if("]"===a[b]&&"]"===a[b+1]&&">"===a[b+2]){b+=2;break}return b}function e(a){for(var b=[],c=0;c<a.length;c++){for(var d="",e="";c<a.length&&"="!==a[c];c++)e+=a[c];if(e=e.trim(),b.hasOwnProperty(e))return!1;if(b[e]=1,!f(e))return!1;for(c++;c<a.length&&(" "===a[c]||"\t"===a[c]);c++);d=a[c++];for(var g="";c<a.length&&a[c]!==d;c++)g+=a[c];if(""!==d){if(c++,c<a.length&&" "!==a[c]&&"\t"!==a[c])return!1;d=""}}return!0}function f(a){return h.doesMatch(a,i)}function g(a){return!h.doesNotMatch(a,j)}var h=a("./util");new RegExp("<\\/?([\\w:\\-_.]+)\\s*/?>","g");c.validate=function(a){a=a.replace(/(\r\n|\n|\r)/gm,""),a=a.replace(/(^\s*<\?xml.*?\?>)/g,""),a=a.replace(/(<!DOCTYPE[\s\w\"\.\/\-\:]+(\[.*\])*\s*>)/g,"");for(var b=[],c=0;c<a.length;c++){if("<"!==a[c]){if(" "===a[c]||"\t"===a[c])continue;return!1}if(c++,"!"!==a[c]){var f=!1;"/"===a[c]&&(f=!0,c++);for(var h="";c<a.length&&">"!==a[c]&&" "!==a[c]&&"\t"!==a[c];c++)h+=a[c];if(h=h.trim(),"/"===h[h.length-1])return h=h.substring(0,h.length-2),g(h);if(!g(h))return!1;for(var i="",j="";c<a.length;c++){if('"'===a[c]||"'"===a[c])j=""===j?a[c]:"";else if(">"===a[c]&&""===j)break;i+=a[c]}if(""!==j)return!1;if(i=i.trim(),"/"===i[i.length-1]){if(i=i.substring(0,i.length-2),e(i))continue;return!1}if(f){if(i.length>0)return!1;var k=b.pop();if(h!==k)return!1}else{if(!e(i))return!1;b.push(h)}for(c++;c<a.length;c++)if("<"===a[c]){if("!"===a[c+1]){c++,c=d(a,c);continue}break}"<"===a[c]&&c--}else c=d(a,c)}return!(b.length>0)};var i=new RegExp("^[_a-zA-Z][\\w\\-\\.\\:]*$"),j=new RegExp("^([a-zA-Z]|_)[\\w.\\-_:]*")},{"./util":125}],127:[function(a,b,c){(function(a){!function(d){var e="object"==typeof c&&c,f="object"==typeof b&&b&&b.exports==e&&b,g="object"==typeof a&&a;g.global!==g&&g.window!==g||(d=g);var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/[\x01-\x7F]/g,j=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,k=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,l={"":"shy","":"zwnj","":"zwj","":"lrm","":"ic","":"it","":"af","":"rlm","":"ZeroWidthSpace","":"NoBreak","":"DownBreve","":"tdot","":"DotDot","\t":"Tab","\n":"NewLine","":"puncsp","":"MediumSpace","":"thinsp","":"hairsp","":"emsp13","":"ensp","":"emsp14","":"emsp","":"numsp","":"nbsp","":"ThickSpace","":"oline",_:"lowbar","":"dash","":"ndash","":"mdash","":"horbar",",":"comma",";":"semi","":"bsemi",":":"colon","":"Colone","!":"excl","":"iexcl","?":"quest","":"iquest",".":"period","":"nldr","":"mldr","":"middot","'":"apos","":"lsquo","":"rsquo","":"sbquo","":"lsaquo","":"rsaquo",'"':"quot","":"ldquo","":"rdquo","":"bdquo","":"laquo","":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","":"lceil","":"rceil","":"lfloor","":"rfloor","":"lopar","":"ropar","":"lbrke","":"rbrke","":"lbrkslu","":"rbrksld","":"lbrksld","":"rbrkslu","":"langd","":"rangd","":"lparlt","":"rpargt","":"gtlPar","":"ltrPar","":"lobrk","":"robrk","":"lang","":"rang","":"Lang","":"Rang","":"loang","":"roang","":"lbbrk","":"rbbrk","":"Vert","":"sect","":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","":"permil","":"pertenk","":"dagger","":"Dagger","":"bull","":"hybull","":"prime","":"Prime","":"tprime","":"qprime","":"bprime","":"caret","`":"grave","":"acute","":"tilde","^":"Hat","":"macr","":"breve","":"dot","":"die","":"ring","":"dblac","":"cedil","":"ogon","":"circ","":"caron","":"deg","":"copy","":"reg","":"copysr","":"wp","":"rx","":"mho","":"iiota","":"larr","":"nlarr","":"rarr","":"nrarr","":"uarr","":"darr","":"harr","":"nharr","":"varr","":"nwarr","":"nearr","":"searr","":"swarr","":"rarrw","":"nrarrw","":"Larr","":"Uarr","":"Rarr","":"Darr","":"larrtl","":"rarrtl","":"mapstoleft","":"mapstoup","":"map","":"mapstodown","":"larrhk","":"rarrhk","":"larrlp","":"rarrlp","":"harrw","":"lsh","":"rsh","":"ldsh","":"rdsh","":"crarr","":"cularr","":"curarr","":"olarr","":"orarr","":"lharu","":"lhard","":"uharr","":"uharl","":"rharu","":"rhard","":"dharr","":"dharl","":"rlarr","":"udarr","":"lrarr","":"llarr","":"uuarr","":"rrarr","":"ddarr","":"lrhar","":"rlhar","":"lArr","":"nlArr","":"uArr","":"rArr","":"nrArr","":"dArr","":"iff","":"nhArr","":"vArr","":"nwArr","":"neArr","":"seArr","":"swArr","":"lAarr","":"rAarr","":"zigrarr","":"larrb","":"rarrb","":"duarr","":"loarr","":"roarr","":"hoarr","":"forall","":"comp","":"part","":"npart","":"exist","":"nexist","":"empty","":"Del","":"in","":"notin","":"ni","":"notni","":"bepsi","":"prod","":"coprod","":"sum","+":"plus","":"pm","":"div","":"times","<":"lt","":"nlt","<":"nvlt","=":"equals","":"ne","=":"bne","":"Equal",">":"gt","":"ngt",">":"nvgt","":"not","|":"vert","":"brvbar","":"minus","":"mp","":"plusdo","":"frasl","":"setmn","":"lowast","":"compfn","":"Sqrt","":"prop","":"infin","":"angrt","":"ang","":"nang","":"angmsd","":"angsph","":"mid","":"nmid","":"par","":"npar","":"and","":"or","":"cap","":"caps","":"cup","":"cups","":"int","":"Int","":"tint","":"qint","":"oint","":"Conint","":"Cconint","":"cwint","":"cwconint","":"awconint","":"there4","":"becaus","":"ratio","":"Colon","":"minusd","":"mDDot","":"homtht","":"sim","":"nsim","":"nvsim","":"bsim","":"race","":"ac","":"acE","":"acd","":"wr","":"esim","":"nesim","":"sime","":"nsime","":"cong","":"ncong","":"simne","":"ap","":"nap","":"ape","":"apid","":"napid","":"bcong","":"CupCap","":"NotCupCap","":"nvap","":"bump","":"nbump","":"bumpe","":"nbumpe","":"doteq","":"nedot","":"eDot","":"efDot","":"erDot","":"colone","":"ecolon","":"ecir","":"cire","":"wedgeq","":"veeeq","":"trie","":"equest","":"equiv","":"nequiv","":"bnequiv","":"le","":"nle","":"nvle","":"ge","":"nge","":"nvge","":"lE","":"nlE","":"gE","":"ngE","":"lvnE","":"lnE","":"gnE","":"gvnE","":"ll","":"nLtv","":"nLt","":"gg","":"nGtv","":"nGt","":"twixt","":"lsim","":"nlsim","":"gsim","":"ngsim","":"lg","":"ntlg","":"gl","":"ntgl","":"pr","":"npr","":"sc","":"nsc","":"prcue","":"nprcue","":"sccue","":"nsccue","":"prsim","":"scsim","":"NotSucceedsTilde","":"sub","":"nsub","":"vnsub","":"sup","":"nsup","":"vnsup","":"sube","":"nsube","":"supe","":"nsupe","":"vsubne","":"subne","":"vsupne","":"supne","":"cupdot","":"uplus","":"sqsub","":"NotSquareSubset","":"sqsup","":"NotSquareSuperset","":"sqsube","":"nsqsube","":"sqsupe","":"nsqsupe","":"sqcap","":"sqcaps","":"sqcup","":"sqcups","":"oplus","":"ominus","":"otimes","":"osol","":"odot","":"ocir","":"oast","":"odash","":"plusb","":"minusb","":"timesb","":"sdotb","":"vdash","":"nvdash","":"dashv","":"top","":"bot","":"models","":"vDash","":"nvDash","":"Vdash","":"nVdash","":"Vvdash","":"VDash","":"nVDash","":"prurel","":"vltri","":"nltri","":"vrtri","":"nrtri","":"ltrie","":"nltrie","":"nvltrie","":"rtrie","":"nrtrie","":"nvrtrie","":"origof","":"imof","":"mumap","":"hercon","":"intcal","":"veebar","":"barvee","":"angrtvb","":"lrtri","":"Wedge","":"Vee","":"xcap","":"xcup","":"diam","":"sdot","":"Star","":"divonx","":"bowtie","":"ltimes","":"rtimes","":"lthree","":"rthree","":"bsime","":"cuvee","":"cuwed","":"Sub","":"Sup","":"Cap","":"Cup","":"fork","":"epar","":"ltdot","":"gtdot","":"Ll","":"nLl","":"Gg","":"nGg","":"lesg","":"leg","":"gel","":"gesl","":"cuepr","":"cuesc","":"lnsim","":"gnsim","":"prnsim","":"scnsim","":"vellip","":"ctdot","":"utdot","":"dtdot","":"disin","":"isinsv","":"isins","":"isindot","":"notindot","":"notinvc","":"notinvb","":"isinE","":"notinE","":"nisd","":"xnis","":"nis","":"notnivc","":"notnivb","":"barwed","":"Barwed","":"drcrop","":"dlcrop","":"urcrop","":"ulcrop","":"bnot","":"profline","":"profsurf","":"telrec","":"target","":"ulcorn","":"urcorn","":"dlcorn","":"drcorn","":"frown","":"smile","":"cylcty","":"profalar","":"topbot","":"ovbar","":"solbar","":"angzarr","":"lmoust","":"rmoust","":"tbrk","":"bbrk","":"bbrktbrk","":"OverParenthesis","":"UnderParenthesis","":"OverBrace","":"UnderBrace","":"trpezium","":"elinters","":"blank","":"boxh","":"boxv","":"boxdr","":"boxdl","":"boxur","":"boxul","":"boxvr","":"boxvl","":"boxhd","":"boxhu","":"boxvh","":"boxH","":"boxV","":"boxdR","":"boxDr","":"boxDR","":"boxdL","":"boxDl","":"boxDL","":"boxuR","":"boxUr","":"boxUR","":"boxuL","":"boxUl","":"boxUL","":"boxvR","":"boxVr","":"boxVR","":"boxvL","":"boxVl","":"boxVL","":"boxHd","":"boxhD","":"boxHD","":"boxHu","":"boxhU","":"boxHU","":"boxvH","":"boxVh","":"boxVH","":"uhblk","":"lhblk","":"block","":"blk14","":"blk12","":"blk34","":"squ","":"squf","":"EmptyVerySmallSquare","":"rect","":"marker","":"fltns","":"xutri","":"utrif","":"utri","":"rtrif","":"rtri","":"xdtri","":"dtrif","":"dtri","":"ltrif","":"ltri","":"loz","":"cir","":"tridot","":"xcirc","":"ultri","":"urtri","":"lltri","":"EmptySmallSquare","":"FilledSmallSquare","":"starf","":"star","":"phone","":"female","":"male","":"spades","":"clubs","":"hearts","":"diams","":"sung","":"check","":"cross","":"malt","":"sext","":"VerticalSeparator","":"bsolhsub","":"suphsol","":"xlarr","":"xrarr","":"xharr","":"xlArr","":"xrArr","":"xhArr","":"xmap","":"dzigrarr","":"nvlArr","":"nvrArr","":"nvHarr","":"Map","":"lbarr","":"rbarr","":"lBarr","":"rBarr","":"RBarr","":"DDotrahd","":"UpArrowBar","":"DownArrowBar","":"Rarrtl","":"latail","":"ratail","":"lAtail","":"rAtail","":"larrfs","":"rarrfs","":"larrbfs","":"rarrbfs","":"nwarhk","":"nearhk","":"searhk","":"swarhk","":"nwnear","":"toea","":"tosa","":"swnwar","":"rarrc","":"nrarrc","":"cudarrr","":"ldca","":"rdca","":"cudarrl","":"larrpl","":"curarrm","":"cularrp","":"rarrpl","":"harrcir","":"Uarrocir","":"lurdshar","":"ldrushar","":"LeftRightVector","":"RightUpDownVector","":"DownLeftRightVector","":"LeftUpDownVector","":"LeftVectorBar","":"RightVectorBar","":"RightUpVectorBar","":"RightDownVectorBar","":"DownLeftVectorBar","":"DownRightVectorBar","":"LeftUpVectorBar","":"LeftDownVectorBar","":"LeftTeeVector","":"RightTeeVector","":"RightUpTeeVector","":"RightDownTeeVector","":"DownLeftTeeVector","":"DownRightTeeVector","":"LeftUpTeeVector","":"LeftDownTeeVector","":"lHar","":"uHar","":"rHar","":"dHar","":"luruhar","":"ldrdhar","":"ruluhar","":"rdldhar","":"lharul","":"llhard","":"rharul","":"lrhard","":"udhar","":"duhar","":"RoundImplies","":"erarr","":"simrarr","":"larrsim","":"rarrsim","":"rarrap","":"ltlarr","":"gtrarr","":"subrarr","":"suplarr","":"lfisht","":"rfisht","":"ufisht","":"dfisht","":"vzigzag","":"vangrt","":"angrtvbd","":"ange","":"range","":"dwangle","":"uwangle","":"angmsdaa","":"angmsdab","":"angmsdac","":"angmsdad","":"angmsdae","":"angmsdaf","":"angmsdag","":"angmsdah","":"bemptyv","":"demptyv","":"cemptyv","":"raemptyv","":"laemptyv","":"ohbar","":"omid","":"opar","":"operp","":"olcross","":"odsold","":"olcir","":"ofcir","":"olt","":"ogt","":"cirscir","":"cirE","":"solb","":"bsolb","":"boxbox","":"trisb","":"rtriltri","":"LeftTriangleBar","":"NotLeftTriangleBar","":"RightTriangleBar","":"NotRightTriangleBar","":"iinfin","":"infintie","":"nvinfin","":"eparsl","":"smeparsl","":"eqvparsl","":"lozf","":"RuleDelayed","":"dsol","":"xodot","":"xoplus","":"xotime","":"xuplus","":"xsqcup","":"fpartint","":"cirfnint","":"awint","":"rppolint","":"scpolint","":"npolint","":"pointint","":"quatint","":"intlarhk","":"pluscir","":"plusacir","":"simplus","":"plusdu","":"plussim","":"plustwo","":"mcomma","":"minusdu","":"loplus","":"roplus","":"Cross","":"timesd","":"timesbar","":"smashp","":"lotimes","":"rotimes","":"otimesas","":"Otimes","":"odiv","":"triplus","":"triminus","":"tritime","":"iprod","":"amalg","":"capdot","":"ncup","":"ncap","":"capand","":"cupor","":"cupcap","":"capcup","":"cupbrcap","":"capbrcup","":"cupcup","":"capcap","":"ccups","":"ccaps","":"ccupssm","":"And","":"Or","":"andand","":"oror","":"orslope","":"andslope","":"andv","":"orv","":"andd","":"ord","":"wedbar","":"sdote","":"simdot","":"congdot","":"ncongdot","":"easter","":"apacir","":"apE","":"napE","":"eplus","":"pluse","":"Esim","":"eDDot","":"equivDD","":"ltcir","":"gtcir","":"ltquest","":"gtquest","":"les","":"nles","":"ges","":"nges","":"lesdot","":"gesdot","":"lesdoto","":"gesdoto","":"lesdotor","":"gesdotol","":"lap","":"gap","":"lne","":"gne","":"lnap","":"gnap","":"lEg","":"gEl","":"lsime","":"gsime","":"lsimg","":"gsiml","":"lgE","":"glE","":"lesges","":"gesles","":"els","":"egs","":"elsdot","":"egsdot","":"el","":"eg","":"siml","":"simg","":"simlE","":"simgE","":"LessLess","":"NotNestedLessLess","":"GreaterGreater","":"NotNestedGreaterGreater","":"glj","":"gla","":"ltcc","":"gtcc","":"lescc","":"gescc","":"smt","":"lat","":"smte","":"smtes","":"late","":"lates","":"bumpE","":"pre","":"npre","":"sce","":"nsce","":"prE","":"scE","":"prnE","":"scnE","":"prap","":"scap","":"prnap","":"scnap","":"Pr","":"Sc","":"subdot","":"supdot","":"subplus","":"supplus","":"submult","":"supmult","":"subedot","":"supedot","":"subE","":"nsubE","":"supE","":"nsupE","":"subsim","":"supsim","":"vsubnE","":"subnE","":"vsupnE","":"supnE","":"csub","":"csup","":"csube","":"csupe","":"subsup","":"supsub","":"subsub","":"supsup","":"suphsub","":"supdsub","":"forkv","":"topfork","":"mlcp","":"Dashv","":"Vdashl","":"Barv","":"vBar","":"vBarv","":"Vbar","":"Not","":"bNot","":"rnmid","":"cirmid","":"midcir","":"topcir","":"nhpar","":"parsim","":"parsl","":"nparsl","":"flat","":"natur","":"sharp","":"curren","":"cent",$:"dollar","":"pound","":"yen","":"euro","":"sup1","":"half","":"frac13","":"frac14","":"frac15","":"frac16","":"frac18","":"sup2","":"frac23","":"frac25","":"sup3","":"frac34","":"frac35","":"frac38","":"frac45","":"frac56","":"frac58","":"frac78","":"ascr","":"aopf","":"afr","":"Aopf","":"Afr","":"Ascr","":"ordf","":"aacute","":"Aacute","":"agrave","":"Agrave","":"abreve","":"Abreve","":"acirc","":"Acirc","":"aring","":"angst","":"auml","":"Auml","":"atilde","":"Atilde","":"aogon","":"Aogon","":"amacr","":"Amacr","":"aelig","":"AElig","":"bscr","":"bopf","":"bfr","":"Bopf","":"Bscr","":"Bfr","":"cfr","":"cscr","":"copf","":"Cfr","":"Cscr","":"Copf","":"cacute","":"Cacute","":"ccirc","":"Ccirc","":"ccaron","":"Ccaron","":"cdot","":"Cdot","":"ccedil","":"Ccedil","":"incare","":"dfr","":"dd","":"dopf","":"dscr","":"Dscr","":"Dfr","":"DD","":"Dopf","":"dcaron","":"Dcaron","":"dstrok","":"Dstrok","":"eth","":"ETH","":"ee","":"escr","":"efr","":"eopf","":"Escr","":"Efr","":"Eopf","":"eacute","":"Eacute","":"egrave","":"Egrave","":"ecirc","":"Ecirc","":"ecaron","":"Ecaron","":"euml","":"Euml","":"edot","":"Edot","":"eogon","":"Eogon","":"emacr","":"Emacr","":"ffr","":"fopf","":"fscr","":"Ffr","":"Fopf","":"Fscr","":"fflig","":"ffilig","":"ffllig","":"filig",fj:"fjlig","":"fllig","":"fnof","":"gscr","":"gopf","":"gfr","":"Gscr","":"Gopf","":"Gfr","":"gacute","":"gbreve","":"Gbreve","":"gcirc","":"Gcirc","":"gdot","":"Gdot","":"Gcedil","":"hfr","":"planckh","":"hscr","":"hopf","":"Hscr","":"Hfr","":"Hopf","":"hcirc","":"Hcirc","":"hbar","":"hstrok","":"Hstrok","":"iopf","":"ifr","":"iscr","":"ii","":"Iopf","":"Iscr","":"Im","":"iacute","":"Iacute","":"igrave","":"Igrave","":"icirc","":"Icirc","":"iuml","":"Iuml","":"itilde","":"Itilde","":"Idot","":"iogon","":"Iogon","":"imacr","":"Imacr","":"ijlig","":"IJlig","":"imath","":"jscr","":"jopf","":"jfr","":"Jscr","":"Jfr","":"Jopf","":"jcirc","":"Jcirc","":"jmath","":"kopf","":"kscr","":"kfr","":"Kscr","":"Kopf","":"Kfr","":"kcedil","":"Kcedil","":"lfr","":"lscr","":"ell","":"lopf","":"Lscr","":"Lfr","":"Lopf","":"lacute","":"Lacute","":"lcaron","":"Lcaron","":"lcedil","":"Lcedil","":"lstrok","":"Lstrok","":"lmidot","":"Lmidot","":"mfr","":"mopf","":"mscr","":"Mfr","":"Mopf","":"Mscr","":"nfr","":"nopf","":"nscr","":"Nopf","":"Nscr","":"Nfr","":"nacute","":"Nacute","":"ncaron","":"Ncaron","":"ntilde","":"Ntilde","":"ncedil","":"Ncedil","":"numero","":"eng","":"ENG","":"oopf","":"ofr","":"oscr","":"Oscr","":"Ofr","":"Oopf","":"ordm","":"oacute","":"Oacute","":"ograve","":"Ograve","":"ocirc","":"Ocirc","":"ouml","":"Ouml","":"odblac","":"Odblac","":"otilde","":"Otilde","":"oslash","":"Oslash","":"omacr","":"Omacr","":"oelig","":"OElig","":"pfr","":"pscr","":"popf","":"Popf","":"Pfr","":"Pscr","":"qopf","":"qfr","":"qscr","":"Qscr","":"Qfr","":"Qopf","":"kgreen","":"rfr","":"ropf","":"rscr","":"Rscr","":"Re","":"Ropf","":"racute","":"Racute","":"rcaron","":"Rcaron","":"rcedil","":"Rcedil","":"sopf","":"sscr","":"sfr","":"Sopf","":"Sfr","":"Sscr","":"oS","":"sacute","":"Sacute","":"scirc","":"Scirc","":"scaron","":"Scaron","":"scedil","":"Scedil","":"szlig","":"tfr","":"tscr","":"topf","":"Tscr","":"Tfr","":"Topf","":"tcaron","":"Tcaron","":"tcedil","":"Tcedil","":"trade","":"tstrok","":"Tstrok","":"uscr","":"uopf","":"ufr","":"Uopf","":"Ufr","":"Uscr","":"uacute","":"Uacute","":"ugrave","":"Ugrave","":"ubreve","":"Ubreve","":"ucirc","":"Ucirc","":"uring","":"Uring","":"uuml","":"Uuml","":"udblac","":"Udblac","":"utilde","":"Utilde","":"uogon","":"Uogon","":"umacr","":"Umacr","":"vfr","":"vopf","":"vscr","":"Vfr","":"Vopf","":"Vscr","":"wopf","":"wscr","":"wfr","":"Wscr","":"Wopf","":"Wfr","":"wcirc","":"Wcirc","":"xfr","":"xscr","":"xopf","":"Xopf","":"Xfr","":"Xscr","":"yfr","":"yscr","":"yopf","":"Yscr","":"Yfr","":"Yopf","":"yacute","":"Yacute","":"ycirc","":"Ycirc","":"yuml","":"Yuml","":"zscr","":"zfr","":"zopf","":"Zfr","":"Zopf","":"Zscr","":"zacute","":"Zacute","":"zcaron","":"Zcaron","":"zdot","":"Zdot","":"imped","":"thorn","":"THORN","":"napos","":"alpha","":"Alpha","":"beta","":"Beta","":"gamma","":"Gamma","":"delta","":"Delta","":"epsi","":"epsiv","":"Epsilon","":"gammad","":"Gammad","":"zeta","":"Zeta","":"eta","":"Eta","":"theta","":"thetav","":"Theta","":"iota","":"Iota","":"kappa","":"kappav","":"Kappa","":"lambda","":"Lambda","":"mu","":"micro","":"Mu","":"nu","":"Nu","":"xi","":"Xi","":"omicron","":"Omicron","":"pi","":"piv","":"Pi","":"rho","":"rhov","":"Rho","":"sigma","":"Sigma","":"sigmaf","":"tau","":"Tau","":"upsi","":"Upsilon","":"Upsi","":"phi","":"phiv","":"Phi","":"chi","":"Chi","":"psi","":"Psi","":"omega","":"ohm","":"acy","":"Acy","":"bcy","":"Bcy","":"vcy","":"Vcy","":"gcy","":"Gcy","":"gjcy","":"GJcy","":"dcy","":"Dcy","":"djcy","":"DJcy","":"iecy","":"IEcy","":"iocy","":"IOcy","":"jukcy","":"Jukcy","":"zhcy","":"ZHcy","":"zcy","":"Zcy","":"dscy","":"DScy","":"icy","":"Icy","":"iukcy","":"Iukcy","":"yicy","":"YIcy","":"jcy","":"Jcy","":"jsercy","":"Jsercy","":"kcy","":"Kcy","":"kjcy","":"KJcy","":"lcy","":"Lcy","":"ljcy","":"LJcy","":"mcy","":"Mcy","":"ncy","":"Ncy","":"njcy","":"NJcy","":"ocy","":"Ocy","":"pcy","":"Pcy","":"rcy","":"Rcy","":"scy","":"Scy","":"tcy","":"Tcy","":"tshcy","":"TSHcy","":"ucy","":"Ucy","":"ubrcy","":"Ubrcy","":"fcy","":"Fcy","":"khcy","":"KHcy","":"tscy","":"TScy","":"chcy","":"CHcy","":"dzcy","":"DZcy","":"shcy","":"SHcy","":"shchcy","":"SHCHcy","":"hardcy","":"HARDcy","":"ycy","":"Ycy","":"softcy","":"SOFTcy","":"ecy","":"Ecy","":"yucy","":"YUcy","":"yacy","":"YAcy","":"aleph","":"beth",
"":"gimel","":"daleth"},m=/["&'<>`]/g,n={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},o=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,p=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,q=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,r={aacute:"",Aacute:"",abreve:"",Abreve:"",ac:"",acd:"",acE:"",acirc:"",Acirc:"",acute:"",acy:"",Acy:"",aelig:"",AElig:"",af:"",afr:"",Afr:"",agrave:"",Agrave:"",alefsym:"",aleph:"",alpha:"",Alpha:"",amacr:"",Amacr:"",amalg:"",amp:"&",AMP:"&",and:"",And:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",Aogon:"",aopf:"",Aopf:"",ap:"",apacir:"",ape:"",apE:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",aring:"",Aring:"",ascr:"",Ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",atilde:"",Atilde:"",auml:"",Auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",Bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",beta:"",Beta:"",beth:"",between:"",bfr:"",Bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bNot:"",bopf:"",Bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxhD:"",boxHd:"",boxHD:"",boxhu:"",boxhU:"",boxHu:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpe:"",bumpE:"",bumpeq:"",Bumpeq:"",cacute:"",Cacute:"",cap:"",Cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",ccaron:"",Ccaron:"",ccedil:"",Ccedil:"",ccirc:"",Ccirc:"",Cconint:"",ccups:"",ccupssm:"",cdot:"",Cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",chcy:"",CHcy:"",check:"",checkmark:"",chi:"",Chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cire:"",cirE:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",colone:"",Colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",cscr:"",Cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",Cup:"",cupbrcap:"",cupcap:"",CupCap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",dArr:"",Darr:"",dash:"",dashv:"",Dashv:"",dbkarow:"",dblac:"",dcaron:"",Dcaron:"",dcy:"",Dcy:"",dd:"",DD:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",delta:"",Delta:"",demptyv:"",dfisht:"",dfr:"",Dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",DJcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",Dopf:"",dot:"",Dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",downarrow:"",Downarrow:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",Dscr:"",dscy:"",DScy:"",dsol:"",dstrok:"",Dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",DZcy:"",dzigrarr:"",eacute:"",Eacute:"",easter:"",ecaron:"",Ecaron:"",ecir:"",ecirc:"",Ecirc:"",ecolon:"",ecy:"",Ecy:"",eDDot:"",edot:"",eDot:"",Edot:"",ee:"",efDot:"",efr:"",Efr:"",eg:"",egrave:"",Egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",Emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",eng:"",ENG:"",ensp:"",eogon:"",Eogon:"",eopf:"",Eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",Epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",esim:"",Esim:"",eta:"",Eta:"",eth:"",ETH:"",euml:"",Euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",fcy:"",Fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",Ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",Fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",gamma:"",Gamma:"",gammad:"",Gammad:"",gap:"",gbreve:"",Gbreve:"",Gcedil:"",gcirc:"",Gcirc:"",gcy:"",Gcy:"",gdot:"",Gdot:"",ge:"",gE:"",gel:"",gEl:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",Gfr:"",gg:"",Gg:"",ggg:"",gimel:"",gjcy:"",GJcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",gopf:"",Gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",gscr:"",Gscr:"",gsim:"",gsime:"",gsiml:"",gt:">",Gt:"",GT:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",hardcy:"",HARDcy:"",harr:"",hArr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",hcirc:"",Hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",hstrok:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",iacute:"",Iacute:"",ic:"",icirc:"",Icirc:"",icy:"",Icy:"",Idot:"",iecy:"",IEcy:"",iexcl:"",iff:"",ifr:"",Ifr:"",igrave:"",Igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",IJlig:"",Im:"",imacr:"",Imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"","in":"",incare:"",infin:"",infintie:"",inodot:"","int":"",Int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",iocy:"",IOcy:"",iogon:"",Iogon:"",iopf:"",Iopf:"",iota:"",Iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",Itilde:"",iukcy:"",Iukcy:"",iuml:"",Iuml:"",jcirc:"",Jcirc:"",jcy:"",Jcy:"",jfr:"",Jfr:"",jmath:"",jopf:"",Jopf:"",jscr:"",Jscr:"",jsercy:"",Jsercy:"",jukcy:"",Jukcy:"",kappa:"",Kappa:"",kappav:"",kcedil:"",Kcedil:"",kcy:"",Kcy:"",kfr:"",Kfr:"",kgreen:"",khcy:"",KHcy:"",kjcy:"",KJcy:"",kopf:"",Kopf:"",kscr:"",Kscr:"",lAarr:"",lacute:"",Lacute:"",laemptyv:"",lagran:"",lambda:"",Lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larr:"",lArr:"",Larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",lAtail:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",Lcaron:"",lcedil:"",Lcedil:"",lceil:"",lcub:"{",lcy:"",Lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",leftarrow:"",Leftarrow:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",Leftrightarrow:"",LeftRightArrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",leg:"",lEg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",lfr:"",Lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",LJcy:"",ll:"",Ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",lmidot:"",Lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",Longleftarrow:"",LongLeftArrow:"",longleftrightarrow:"",Longleftrightarrow:"",LongLeftRightArrow:"",longmapsto:"",longrightarrow:"",Longrightarrow:"",LongRightArrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",Lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",Lstrok:"",lt:"<",Lt:"",LT:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",Map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",Mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",mfr:"",Mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",Mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",mu:"",Mu:"",multimap:"",mumap:"",nabla:"",nacute:"",Nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",Ncaron:"",ncedil:"",Ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",Ncy:"",ndash:"",ne:"",nearhk:"",nearr:"",neArr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",nfr:"",Nfr:"",nge:"",ngE:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",ngt:"",nGt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",NJcy:"",nlarr:"",nlArr:"",nldr:"",nle:"",nlE:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nlt:"",nLt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",not:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrarr:"",nrArr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",Nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsube:"",nsubE:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupe:"",nsupE:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntilde:"",Ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",Nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",oacute:"",Oacute:"",oast:"",ocir:"",ocirc:"",Ocirc:"",ocy:"",Ocy:"",odash:"",odblac:"",Odblac:"",odiv:"",odot:"",odsold:"",oelig:"",OElig:"",ofcir:"",ofr:"",Ofr:"",ogon:"",ograve:"",Ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",Omacr:"",omega:"",Omega:"",omicron:"",Omicron:"",omid:"",ominus:"",oopf:"",Oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",or:"",Or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",oscr:"",Oscr:"",oslash:"",Oslash:"",osol:"",otilde:"",Otilde:"",otimes:"",Otimes:"",otimesas:"",ouml:"",Ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",pcy:"",Pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",Pfr:"",phi:"",Phi:"",phiv:"",phmmat:"",phone:"",pi:"",Pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",pr:"",Pr:"",prap:"",prcue:"",pre:"",prE:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",pscr:"",Pscr:"",psi:"",Psi:"",puncsp:"",qfr:"",Qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",qscr:"",Qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",racute:"",Racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarr:"",rArr:"",Rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",Rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",Rcaron:"",rcedil:"",Rcedil:"",rceil:"",rcub:"}",rcy:"",Rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",rho:"",Rho:"",rhov:"",RightAngleBracket:"",rightarrow:"",Rightarrow:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",sacute:"",Sacute:"",sbquo:"",sc:"",Sc:"",scap:"",scaron:"",Scaron:"",sccue:"",sce:"",scE:"",scedil:"",Scedil:"",scirc:"",Scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",scy:"",Scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",Sfr:"",sfrown:"",sharp:"",shchcy:"",SHCHcy:"",shcy:"",SHcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",sigma:"",Sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",SOFTcy:"",sol:"/",solb:"",solbar:"",sopf:"",Sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",sscr:"",Sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",Star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",sube:"",subE:"",subedot:"",submult:"",subne:"",subnE:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup:"",Sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supe:"",supE:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supne:"",supnE:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",tau:"",Tau:"",tbrk:"",tcaron:"",Tcaron:"",tcedil:"",Tcedil:"",tcy:"",Tcy:"",tdot:"",telrec:"",tfr:"",Tfr:"",there4:"",therefore:"",Therefore:"",theta:"",Theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",thorn:"",THORN:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",Topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",Tscr:"",tscy:"",TScy:"",tshcy:"",TSHcy:"",tstrok:"",Tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uacute:"",Uacute:"",uarr:"",uArr:"",Uarr:"",Uarrocir:"",ubrcy:"",Ubrcy:"",ubreve:"",Ubreve:"",ucirc:"",Ucirc:"",ucy:"",Ucy:"",udarr:"",udblac:"",Udblac:"",udhar:"",ufisht:"",ufr:"",Ufr:"",ugrave:"",Ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",Umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",uogon:"",Uogon:"",uopf:"",Uopf:"",uparrow:"",Uparrow:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",updownarrow:"",Updownarrow:"",UpDownArrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",upsilon:"",Upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",Uring:"",urtri:"",uscr:"",Uscr:"",utdot:"",utilde:"",Utilde:"",utri:"",utrif:"",uuarr:"",uuml:"",Uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",vcy:"",Vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",vee:"",Vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",vfr:"",Vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",Vopf:"",vprop:"",vrtri:"",vscr:"",Vscr:"",vsubne:"",vsubnE:"",vsupne:"",vsupnE:"",Vvdash:"",vzigzag:"",wcirc:"",Wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",wfr:"",Wfr:"",wopf:"",Wopf:"",wp:"",wr:"",wreath:"",wscr:"",Wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",Xfr:"",xharr:"",xhArr:"",xi:"",Xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",xopf:"",Xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",xscr:"",Xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacute:"",Yacute:"",yacy:"",YAcy:"",ycirc:"",Ycirc:"",ycy:"",Ycy:"",yen:"",yfr:"",Yfr:"",yicy:"",YIcy:"",yopf:"",Yopf:"",yscr:"",Yscr:"",yucy:"",YUcy:"",yuml:"",Yuml:"",zacute:"",Zacute:"",zcaron:"",Zcaron:"",zcy:"",Zcy:"",zdot:"",Zdot:"",zeetrf:"",ZeroWidthSpace:"",zeta:"",Zeta:"",zfr:"",Zfr:"",zhcy:"",ZHcy:"",zigrarr:"",zopf:"",Zopf:"",zscr:"",Zscr:"",zwj:"",zwnj:""},s={aacute:"",Aacute:"",acirc:"",Acirc:"",acute:"",aelig:"",AElig:"",agrave:"",Agrave:"",amp:"&",AMP:"&",aring:"",Aring:"",atilde:"",Atilde:"",auml:"",Auml:"",brvbar:"",ccedil:"",Ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",eacute:"",Eacute:"",ecirc:"",Ecirc:"",egrave:"",Egrave:"",eth:"",ETH:"",euml:"",Euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",iacute:"",Iacute:"",icirc:"",Icirc:"",iexcl:"",igrave:"",Igrave:"",iquest:"",iuml:"",Iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",ntilde:"",Ntilde:"",oacute:"",Oacute:"",ocirc:"",Ocirc:"",ograve:"",Ograve:"",ordf:"",ordm:"",oslash:"",Oslash:"",otilde:"",Otilde:"",ouml:"",Ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",thorn:"",THORN:"",times:"",uacute:"",Uacute:"",ucirc:"",Ucirc:"",ugrave:"",Ugrave:"",uml:"",uuml:"",Uuml:"",yacute:"",Yacute:"",yen:"",yuml:""},t={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},u=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],v=String.fromCharCode,w={},x=w.hasOwnProperty,y=function(a,b){return x.call(a,b)},z=function(a,b){for(var c=-1,d=a.length;++c<d;)if(a[c]==b)return!0;return!1},A=function(a,b){if(!a)return b;var c,d={};for(c in b)d[c]=y(a,c)?a[c]:b[c];return d},B=function(a,b){var c="";return a>=55296&&a<=57343||a>1114111?(b&&E("character reference outside the permissible Unicode range"),""):y(t,a)?(b&&E("disallowed character reference"),t[a]):(b&&z(u,a)&&E("disallowed character reference"),a>65535&&(a-=65536,c+=v(a>>>10&1023|55296),a=56320|1023&a),c+=v(a))},C=function(a){return"&#x"+a.toString(16).toUpperCase()+";"},D=function(a){return"&#"+a+";"},E=function(a){throw Error("Parse error: "+a)},F=function(a,b){b=A(b,F.options);var c=b.strict;c&&p.test(a)&&E("forbidden code point");var d=b.encodeEverything,e=b.useNamedReferences,f=b.allowUnsafeSymbols,g=b.decimal?D:C,n=function(a){return g(a.charCodeAt(0))};return d?(a=a.replace(i,function(a){return e&&y(l,a)?"&"+l[a]+";":n(a)}),e&&(a=a.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),e&&(a=a.replace(k,function(a){return"&"+l[a]+";"}))):e?(f||(a=a.replace(m,function(a){return"&"+l[a]+";"})),a=a.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),a=a.replace(k,function(a){return"&"+l[a]+";"})):f||(a=a.replace(m,n)),a.replace(h,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1),d=1024*(b-55296)+c-56320+65536;return g(d)}).replace(j,n)};F.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var G=function(a,b){b=A(b,G.options);var c=b.strict;return c&&o.test(a)&&E("malformed character reference"),a.replace(q,function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p;return d?(m=d,l=e,c&&!l&&E("character reference was not terminated by a semicolon"),k=parseInt(m,10),B(k,c)):f?(n=f,l=g,c&&!l&&E("character reference was not terminated by a semicolon"),k=parseInt(n,16),B(k,c)):h?(o=h,y(r,o)?r[o]:(c&&E("named character reference was not terminated by a semicolon"),a)):(o=i,p=j,p&&b.isAttributeValue?(c&&"="==p&&E("`&` did not start a character reference"),a):(c&&E("named character reference was not terminated by a semicolon"),s[o]+(p||"")))})};G.options={isAttributeValue:!1,strict:!1};var H=function(a){return a.replace(m,function(a){return n[a]})},I={version:"1.1.1",encode:F,decode:G,escape:H,unescape:G};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return I});else if(e&&!e.nodeType)if(f)f.exports=I;else for(var J in I)y(I,J)&&(e[J]=I[J]);else d.he=I}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],129:[function(a,b,c){!function(a,c,d){function e(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function f(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return s[a.which]?s[a.which]:t[a.which]?t[a.which]:String.fromCharCode(a.which).toLowerCase()}function g(a,b){return a.sort().join(",")===b.sort().join(",")}function h(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function i(a){
return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function j(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function k(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function l(){if(!r){r={};for(var a in s)a>95&&a<112||s.hasOwnProperty(a)&&(r[s[a]]=a)}return r}function m(a,b,c){return c||(c=l()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function n(a){return"+"===a?["+"]:(a=a.replace(/\+{2}/g,"+plus"),a.split("+"))}function o(a,b){var c,d,e,f=[];for(c=n(a),e=0;e<c.length;++e)d=c[e],v[d]&&(d=v[d]),b&&"keypress"!=b&&u[d]&&(d=u[d],f.push("shift")),k(d)&&f.push(d);return b=m(d,f,b),{key:d,modifiers:f,action:b}}function p(a,b){return null!==a&&a!==c&&(a===b||p(a.parentNode,b))}function q(a){function b(a){a=a||{};var b,c=!1;for(b in u)a[b]?c=!0:u[b]=0;c||(x=!1)}function d(a,b,c,d,e,f){var h,i,j=[],l=c.type;if(!s._callbacks[a])return[];for("keyup"==l&&k(a)&&(b=[a]),h=0;h<s._callbacks[a].length;++h)if(i=s._callbacks[a][h],(d||!i.seq||u[i.seq]==i.level)&&l==i.action&&("keypress"==l&&!c.metaKey&&!c.ctrlKey||g(b,i.modifiers))){var m=!d&&i.combo==e,n=d&&i.seq==d&&i.level==f;(m||n)&&s._callbacks[a].splice(h,1),j.push(i)}return j}function l(a,b,c,d){s.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(i(b),j(b))}function m(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=f(a);if(b)return"keyup"==a.type&&v===b?void(v=!1):void s.handleKey(b,h(a),a)}function n(){clearTimeout(t),t=setTimeout(b,1e3)}function p(a,c,d,e){function g(b){return function(){x=b,++u[a],n()}}function h(c){l(d,c,a),"keyup"!==e&&(v=f(c)),setTimeout(b,10)}u[a]=0;for(var i=0;i<c.length;++i){var j=i+1===c.length,k=j?h:g(e||o(c[i+1]).action);r(c[i],k,e,a,i)}}function r(a,b,c,e,f){s._directMap[a+":"+c]=b,a=a.replace(/\s+/g," ");var g,h=a.split(" ");return h.length>1?void p(a,h,b,c):(g=o(a,c),s._callbacks[g.key]=s._callbacks[g.key]||[],d(g.key,g.modifiers,{type:g.action},e,a,f),void s._callbacks[g.key][e?"unshift":"push"]({callback:b,modifiers:g.modifiers,action:g.action,seq:e,level:f,combo:a}))}var s=this;if(a=a||c,!(s instanceof q))return new q(a);s.target=a,s._callbacks={},s._directMap={};var t,u={},v=!1,w=!1,x=!1;s._handleKey=function(a,c,e){var f,g=d(a,c,e),h={},i=0,j=!1;for(f=0;f<g.length;++f)g[f].seq&&(i=Math.max(i,g[f].level));for(f=0;f<g.length;++f)if(g[f].seq){if(g[f].level!=i)continue;j=!0,h[g[f].seq]=1,l(g[f].callback,e,g[f].combo,g[f].seq)}else j||l(g[f].callback,e,g[f].combo);var m="keypress"==e.type&&w;e.type!=x||k(a)||m||b(h),w=j&&"keydown"==e.type},s._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)r(a[d],b,c)},e(a,"keypress",m),e(a,"keydown",m),e(a,"keyup",m)}for(var r,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},t={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},v={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},w=1;w<20;++w)s[111+w]="f"+w;for(w=0;w<=9;++w)s[w+96]=w;q.prototype.bind=function(a,b,c){var d=this;return a=a instanceof Array?a:[a],d._bindMultiple.call(d,a,b,c),d},q.prototype.unbind=function(a,b){var c=this;return c.bind.call(c,a,function(){},b)},q.prototype.trigger=function(a,b){var c=this;return c._directMap[a+":"+b]&&c._directMap[a+":"+b]({},a),c},q.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},q.prototype.stopCallback=function(a,b){var c=this;return!((" "+b.className+" ").indexOf(" mousetrap ")>-1)&&(!p(b,c.target)&&("INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable))},q.prototype.handleKey=function(){var a=this;return a._handleKey.apply(a,arguments)},q.init=function(){var a=q(c);for(var b in a)"_"!==b.charAt(0)&&(q[b]=function(b){return function(){return a[b].apply(a,arguments)}}(b))},q.init(),a.Mousetrap=q,"undefined"!=typeof b&&b.exports&&(b.exports=q),"function"==typeof define&&define.amd&&define(function(){return q})}(window,document)},{}],130:[function(a,b,c){(function(b){"use strict";function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,b<0?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;c++)a[c]=0;return a}function h(a,b,c){"string"==typeof c&&""!==c||(c="utf8");var d=0|s(b,c);return a=p(a,d),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function p(a,b){f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0);var c=0!==b&&b<=f.poolSize>>>1;return c&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b=0|b,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=$)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||b<g)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return a<16?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("isarray");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[d===-1?0:e-d]){if(d===-1&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(b<0&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,(void 0));for(var g=0;g<e;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b=0|b,c=0|c,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;b<c;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:128,isarray:131}],131:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],132:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],133:[function(a,b,c){"use strict";var d='<!-- EE # src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances-pagination.html -->\n<pagination ng-if="Pagination.total > Pagination.pages.size"\n            class="pagination-sm"\n\n            page="Pagination.pages.current"\n            ng-model="Pagination.pages.current"\n\n            total-items="Pagination.total"\n            items-per-page="Pagination.pages.size"\n\n            max-size="7"\n            boundary-links="true"></pagination>\n<!-- EE / src/main/resources-plugin/cockpit/drd/app/definition/tabs/decision-instances/component/drd-decision-instances-pagination.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamPaginationController as Pagination",scope:{total:"=",onPaginationChange:"&camPagination"}}}},{}],134:[function(a,b,c){"use strict";var d='<div cam-widget-search\n     cam-widget-search-total="Searchable.pages.total"\n     cam-widget-search-valid-searches="Searchable.config.searches"\n     cam-widget-search-translations="Searchable.config.tooltips"\n     cam-widget-search-types="Searchable.config.types"\n     cam-widget-search-id="{{searchId}}"\n     cam-widget-search-operators="Searchable.config.operators"\n     cam-widget-search-storage-group="Searchable.storageGroup"\n     cam-widget-search-mode="filter">\n</div>\n<div cam-widget-loader\n     text-error="{{Searchable.loadingError}}"\n     text-empty="{{Searchable.textEmpty}}"\n     loading-state="{{Searchable.loadingState}}">\n\n  <div ng-transclude></div>\n\n  <pagination ng-if="Searchable.pages.total > Searchable.pages.size"\n              class="pagination-sm"\n              page="Searchable.pages.current"\n              ng-model="Searchable.pages.current"\n              total-items="Searchable.pages.total"\n              items-per-page="Searchable.pages.size"\n              max-size="7"\n              boundary-links="true">\n  </pagination>\n</div>\n';b.exports=function(){return{restrict:"A",transclude:!0,template:d,controller:"CamPaginationSearchIntegrationController as Searchable",scope:{config:"=",loadingState:"=",loadingError:"@",arrayTypes:"=?",variableTypes:"=?",buildCustomQuery:"&",onSearchChange:"&",textEmpty:"@",storageGroup:"=",searchId:"@?",blocked:"="}}}},{}],135:[function(a,b,c){"use strict";var d='<ul class="nav nav-tabs"\n    ng-if="Tabs.providers.length > 1">\n  <li ng-repeat="tabProvider in Tabs.providers"\n      ng-class="{ active: Tabs.isSelected(tabProvider) }">\n    <a href ng-click="Tabs.selectTab(tabProvider)">{{ tabProvider.label | translate }}</a>\n  </li>\n</ul>\n\n<h4 ng-if="Tabs.providers.length === 1">{{ Tabs.providers[0].label | translate }}:</h4>\n\n<div class="ctn-tabbed-content ctn-scroll"\n     ng-if="Tabs.providers.length">\n  <view provider="Tabs.selected"\n        vars="Tabs.vars" />\n</div>\n';b.exports=function(){return{restrict:"A",template:d,controller:"CamTabsController as Tabs",scope:{providerParams:"=camTabs",tabsApi:"=?",vars:"=?",varsValues:"=?"}}}},{}],136:[function(a,b,c){"use strict";var d='<!-- # CE - ui/common/scripts/module/components/cam-toolbar.html -->\n<div class="ctn-toolbar">\n  <!-- Toolbar actions are provided by plugins -->\n  <span ng-repeat="provider in providers">\n    <view provider="provider"\n          vars="vars" />\n  </span>\n</div>\n<!-- / CE - ui/common/scripts/module/components/cam-toolbar.html -->\n';b.exports=function(){return{restrict:"A",template:d,scope:{providers:"=camToolbar",vars:"=?"}}}},{}],137:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.searchWidgetUtils=c,this.search=d,this.lastSearchQueryString=null,this.locationChange=!0,e(a,this,["config","arrayTypes","variableTypes","onSearchChange","buildCustomQuery","loadingError","loadingState","textEmpty","storageGroup","blocked"]),this.arrayTypes=g.isArray(this.arrayTypes)?this.arrayTypes:[],this.variableTypes=g.isArray(this.variableTypes)?this.variableTypes:[],this.pages={size:50,total:0,current:this.getCurrentPageFromSearch()};var f=function(){return this.pages.current}.bind(this);a.$watch(f,this.onPageChange.bind(this)),a.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),a.$watch("config.searches",this.updateQuery.bind(this),!0),a.$watch("blocked",this.onBlockedChange.bind(this));var h=b.$on("cam-common:cam-searchable:query-force-change",this.onForcedRefresh.bind(this));a.$on("$destroy",function(){h()})}function e(a){return a&&a.map(function(a){return f(a)})}function f(a){var b=a.value&&a.value.value,c=a.type&&a.type.value.value,d=a.operator&&a.operator.value.key,e=a.name&&a.name.value;return{value:b,type:c,operator:d,name:e}}var g=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","$rootScope","searchWidgetUtils","search","exposeScopeProperties",d],d.prototype.onForcedRefresh=function(){this.resetPage(),this.executeQueries()},d.prototype.onBlockedChange=function(a,b){!a&&b&&this.query&&this.executeQueries()},d.prototype.getSearchQueryString=function(){return this.search().searchQuery},d.prototype.hasSearchQueryStringChanged=function(){var a=this.getSearchQueryString();return a!==this.lastSearchQueryString&&(this.lastSearchQueryString||"[]"!==a)},d.prototype.onPageChange=function(a,b){var c=this.getCurrentPageFromSearch();a!=b&&a!==c&&(this.search("page",a&&1!=a?a:null),this.hasSearchQueryStringChanged()||this.executeQueries())},d.prototype.onLocationChange=function(){var a=this.getCurrentPageFromSearch();+this.pages.current!==+a&&(this.pages.current=a,this.hasSearchQueryStringChanged()?this.locationChange=!0:this.executeQueries())},d.prototype.getCurrentPageFromSearch=function(){return+this.search().page||1},d.prototype.updateQuery=function(a,b){this.areSearchesDifferent(a,b)&&(this.query=this.buildCustomQuery&&this.buildCustomQuery(a)||this.createQuery(a),this.locationChange||this.resetPage(),this.lastSearchQueryString=this.getSearchQueryString(),this.executeQueries())},d.prototype.resetPage=function(){var a=this.search();this.pages.current=1,a.page=1,this.search.updateSilently(a,!0)},d.prototype.executeQueries=function(){this.query&&!this.blocked&&(this.locationChange=!1,this.onSearchChange({query:g.copy(this.query),pages:g.copy(this.pages)}).then(function(a){this.pages.total=a}.bind(this)))},d.prototype.createQuery=function(a){return this.searchWidgetUtils.createSearchQueryForSearchWidget(a,this.arrayTypes,this.variableTypes)},d.prototype.areSearchesDifferent=function(a,b){var c=e(a),d=e(b);return!g.equals(c,d)}},{"camunda-commons-ui/vendor/angular":119}],138:[function(a,b,c){"use strict";function d(a,b,c,d){c.initializePaginationInController(a,b,function(){a.onPaginationChange({pages:a.pages})}),d(a,this,["total","pages"]),a.onPaginationChange({pages:a.pages})}b.exports=["$scope","search","paginationUtils","exposeScopeProperties",d]},{}],139:[function(a,b,c){"use strict";function d(a,b,c){this.providers=this.getProviders(c,a),this.selected=this.providers[0],this.search=b,this.initializeVars(a),a.$on("$locationChangeSuccess",this.onLocationChange.bind(this)),this.onLocationChange()}function e(a,b){
return(b.priority||0)-(a.priority||0)}var f=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","search","Views",d],d.prototype.initializeVars=function(a){this.vars=a.vars||{read:["tabsApi"]},a.varsValues&&f.extend(a,a.varsValues)},d.prototype.getProviders=function(a,b){return a.getProviders(b.providerParams).sort(e)},d.prototype.onLocationChange=function(){var a=this.search();this.isTabSelectionChangedInUrl(a)?this.selected=this.providers.filter(function(b){return b.id===a.tab})[0]:a.tab||(this.selected=this.providers[0])},d.prototype.isTabSelectionChangedInUrl=function(a){return f.isString(a.tab)&&(!this.selected||a.tab!==this.selected.id)},d.prototype.selectTab=function(a){var b=this.search(),c={tab:a.id};this.selected=a,this.search.updateSilently(f.extend(b,c))},d.prototype.isSelected=function(a){return this.selected===a}},{"camunda-commons-ui/vendor/angular":119}],140:[function(a,b,c){"use strict";function d(){this._hovered=null,this._listeners=[]}b.exports=d,d.prototype.hoverTitle=function(a){this._hovered=a,this._fireListeners()},d.prototype.cleanHover=function(){this._hovered=null,this._fireListeners()},d.prototype.addHoverListener=function(a,b){var c={title:a,listener:b};return this._listeners.push(c),this._fireEntry(c),function(){this._listeners=this._listeners.filter(function(a){return a.listener!==b})}.bind(this)},d.prototype._fireListeners=function(){this._listeners.forEach(this._fireEntry.bind(this))},d.prototype._fireEntry=function(a){a.listener(a.title===this._hovered)}},{}],141:[function(a,b,c){"use strict";b.exports=["readFiles",function(a){return{restrict:"A",scope:{onChange:"&camFile"},link:function(b,c){c[0].addEventListener("change",function(d){b.$apply(function(){a(c[0].files).then(function(a){b.onChange({$event:d,files:a})})})})}}}]},{}],142:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",transclude:!0,scope:!0,controller:"HoverAreaController as HoverArea",link:function(a,b,c,d,e){e(function(a){b.empty(),b.append(a)})}}}},{}],143:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(a,b,c,d){b.on("mouseenter",function(){a.$apply(function(){d.hoverTitle(c.camHoverTrigger)})}),b.on("mouseleave",function(){a.$apply(d.cleanHover.bind(d))})}}}},{}],144:[function(a,b,c){"use strict";b.exports=function(){return{restrict:"A",require:"^camHoverArea",link:function(a,b,c,d){function e(){f&&f()}var f,g=c.hoverClass||"hovered";c.$observe("camHoverableTitle",function(a){e(),f=d.addHoverListener(a,function(a){a?b.addClass(g):b.removeClass(g)})}),b.on("$destroy",e)}}}},{}],145:[function(a,b,c){"use strict";var d='<span cam-widget-inline-field\n  class="set-value"\n  type="{{type}}"\n  change="onChange()"\n  value="property">\n  <span ng-show="property == null" class="null-value">{{ \'TIME_TO_LIVE_NULL\' | translate }}</span>\n  <span ng-show="property != null">\n    {{format({property: property}) || property}}\n    <button type="button" class="btn btn-link btn-xs" ng-click="remove($event)">\n      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>\n    </button>\n  </span>\n</span>\n';b.exports=function(){return{restrict:"A",template:d,scope:{property:"=camInlinePanelProperty",format:"&",onChange:"&",onRemove:"&",type:"@"},link:function(a){a.remove=function(b){b.preventDefault(),b.stopPropagation(),a.onRemove()}}}}},{}],146:[function(a,b,c){"use strict";var d='<span  ng-transclude></span>\n<a ng-click="changeOrder(column)">\n  <span class="glyphicon" ng-class="orderClass(column)"></span>\n</a>',e=function(){return{replace:!1,restrict:"A",scope:{column:"@sortByProperty"},transclude:!0,require:"^^camSortableTableHeader",template:d,link:function(a,b,c,d){a.orderClass=function(a){var b=d.getSorting();a=a||b.sortBy;var c={none:"minus",desc:"chevron-down",asc:"chevron-up"};return"glyphicon-"+c[a===b.sortBy?b.sortOrder:"none"]},a.changeOrder=function(a){d.changeOrder(a)}}}};b.exports=e},{}],147:[function(a,b,c){"use strict";function d(){}var e=function(){return{replace:!1,restrict:"A",scope:{onSortInitialized:"&",onSortChange:"&",sortBy:"@defaultSortBy",sortOrder:"@defaultSortOrder",sortingId:"@"},controller:["$scope","localConf",function(a,b){function c(){return b.get(f,g)}function e(a){b.set(f,a)}var f=a.sortingId,g={sortBy:a.sortBy,sortOrder:a.sortOrder},h=a.onSortInitialized||d,i=a.onSortChange||d,j=c();h({sorting:j}),this.changeOrder=function(a){j.sortBy=a,j.sortOrder="desc"===j.sortOrder?"asc":"desc",e(j),i({sorting:j})},this.getSorting=function(){return j}}]}};b.exports=e},{}],148:[function(a,b,c){"use strict";var d='<!-- CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html -->\n<a ng-href="{{Link.getLink()}}">\n  {{Link.getActivityName()}}\n</a>\n<!-- / CE ui/common/scripts/module/external-tasks-common/components/external-task-activity-link.html -->\n';b.exports=function(){return{restrict:"A",template:d,controller:"ExternalTaskActivityLinkController as Link",scope:{activityId:"=externalTaskActivityLink",bpmnElements:"=",searchQueryType:"=?"}}}},{}],149:[function(a,b,c){"use strict";var d='<a ng-href="{{Link.getStacktraceUrl()}}" target="_blank" ng-transclude></a>\n';b.exports=function(){return{restrict:"A",template:d,transclude:!0,controller:"ExternalTaskErrorMessageLinkController as Link",scope:{taskId:"=externalTaskErrorMessageLink",historic:"=?"}}}},{}],150:[function(a,b,c){"use strict";var d='<!-- # EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html -->\n<div cam-widget-loader\n     loading-state="{{ TasksTab.loadingState }}"\n     text-empty="{{ \'PLUGIN_EXTERNAL_TASK_NO_EXTERNAL_TASK_FOR_THIS_PROCESS\' | translate }}">\n\n  <!-- transclustion target -->\n  <div ng-transclude></div>\n  <!-- / transclustion target -->\n\n  <div cam-pagination="TasksTab.onPaginationChange(pages)" total="TasksTab.total" >\n  </div>\n</div>\n<!-- / EE - ui/common/scripts/module/external-tasks-common/components/external-tasks-tab.html -->\n';b.exports=function(){return{restrict:"A",template:d,transclude:!0,controller:"ExternalTasksTabController as TasksTab",scope:{onLoad:"&externalTasksTab",processData:"="}}}},{}],151:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){b(a,this,["activityId","bpmnElements","searchQueryType"]),this.search=c,this.params=e,this.path=d.path(),this.searchWidgetUtils=f}var e=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","exposeScopeProperties","search","$location","params","searchWidgetUtils",d],d.prototype.getLink=function(){var a=e.copy(this.search()),b=JSON.parse(a.searchQuery||"[]");return this.searchQueryType?a.searchQuery=JSON.stringify(this.searchWidgetUtils.replaceActivitiesInSearchQuery(b,this.searchQueryType,[this.activityId])):a.activityIds=this.activityId,"#"+this.path+"?"+this.params(a)},d.prototype.getActivityName=function(){var a=this.activityId;return this.bpmnElements[a]&&this.bpmnElements[a].name?this.bpmnElements[a].name:a}},{"camunda-commons-ui/vendor/angular":119}],152:[function(a,b,c){"use strict";function d(a,b,c){c(a,this,["taskId","historic"]),this.Uri=b}b.exports=["$scope","Uri","exposeScopeProperties",d],d.prototype.getStacktraceUrl=function(){var a="engine://engine/:engine/external-task/"+this.taskId+"/errorDetails";return this.historic&&(a="engine://engine/:engine/history/external-task-log/"+this.taskId+"/error-details"),this.Uri.appUri(a)}},{}],153:[function(a,b,c){"use strict";function d(a,b){b(a,this,["onLoad"]);var c=a.processData.newChild(a);c.observe("filter",this.onFilterChanged.bind(this))}function e(a){return a&&a.activityIds&&a.activityIds.length?a.activityIds:null}var f=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","exposeScopeProperties",d],b.exports.ExternalTasksTabController=d,d.prototype.onFilterChanged=function(a){this.isFilterChanged(a)&&(this.filter=a,this.pages&&this.loadTasks())},d.prototype.isFilterChanged=function(a){var b=e(this.filter),c=e(a);return!this.filter||!f.equals(b,c)},d.prototype.onPaginationChange=function(a){this.pages=a,this.filter&&this.loadTasks()},d.prototype.loadTasks=function(){this.loadingState="LOADING",this.onLoad({pages:f.copy(this.pages),activityIds:e(this.filter)}).then(function(a){this.total=a.count,a.list?this.loadingState="LOADED":this.loadingState="EMPTY"}.bind(this))}},{"camunda-commons-ui/vendor/angular":119}],154:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./services/observe-bpmn-elements"),f=a("./components/external-task-activity-link"),g=a("./components/external-tasks-tab"),h=a("./components/external-task-error-message-link"),i=a("./controllers/external-task-activity-link-controller"),j=a("./controllers/external-tasks-tab-controller"),k=a("./controllers/external-task-error-message-link-controller"),l=d.module("cam-common.external-tasks-common",[]);l.factory("observeBpmnElements",e),l.directive("externalTaskActivityLink",f),l.directive("externalTasksTab",g),l.directive("externalTaskErrorMessageLink",h),l.controller("ExternalTaskActivityLinkController",i),l.controller("ExternalTasksTabController",j),l.controller("ExternalTaskErrorMessageLinkController",k),b.exports=l},{"./components/external-task-activity-link":148,"./components/external-task-error-message-link":149,"./components/external-tasks-tab":150,"./controllers/external-task-activity-link-controller":151,"./controllers/external-task-error-message-link-controller":152,"./controllers/external-tasks-tab-controller":153,"./services/observe-bpmn-elements":155,"camunda-commons-ui/vendor/angular":119}],155:[function(a,b,c){"use strict";b.exports=function(){return function(a,b){var c=b.processData.newChild(a);c.observe("bpmnElements",function(a){b.bpmnElements=a})}}},{}],156:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./services/is-module-available"),f=a("./services/expose-scope-properties"),g=a("./services/loaders"),h=a("./services/integrate-activity-instance-filter"),i=a("./services/params"),j=a("./services/create-list-query-function"),k=a("./services/create-is-search-query-changed-function"),l=a("./services/read-files"),m=a("./services/upload"),n=a("./services/get-deployment-url"),o=a("./services/is-file-upload-supported"),p=a("./services/get"),q=a("./components/cam-toolbar"),r=a("./components/cam-pagination"),s=a("./components/cam-searchable-area"),t=a("./components/cam-tabs"),u=a("./directives/cam-hover-area"),v=a("./directives/cam-hover-trigger"),w=a("./directives/cam-hoverable-title"),x=a("./directives/cam-file"),y=a("./directives/cam-inline-panel-property"),z=a("./directives/cam-sortable-table-header"),A=a("./directives/cam-sortable-table-column"),B=a("./controllers/hover-area"),C=a("./controllers/cam-pagination"),D=a("./controllers/cam-tabs"),E=a("./controllers/cam-pagination-search-integration"),F=a("../util/routeUtil"),G=a("../util/pagination-utils"),H=a("../util/search-widget-utils"),I=a("./external-tasks-common"),J=d.module("cam-common",[I.name]);J.factory("isModuleAvailable",e),J.factory("exposeScopeProperties",f),J.factory("Loaders",g),J.factory("integrateActivityInstanceFilter",h),J.factory("params",i),J.factory("createListQueryFunction",j),J.factory("createIsSearchQueryChangedFunction",k),J.factory("readFiles",l),J.factory("upload",m),J.factory("getDeploymentUrl",n),J.factory("isFileUploadSupported",o),J.factory("get",p),J.directive("camToolbar",q),J.directive("camPagination",r),J.directive("camSearchableArea",s),J.directive("camTabs",t),J.directive("camHoverArea",u),J.directive("camHoverTrigger",v),J.directive("camHoverableTitle",w),J.directive("camFile",x),J.directive("camInlinePanelProperty",y),J.directive("camSortableTableHeader",z),J.directive("camSortableTableColumn",A),J.controller("HoverAreaController",B),J.controller("CamPaginationController",C),J.controller("CamTabsController",D),J.controller("CamPaginationSearchIntegrationController",E),J.value("routeUtil",F),J.value("paginationUtils",G),J.value("searchWidgetUtils",H),b.exports=J},{"../util/pagination-utils":172,"../util/routeUtil":173,"../util/search-widget-utils":174,"./components/cam-pagination":133,"./components/cam-searchable-area":134,"./components/cam-tabs":135,"./components/cam-toolbar":136,"./controllers/cam-pagination":138,"./controllers/cam-pagination-search-integration":137,"./controllers/cam-tabs":139,"./controllers/hover-area":140,"./directives/cam-file":141,"./directives/cam-hover-area":142,"./directives/cam-hover-trigger":143,"./directives/cam-hoverable-title":144,"./directives/cam-inline-panel-property":145,"./directives/cam-sortable-table-column":146,"./directives/cam-sortable-table-header":147,"./external-tasks-common":154,"./services/create-is-search-query-changed-function":157,"./services/create-list-query-function":158,"./services/expose-scope-properties":159,"./services/get":161,"./services/get-deployment-url":160,"./services/integrate-activity-instance-filter":162,"./services/is-file-upload-supported":163,"./services/is-module-available":164,"./services/loaders":165,"./services/params":166,"./services/read-files":167,"./services/upload":168,"camunda-commons-ui/vendor/angular":119}],157:[function(a,b,c){"use strict";b.exports=["search",function(a){return function(){var b=null;return function(){var c=a().searchQuery;if(c!==b&&(b||"[]"!==c))return b=c,!0}}}]},{}],158:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$q",function(a){return function(b,c){return function(e,f,g){return b(e).then(function(b){var h=(f.current-1)*f.size,i=b.count,j=d.extend({},e,{firstResult:h,maxResults:f.size},g);return i>h?a.all({count:i,list:c(j)}):b})}}}]},{"camunda-commons-ui/vendor/angular":119}],159:[function(a,b,c){"use strict";b.exports=function(){return function(a,b,c){var d=c.reduce(function(b,c){return b[c]={get:function(){return a[c]},set:function(b){a[c]=b}},b},{});Object.defineProperties(b,d)}}},{}],160:[function(a,b,c){"use strict";b.exports=["$location","routeUtil",function(a,b){return function(c,d){var e="#/repository",f={deployment:c.id,deploymentsQuery:JSON.stringify([{type:"id",operator:"eq",value:c.id}])};d&&(f.resourceName=d.name);var g=a.search()||{};return g.deploymentsSortBy&&(f.deploymentsSortBy=g.deploymentsSortBy),g.deploymentsSortOrder&&(f.deploymentsSortOrder=g.deploymentsSortOrder),b.redirectTo(e,f,["deployment","resourceName","deploymentsQuery","deploymentsSortOrder","deploymentsSortBy"])}}]},{}],161:[function(a,b,c){"use strict";b.exports=function(){return function(a,b,c){for(var d,e=a,f=0;f<b.length;f++){if(d=b[f],!e||!e[d])return c;e=e[d]}return e}}},{}],162:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["search","$location","searchWidgetUtils",function(a,b,c){return function(e,f,g){function h(b){var d=a(),e=c.getActivityIdsFromUrlParams("activityInstanceIdIn",d),f=d.activityIds?d.activityIds.split(","):[],g=i(b,f,e);return g&&(f=[]),{activityIds:f,activityInstanceIds:e,page:parseInt(d.page,10)||void 0,replace:g||!b}}function i(a,b,c){return a&&d.equals(b,a.activityIds)&&!d.equals(c,a.activityInstanceIds)}function j(b,f){var g=d.isArray(b.activityInstanceIds)?b.activityInstanceIds:[],h=d.isArray(b.activityIds)?b.activityIds:[],i=a(),j=JSON.parse(i.searchQuery||"[]");j=i.searchQuery||g.length||h.length?c.replaceActivitiesInSearchQuery(j,"activityInstanceIdIn",g):null,a.updateSilently({searchQuery:j?JSON.stringify(j):null,activityIds:h.length?h.join(","):null},f),e.filter=b}function k(a,b,c){var f,h=a.activityIds||[],i=a.activityInstanceIds||[],k=parseInt(a.page,10)||null,m=a.scrollToBpmnElement,n=a!==e.filter,o=a.replace;if(delete a.replace,d.forEach(i,function(a){var c=b[a]||{},d=c.activityId||c.targetActivityId,e=h.indexOf(d);e===-1&&d&&h.push(d)}),d.forEach(h,function(a){var b=c[a],d=!1,e=[];if(b){for(var f,g=0;f=b[g];g++){var h=i.indexOf(f.id);if(h!==-1){d=!0;break}e.push(f.id)}d||(i=i.concat(e))}}),g.shouldRemoveActivityIds)for(var p=0;p<h.length;p++)c[h[p]]||(h.splice(p,1),p--);for(p=0;p<i.length;p++)b[i[p]]||(i.splice(p,1),p--);if(h.length>0){var q=h[h.length-1];q!==m&&(m=q)}f={activityIds:h,activityInstanceIds:i,scrollToBpmnElement:m,page:k},d.equals(f,e.filter)||(e.filter=f,l.set("filter",e.filter)),n&&e.filter&&j(e.filter,o)}var l=e.processData,m=e.processInstance;g=g||{},e.filter=h(),l.provide("filter",h()),l.observe(["filter","instanceIdToInstanceMap","activityIdToInstancesMap"],k),e.$on("$locationChangeSuccess",function(){var a=h(e.filter);b.path().indexOf(m.id)>-1&&(c.shouldUpdateFilter(a,e.filter,["activityIds","activityInstanceIds","page"])&&l.set("filter",a),f(e.processInstanceTabs))})}}]},{"camunda-commons-ui/vendor/angular":119}],163:[function(a,b,c){b.exports=["$window",function(a){return function(){var b=a.FileReader;return"function"==typeof b&&"function"==typeof b.prototype.readAsText}}]},{}],164:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=function(){return function(a){try{return!!d.module(a)}catch(b){return!1}}}},{"camunda-commons-ui/vendor/angular":119}],165:[function(a,b,c){"use strict";b.exports=["$rootScope",function(a){function b(){var a=function(){f=f.filter(function(b){return b!==a}),c()};return f.push(a),c(),a}function c(){a.$broadcast(g)}function d(a,b){return b(e()),a.$on(g,function(){var a=e();b(a)})}function e(){return 0===f.length?"LOADED":"LOADING"}var f=[],g="LoaderService:active-loaders-changed";return{startLoading:b,addStatusListener:d}}]},{}],166:[function(a,b,c){b.exports=function(){return function(a){return Object.keys(a).reduce(function(b,c){var d=a[c],e=c+"="+encodeURIComponent(d);return b.length?b+"&"+e:e},"")}}},{}],167:[function(a,b,c){"use strict";b.exports=["$q","$window",function(a,b){function c(c){var d=a.defer(),e=new b.FileReader;return e.onload=function(a){d.resolve({file:c,content:a.target.result})},e.onerror=function(a){d.reject(a)},e.readAsText(c),d.promise}return function(b){return a.all(Array.prototype.map.call(b,c))}}]},{}],168:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$window","$q","$rootScope","$browser",function(a,b,c,e){return function(f,g,h){var i=b.defer();d.isArray(g)||(g=[g]),h=h||{};var j=g.map(function(a,b){return'Content-Disposition: form-data; name="data'+b+'"; filename="'+a.file.name+'"\r\nContent-Type: text/xml\r\n\r\n'+a.content+"\r\n"});j=j.concat(Object.keys(h).map(function(a){var b=h[a];return'Content-Disposition: form-data; name="'+a+'"\r\n\r\n'+b+"\r\n"}));var k=new a.XMLHttpRequest;k.onload=function(a){4===a.target.readyState&&(200===a.target.status?i.resolve(JSON.parse(a.target.responseText)):401===a.target.status?(c.$broadcast("authentication.changed",null),c.authentication=null,c.$broadcast("authentication.login.required"),i.reject(a)):i.reject(a))},k.open("post",f,!0);var l="---------------------------"+Date.now().toString(16);k.setRequestHeader("Content-Type","multipart/form-data; boundary="+l);var m=e.cookies()["XSRF-TOKEN"];m&&k.setRequestHeader("X-XSRF-TOKEN",m);var n="--"+l+"\r\n"+j.join("--"+l+"\r\n")+"--"+l+"--\r\n";return k.send(n),i.promise}}]},{"camunda-commons-ui/vendor/angular":119}],169:[function(a,b,c){"use strict";var d=a("angular"),e={dateFormat:{monthName:"MMMM",day:"DD",abbr:"lll",normal:"LLL","long":"LLLL","short":"LL"},locales:{availableLocales:["en"],fallbackLocale:"en"},skipCustomListeners:{"default":!0,hidden:!1},runtimeActivityInstanceMetrics:{display:!0},historicActivityInstanceMetrics:{adjustablePeriod:!0,period:{unit:"day"}},batchOperation:{mode:"filter"}};b.exports=function(a,b){return[function(){var c=window.localStorage,f=JSON.parse(c.getItem("camunda-web")||"{}");this.get=function(a,b){return"undefined"!=typeof f[a]?f[a]:b},this.set=function(a,b){f[a]=b,c.setItem("camunda-web",JSON.stringify(f))},this.getDateFormat=function(b){var c=a.dateFormat||e.dateFormat;return c[b]||e.dateFormat[b]},this.getFallbackLocale=function(){return a.locales&&a.locales.fallbackLocale?a.locales.fallbackLocale:e.locales.fallbackLocale},this.getAvailableLocales=function(){return a.locales&&a.locales.availableLocales?a.locales.availableLocales:e.locales.availableLocales},this.getDateLocales=function(){return a.camDateLocales},this.getAppVendor=function(){return a.app&&a.app.vendor?a.app.vendor:"Camunda"},this.getAppName=function(){return a.app&&a.app.name?a.app.name:b},this.getSkipCustomListeners=function(){return d.extend({},e.skipCustomListeners,a.skipCustomListeners)},this.getRuntimeActivityInstanceMetrics=function(){var b="runtimeActivityInstanceMetrics";return d.extend({},e[b],a[b])},this.getActivityInstancePeriod=function(){var b="historicActivityInstanceMetrics";return a[b]&&a[b].period?a[b].period:e[b].period},this.getActivityInstanceAdjustable=function(){var b="historicActivityInstanceMetrics";return a[b]&&a[b].adjustablePeriod?a[b].adjustablePeriod:e[b].adjustablePeriod},this.getBatchOperationMode=function(){var b="batchOperation";return a[b]&&a[b].mode||e[b].mode},this.getBpmnJs=function(){return a.bpmnJs},this.$get=function(){return this}}]}},{angular:"angular"}],170:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/moment"),e=a("camunda-commons-ui/vendor/angular"),f=(new Date).getTime();b.exports=function(a,b,c){a.factory("localeLoader",["$q","$http","Notifications","configuration",function(a,b,c,d){return function(g){if(!g||!e.isString(g.prefix)||!e.isString(g.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var h=a.defer(),i=g.prefix+"_locales_data_"+g.key,j=d.get(i);return j&&(j=JSON.parse(j),"function"==typeof g.callback&&g.callback(null,j,g.key),h.resolve(j.labels)),b(e.extend({url:[g.prefix,g.key,g.suffix].join(""),method:"GET",params:{_:f}},g.$http)).success(function(a){d.set(i,JSON.stringify(a)),j||("function"==typeof g.callback&&g.callback(null,a,g.key),h.resolve(a.labels))}).error(function(a){c.addError({status:"Error in localization configuration",message:'"'+g.key+'" is declared as available locale, but no such locale file exists.'}),j||("function"==typeof g.callback&&g.callback(a,null,g.key),h.reject(g.key))}),h.promise}}]),a.config(["$translateProvider","configurationProvider",function(a,f){var g=f.getAvailableLocales(),h=f.getFallbackLocale();a.useLoader("localeLoader",{prefix:b+"/app/"+c+"/locales/",suffix:".json",callback:function(a,b,c){!a&&b&&b.dateLocales&&d.locale(c||h,b.dateLocales)}}),a.registerAvailableLanguageKeys(g),a.fallbackLanguage(h),a.determinePreferredLanguage(function(){var a=window.navigator,b=((e.isArray(a.languages)?a.languages[0]:a.language||a.browserLanguage||a.systemLanguage||a.userLanguage)||"").split("-"),c=g.indexOf(e.lowercase(b[0]));return c>-1?g[c]:h})}])}},{"camunda-commons-ui/vendor/angular":119,"camunda-commons-ui/vendor/moment":122}],171:[function(a,b,c){"use strict";function d(a,b){return a.indexOf(b)!==-1}b.exports=d},{}],172:[function(a,b,c){"use strict";function d(a,b,c){var d=a.pages=f.copy(g);return d.current=e(b),a.$watch("pages.current",function(a,d){var f=e(b);a!=d&&a!==f&&(b("page",a&&1!=a?a:null),c(a,d))}),a.$on("$locationChangeSuccess",function(){var a=e(b);if(+d.current!==+a){var f=d.current;d.current=a,c(d.current,f)}}),d}function e(a){return a().page||1}var f=a("camunda-commons-ui/vendor/angular"),g={size:50,total:0,current:1};b.exports={initializePaginationInController:d}},{"camunda-commons-ui/vendor/angular":119}],173:[function(a,b,c){"use strict";var d={};d.redirectToRuntime=function(a,b,c){var e=b+"/runtime";return d.redirectTo(e,c,!0)},d.replaceLastPathFragment=function(a,b,c,e){var f=b.replace(/[^\/]*$/,a);return d.redirectTo(f,c,e)},d.redirectTo=function(a,b,c){var d,e=[];if(b&&c){var f="[object Array]"===Object.prototype.toString.call(c);for(d in b)f&&c.indexOf(d)===-1||e.push(d+"="+encodeURIComponent(b[d]))}return a+(e.length?"?"+e.join("&"):"")},b.exports=d},{}],174:[function(a,b,c){"use strict";function d(a,b){b=[].concat(b);var c=JSON.stringify(q(a,b));return e("searchQuery="+c)}function e(a){return encodeURI(a).replace(/#/g,"%23")}function f(a,b,c){return c=C.isArray(c)?c:[],!C.equals(g(a,c),g(b,c))}function g(a,b){return C.isObject(a)?i(h(a,b)):a}function h(a,b){return Object.keys(a).reduce(function(c,d){var e=a[d];return E(b,d)&&(c[d]=e),c},{})}function i(a){return Object.keys(a).reduce(function(b,c){var d=a[c];return null!=d&&(b[c]=d),b},{})}function j(a,b){var c=JSON.parse(b.searchQuery||"[]");return k(a,c)}function k(a,b){return b.filter(function(b){return b.type===a}).map(function(a){return a.value})}function l(a,b,c){var d=m(a,c,b),e=n(c,a,b);return d.concat(q(b,e))}function m(a,b,c){return a.filter(function(a){return a.type!==c||!E(b,a.value)})}function n(a,b,c){var d=b.filter(function(a){return a.type===c}).map(function(a){return a.value});return a.filter(function(a){return!E(d,a)})}function o(a,b,c){return p(b,a).concat(q(b,c))}function p(a,b){return b.filter(function(b){return b.type!==a})}function q(a,b){return b.map(r.bind(null,a))}function r(a,b){return{type:a,operator:"eq",value:b}}function s(a,b,c){return a=C.isArray(a)?a:[],b=C.isArray(b)?b:[],c=C.isArray(c)?c:["variables"],b=b.concat(c),a.reduce(t.bind(null,b,c),{})}function t(a,b,c,d){var e=u(d,b),f=x(d,e,b);return E(b,e)&&(f=A(d,f)),E(a,e)?c[e]=B(c,e,f):c[e]=f,c}function u(a,b){var c=a.type.value.key,d=a.operator.value.key;return v(c)&&(c=c.slice(0,-4)),w(d)&&!E(b,c)&&(c+=d),c}function v(a){return a.indexOf("Date")!==-1}function w(a){return E(["After","Before","Like"],a)}function x(a){return!!a.basic||y(a.value.value,a.operator.value.key,a)}function y(a,b,c){var d=/(\\%)|(\\_)/g,e=/(\%)|(\_)/;return"like"!==b.toLowerCase()||e.test(a.replace(d,""))?c.allowDates&&F.test(a)?D(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a:"%"+a+"%"}function z(a){return isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a}function A(a,b){return{name:a.name.value,operator:a.operator.value.key,value:z(b)}}function B(a,b,c){return C.isArray(a[b])?a[b].concat([c]):[c]}var C=a("camunda-commons-ui/vendor/angular"),D=a("camunda-commons-ui/vendor/moment"),E=a("./includes");b.exports={getSearchQueryForSearchType:d,getActivityIdsFromUrlParams:j,replaceActivitiesInSearchQuery:o,createSearchQueryForSearchWidget:s,shouldUpdateFilter:f,createSearchesForActivityIds:q,encodeQuery:e,updateSearchValuesForTypeInCtrlMode:l};var F=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/},{"./includes":171,"camunda-commons-ui/vendor/angular":119,"camunda-commons-ui/vendor/moment":122}],175:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("camunda-commons-ui/vendor/camunda-bpm-sdk-angular"),f=d.module("cam.tasklist.client",[]);f.value("HttpClient",e.Client),f.value("CamForm",e.Form),f.factory("camAPI",["camAPIHttpClient","$window","Uri",function(a,b,c){var d={apiUri:"engine-rest/api/engine",HttpClient:a,engine:c.appUri(":engine")};if(b.tasklistConf)for(var f in b.tasklistConf)d[f]=b.tasklistConf[f];return new e.Client(d)}]),b.exports=f},{"camunda-commons-ui/vendor/angular":119,"camunda-commons-ui/vendor/camunda-bpm-sdk-angular":120}],176:[function(a,b,c){"use strict";function d(){e(document).ready(function(){h.bootstrap(document.documentElement,["cam.tasklist","cam.embedded.forms","cam.tasklist.custom"]),setTimeout(function(){var a=e("[autofocus]");a.length&&a[0].focus()},300)})}var e=window.jQuery=window.$=a("jquery"),f=a("camunda-commons-ui/lib"),g=a("camunda-commons-ui/vendor/camunda-bpm-sdk-angular");a("angular-data-depend");var h=a("camunda-commons-ui/vendor/angular"),i=a("angular-data-depend"),j=a("../../../common/scripts/module"),k=a("camunda-commons-ui/vendor/lodash");b.exports=function(b){function c(){for(var a=e("base"),b={},c=["href","app-root","admin-api","tasklist-api","engine-api"],d=0;d<c.length;d++)b[c[d]]=a.attr(c[d]);return b}var g=[f.name,"pascalprecht.translate","ngRoute","dataDepend",a("./tasklist/index").name,a("./task/index").name,a("./process/index").name,a("./navigation/index").name,a("./form/index").name,a("./filter/index").name,a("./api/index").name,a("./shortcuts/plugins/index").name].concat(b.map(function(a){return a.ngModuleName})),i=c(),j=h.module("cam.tasklist",g);j.factory("assignNotification",a("./services/cam-tasklist-assign-notification")),j.provider("configuration",a("./../../../common/scripts/services/cam-configuration")(window.camTasklistConf,"Tasklist")),a("./../../../common/scripts/services/locales")(j,i["app-root"],"tasklist"),a("./config/uris")(j,i),j.config(a("./config/routes")),j.config(a("./config/date")),j.config(a("./config/tooltip")),j.controller("camTasklistAppCtrl",a("./controller/cam-tasklist-app-ctrl")),j.controller("camTasklistViewCtrl",a("./controller/cam-tasklist-view-ctrl")),d()},b.exports.exposePackages=function(a){a.angular=h,a.jquery=e,a["camunda-commons-ui"]=f,a["camunda-bpm-sdk-js"]=g,a["angular-data-depend"]=i,a["cam-common"]=j,a.lodash=k}},{"../../../common/scripts/module":156,"./../../../common/scripts/services/cam-configuration":169,"./../../../common/scripts/services/locales":170,"./api/index":175,"./config/date":177,"./config/routes":178,"./config/tooltip":179,"./config/uris":180,"./controller/cam-tasklist-app-ctrl":181,"./controller/cam-tasklist-view-ctrl":182,"./filter/index":191,"./form/index":199,"./navigation/index":202,"./process/index":203,"./services/cam-tasklist-assign-notification":206,"./shortcuts/plugins/index":208,"./task/index":213,"./tasklist/index":223,"angular-data-depend":"angular-data-depend","camunda-commons-ui/lib":73,"camunda-commons-ui/vendor/angular":119,"camunda-commons-ui/vendor/camunda-bpm-sdk-angular":120,"camunda-commons-ui/vendor/lodash":121,jquery:"jquery"}],177:[function(a,b,c){"use strict";b.exports=["camDateFormatProvider","configurationProvider",function(a,b){for(var c=["monthName","day","abbr","normal","long","short"],d=0;d<c.length;d++)a.setDateFormat(b.getDateFormat(c[d]),c[d])}]},{}],178:[function(a,b,c){"use strict";var d='<div class="three-cols-layout-columns"\n     ng-controller="camLayoutCtrl">\n\n  <!-- # filters column -->\n  <section class="column column-left task-filters"\n           ng-controller="camFiltersCtrl">\n    <header class="three-cols-layout-cell top">\n      <button class="btn btn-link"\n              ng-show="userCanCreateFilter"\n              ng-click="openModal($event)">\n        {{ \'FILTER_CREATE\' | translate }}\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </button>\n\n      <button ng-click="toggleRegion($event)"\n              data-region="filters"\n              class="region-toggle btn btn-link">\n        <span class="glyphicon"></span>\n      </button>\n    </header>\n\n    <div class="three-cols-layout-cell content">\n      <div cam-tasklist-filters\n           filters-data="filtersData"\n           open-modal="openModal"\n           user-can-create-filter="userCanCreateFilter"></div>\n    </div>\n  </section>\n  <!-- / filters column -->\n\n\n\n\n\n  <!-- # list column -->\n  <section class="column column-center tasks-list"\n           ng-controller="camListCtrl">\n    <header class="three-cols-layout-cell top">\n      <view ng-repeat="tasklistHeaderPlugin in tasklistHeaderPlugins"\n            provider="tasklistHeaderPlugin"\n            vars="tasklistVars"></view>\n\n      <button ng-click="toggleRegion($event)"\n              data-region="list"\n              class="region-toggle btn btn-link">\n        <span class="glyphicon"></span>\n      </button>\n    </header>\n\n    <div class="three-cols-layout-cell content">\n      <view ng-repeat="tasklistPlugin in tasklistPlugins"\n            provider="tasklistPlugin"\n            vars="tasklistVars"></view>\n\n      <div cam-tasks\n           tasklist-data="tasklistData"></div>\n    </div>\n  </section>\n  <!-- / list column -->\n\n\n\n\n\n  <!-- # task column -->\n  <section class="column column-right task-details"\n           ng-controller="camTaskActionCtrl">\n    <header class="three-cols-layout-cell top">\n      <button ng-click="toggleRegion($event)"\n              data-region="task"\n              class="region-toggle btn btn-link">\n        <span class="glyphicon"></span>\n      </button>\n\n      <button ng-click="maximizeRegion($event)"\n              data-region="task"\n              class="btn btn-link maximize">\n        <span class="glyphicon glyphicon-resize-full"></span>\n      </button>\n\n      <button ng-click="resetRegions($event)"\n              class="btn btn-link reset-regions">\n        <span class="glyphicon glyphicon-resize-small"></span>\n      </button>\n\n      <div class="task-actions"\n           ng-show="task"\n           ng-repeat="taskAction in taskActions">\n        <view provider="taskAction" vars="taskVars">\n      </div>\n    </header>\n\n    <div class="three-cols-layout-cell content">\n      <div cam-tasklist-task\n           tasklist-data="tasklistData"></div>\n    </div>\n  </section>\n  <!-- # task column -->\n\n</div>\n';
b.exports=["$routeProvider",function(a){a.when("/",{template:d,controller:"camTasklistViewCtrl",authentication:"required",reloadOnSearch:!1}).otherwise({redirectTo:"/"})}]},{}],179:[function(a,b,c){"use strict";b.exports=["$tooltipProvider",function(a){a.options({appendToBody:!0,popupDelay:500})}]},{}],180:[function(a,b,c){"use strict";b.exports=function(a,b){a.config(["UriProvider",function(a){a.replace(":appName","tasklist"),a.replace("app://",b.href),a.replace("adminbase://",b["app-root"]+"/app/admin/"),a.replace("tasklistbase://",b["app-root"]+"/app/tasklist/"),a.replace("cockpitbase://",b["app-root"]+"/app/cockpit/"),a.replace("admin://",b["admin-api"]),a.replace("plugin://",b["tasklist-api"]+"plugin/"),a.replace("engine://",b["engine-api"]),a.replace(":engine",["$window",function(a){var b=a.location.href,c=b.match(/\/app\/tasklist\/([\w-]+)(|\/)/);if(c)return c[1];throw new Error("no process engine selected")}])}])}},{}],181:[function(a,b,c){"use strict";var d=function(){function a(){this.refreshProvider=null}return a}();b.exports=["camAPI","configuration","$window","$interval","$scope",function(a,b,c,e,f){function g(b){if(!b||!b.name)return void(f.userFullName=null);var c=a.resource("user");c.profile(b.name,function(a,b){if(a)throw f.userFullName=null,a;f.userFullName=b.firstName+" "+b.lastName})}f.tasklistApp=new d,f.appVendor=b.getAppVendor(),f.appName=b.getAppName();var h=document.querySelector("head > title");h.textContent=f.appVendor+" "+f.appName,f.$on("authentication.changed",function(a,b){g(b)}),g(f.authentication);var i=e(function(){f.$root.$broadcast("refresh")},1e4);f.$on("$destroy",function(){e.cancel(i)})}]},{}],182:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$scope","$q","$location","$interval","search","dataDepend","camAPI",function(a,b,c,e,f,g,h){function i(a){var b=c.search()||{};return b[a]||null}function j(a){f.updateSilently(a)}var k,l=a.tasklistData=g.create(a),m=i("task"),n=i("detailsTab"),o=h.resource("filter"),p=h.resource("task");l.provide("filters",[function(){var a=b.defer();return o.list({itemCount:!1,resoureType:"Task"},function(b,c){b?a.reject(b):a.resolve(c)}),a.promise}]),l.provide("currentFilter",["filters",function(a){for(var b,c,e=i("filter"),f=0;c=a[f];f++){if(e===c.id){b=c;break}(!b||c.properties.priority<b.properties.priority)&&(b=c)}if(k&&b&&k.id!==b.id){var g=i("page");g&&j({page:"1"})}return b&&b.id!==e&&j({filter:b.id}),d.copy(b)}]),l.provide("searchQuery",{processVariables:[],taskVariables:[],caseInstanceVariables:[]}),l.provide("taskListQuery",["currentFilter","searchQuery",function(a,b){if(!a)return null;var c=d.copy(b),e=15*((i("page")||1)-1),f=i("sorting");try{f=JSON.parse(f)}catch(g){f=[{}]}return f=Array.isArray(f)&&f.length?f:[{}],f[0].sortOrder=f[0].sortOrder||"desc",f[0].sortBy=f[0].sortBy||"created",c.id=a.id,c.firstResult=e,c.maxResults=15,c.sorting=f,c.active=!0,c}]),l.provide("taskList",["taskListQuery",function(a){var c=b.defer();return a&&null!==a.id?o.getTasks(d.copy(a),function(a,b){a?c.reject(a):c.resolve(b)}):c.resolve({count:0,_embedded:{}}),c.promise}]),l.provide("taskId",{taskId:m}),l.provide("task",["taskId",function(a){var c=b.defer(),d=a.taskId;return"string"!=typeof d?c.resolve(null):p.get(d,function(a,b){a?c.reject(a):c.resolve(b)}),c.promise}]),l.observe("currentFilter",function(a){k=a}),a.$on("refresh",function(){k&&k.properties.refresh&&l.changed("taskList")}),a.$on("$routeChanged",function(){var a=m,b=n;m=i("task"),n=i("detailsTab"),a===m&&b!==n||l.set("taskId",{taskId:m}),k=null,l.changed("currentFilter")})}]},{"camunda-commons-ui/vendor/angular":119}],183:[function(a,b,c){"use strict";var d=a("jquery"),e='<div class="modal-header">\n  <h3 class="modal-title">\n    {{ (\n      filter.id && !deletion ?\n      (accesses.update ? \'FILTER_EDIT\' : \'FILTER_DETAILS\') :\n      (deletion ? \'FILTER_DELETE\' : \'FILTER_CREATE\')\n    ) | translate }}\n  </h3>\n</div>\n\n\n\n<div class="modal-body">\n\n  <div notifications-panel></div>\n\n  <div ng-show="!deletion"\n       cam-tasklist-filter-modal-form\n       filter="filter"\n       filter-modal-data="filterModalData"\n       register-is-valid-provider="registerValidationProvider"\n       register-post-filter-saved-provider="registerPostFilterSavedProvider">\n  </div>\n\n  <div ng-show="deletion"\n       class="alert alert-warning"\n       role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    {{ \'FILTER_DELETION_WARNING\' | translate }}\n  </div>\n\n</div>\n\n\n<div class="modal-footer">\n\n  <div class="row row-action">\n\n    <div class="col-xs-4 align-left">\n\n      <button ng-show="!deletion && filter.id && accesses.delete"\n              class="btn btn-link"\n              type="button"\n              ng-click="confirmDeletion()"\n              translate="FILTER_DELETE">Delete filter</button>\n\n\n      <button ng-show="deletion"\n              class="btn btn-link"\n              type="button"\n              ng-click="abortDeletion()"\n              translate="FILTER_EDIT">Edit filter</button>\n    </div>\n\n    <div class="col-xs-8">\n      <div class="row">\n        <div class="col-xs-12">\n\n          <button class="btn btn-link"\n                  type="button"\n                  ng-click="$dismiss()"\n                  translate="CLOSE">Close</button>\n\n          <button ng-if="!deletion && (!filter.id || (filter.id && accesses.update))"\n                  class="btn btn-primary"\n                  type="submit"\n                  ng-disabled="!isValid()"\n                  ng-click="submit()"\n                  translate="SAVE">Save</button>\n\n\n          <button ng-if="deletion"\n                  class="btn btn-primary"\n                  type="submit"\n                  ng-click="delete()"\n                  translate="DELETE">Delete</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';b.exports=["$scope","$modal","$q","camAPI","$timeout",function(a,b,c,f,g){var h=a.filtersData=a.tasklistData.newChild(a),i=f.resource("filter");a.userCanCreateFilter=!1,h.provide("filterAuthorizations",function(){var a=c.defer();return i.authorizations(function(b,c){b?a.reject(b):a.resolve(c)}),a.promise}),h.provide("userCanCreateFilter",["filterAuthorizations",function(a){a=a||{};for(var b,c=a.links||[],d=0;b=c[d];d++)if("create"===b.rel)return!0;return!1}]),h.observe("userCanCreateFilter",function(b){a.userCanCreateFilter=b});var j=[];h.observe("filters",function(a){j.forEach(function(b){b(a)}),j=[]});var k=function(a){a?j.push(function(){g(function(){var a=d(".task-filters .content div.item.active .actions a")[0];a&&a.focus()})}):document.querySelector(".task-filters header button.btn-link").focus()};a.$on("shortcut:focusFilter",function(){d(".task-filters .content h4 a")[0].focus()}),a.openModal=function(a,c){a.stopPropagation(),b.open({windowClass:"filter-modal",size:"lg",controller:"camFilterModalCtrl",template:e,resolve:{filter:function(){return c},filtersData:function(){return h}}}).result.then(function(){h.changed("filters"),k(c)},function(){h.changed("filters"),k(c)})}}]},{jquery:"jquery"}],184:[function(a,b,c){"use strict";function d(a,b,c){return function(d){if(c&&j.test(d))return{valid:!0};if(a.test(d)){if("date"===b){var e=!isNaN(new Date(d).getTime());if(!e)return{valid:!1,error:"dateValue"}}return{valid:!0}}return{valid:!1,error:b||"format"}}}var e="E.g.: `${ now() }`, `${ dateTime() }` or `${ dateTime().plusWeeks(2) }`",f="E.g.: `${ currentUser() }`",g="List of values separated by comma or an expression which evaluates to a list. E.g.: `camunda-admin, accounting` or `${ currentUserGroups() }`",h="List of values seperated by comma. E.g.: `keyC, keyA, keyB`",i=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,j=/^[\s]*(\#|\$)\{/,k=/^-?[\d]+$/,l=[{group:"Process Instance",options:[{name:"processInstanceId",label:"ID"},{name:"processInstanceBusinessKey",label:"Business Key",expressionSupport:!0,help:f},{name:"processInstanceBusinessKeyLike",label:"Business Key Like",expressionSupport:!0,help:f}]},{group:"Process definition",options:[{name:"processDefinitionId",label:"ID"},{name:"processDefinitionKey",label:"Key"},{name:"processDefinitionKeyIn",label:"Key In",help:h},{name:"processDefinitionName",label:"Name"},{name:"processDefinitionNameLike",label:"Name Like"}]},{group:"Case Instance",options:[{name:"caseInstanceId",label:"ID"},{name:"caseInstanceBusinessKey",label:"Business Key"},{name:"caseInstanceBusinessKeyLike",label:"Business Key Like"}]},{group:"Case definition",options:[{name:"caseDefinitionId",label:"ID"},{name:"caseDefinitionKey",label:"Key"},{name:"caseDefinitionName",label:"Name"},{name:"caseDefinitionNameLike",label:"Name Like"}]},{group:"Other",options:[{name:"active",label:"Active",bool:!0},{name:"activityInstanceIdIn",label:"Activity Instance ID In",help:h},{name:"executionId",label:"Execution ID"}]},{group:"User / Group",options:[{name:"assignee",label:"Assignee",expressionSupport:!0,help:f},{name:"assigneeLike",label:"Assignee Like",expressionSupport:!0,help:f},{name:"owner",label:"Owner",expressionSupport:!0,help:f},{name:"candidateGroup",label:"Candidate Group",expressionSupport:!0,includeAssignedTasksSupport:!0},{name:"candidateGroups",label:"Candidate Groups",expressionSupport:!0,help:g,includeAssignedTasksSupport:!0},{name:"candidateUser",label:"Candidate User",expressionSupport:!0,help:f,includeAssignedTasksSupport:!0},{name:"involvedUser",label:"Involved User",expressionSupport:!0,help:f},{name:"unassigned",label:"Unassigned",bool:!0},{name:"delegationState",label:"Delegation State"}]},{group:"Task",options:[{name:"taskDefinitionKey",label:"Definition Key"},{name:"taskDefinitionKeyIn",label:"Definition Key In",help:h},{name:"taskDefinitionKeyLike",label:"Definition Key Like"},{name:"name",label:"Name"},{name:"nameLike",label:"Name Like"},{name:"description",label:"Description"},{name:"descriptionLike",label:"Description Like"},{name:"priority",label:"Priority",validate:d(k,"number")},{name:"maxPriority",label:"Priority Max",validate:d(k,"number")},{name:"minPriority",label:"Priority Min",validate:d(k,"number")},{name:"tenantIdIn",label:"Tenant ID In",help:h},{name:"withoutTenantId",label:"Without Tenant ID",bool:!0}]},{group:"Dates",validate:d(i,"date",!0),options:[{name:"createdBefore",label:"Created Before",expressionSupport:!0,help:e},{name:"createdAfter",label:"Created After",expressionSupport:!0,help:e},{name:"dueBefore",label:"Due Before",expressionSupport:!0,help:e},{name:"dueAfter",label:"Due After",expressionSupport:!0,help:e},{name:"followUpAfter",label:"Follow Up After",expressionSupport:!0,help:e},{name:"followUpBefore",label:"Follow Up Before",expressionSupport:!0,help:e},{name:"followUpBeforeOrNotExistent",label:"Follow Up Before or Not Existent",expressionSupport:!0,help:e}]}];b.exports=l.map(function(a){return a.name=a.group.toLowerCase().replace(/[^a-z0-9-]+/g,"-"),a})},{}],185:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" name="filterCriteriaForm" role="form">\n\n  <div class="row labels-left">\n    <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n      <a ng-click="addCriterion()"\n         href>\n        <span class="hidden-sm hidden-xs">{{ \'FILTER_ADD_CRITERION\' | translate }}</span>\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n    </div>\n\n    <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n      <div class="form-group" ng-show="query.length">\n        <label class="col-xs-6 control-label"\n               translate="FILTER_CRITERIA_KEY">Key</label>\n        <label class="col-xs-6 control-label"\n               translate="FILTER_CRITERIA_VALUE">Value</label>\n      </div>\n    </div>\n  </div>\n\n  <div ng-repeat="(delta, queryParam) in query" class="row" ng-if="isQueryParameter(queryParam)">\n\n    <div ng-form name="criteriaFieldForm">\n      <div ng-init="addForm(this.criteriaFieldForm)"></div>\n\n      <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n        <a ng-click="removeCriterion(delta)"\n           href>\n          <span class="hidden-sm hidden-xs">{{ \'FILTER_REMOVE_CRITERION\' | translate }}</span>\n          <span class="glyphicon glyphicon-remove-sign"></span>\n        </a>\n      </div>\n\n      <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n        <div class="form-group">\n\n          <div class="col-xs-6">\n\n            <select class="form-control"\n                    ng-model="queryParam.key"\n                    name="queryParamKey"\n                    ng-change="valueChanged(queryParam, this.criteriaFieldForm.queryParamValue)"\n                    cam-unique-value="{{ getQueryParamKeys() }}"\n                    required\n                    ng-disabled="filter.id && !accesses.update">\n              <optgroup ng-repeat="criteriaGroup in criteria"\n                        label="{{ criteriaGroup.group | translate }}">\n\n                <option ng-repeat="criterion in criteriaGroup.options"\n                        ng-selected="criterion.name === getCriterionName(queryParam.key)"\n                        ng-value="criterion.name">\n\n                  {{ criterion.label | translate }}\n                  {{ (criterion.expressionSupport ? \'*\' : \'\') }}\n\n                </option>\n              </optgroup>\n\n            </select>\n            <div ng-if="this.criteriaFieldForm.queryParamKey.$invalid && this.criteriaFieldForm.queryParamKey.$dirty"\n                    class="has-error">\n                <span ng-show="this.criteriaFieldForm.queryParamKey.$error.required" class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamKey.$error.camUniqueValue" class="help-block">\n                  {{ \'REQUIRE_UNIQUE_KEY\' | translate }}\n                </span>\n            </div>\n          </div>\n\n          <div class="col-xs-6">\n\n            <div ng-if="!booleanCriterion[getCriterionName(queryParam.key)]">\n              <input class="form-control"\n                     name="queryParamValue"\n                     type="text"\n                     ng-model="queryParam.value"\n                     ng-change="valueChanged(queryParam, this.criteriaFieldForm.queryParamValue)"\n                     required\n                     ng-readonly="filter.id && !accesses.update"\n                     ng-disabled="filter.id && !accesses.update" />\n              <span class="help-block text-help"\n                    ng-show="isCriteriaHelpAvailable(queryParam.key)">\n                {{ getCriteriaHelp(queryParam.key) | translate }}\n              </span>\n\n              <div ng-if="this.criteriaFieldForm.queryParamValue.$invalid && this.criteriaFieldForm.queryParamValue.$dirty"\n                   class="has-error">\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.required"\n                      class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.number"\n                      class="help-block">\n                  {{ \'REQUIRED_INTEGER_FIELD\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.date"\n                      class="help-block">\n                  {{ \'INVALID_DATE\' | translate }}\n                </span>\n                <span ng-show="this.criteriaFieldForm.queryParamValue.$error.dateValue"\n                      class="help-block">\n                  {{ \'INVALID_DATE_VALUE\' | translate }}\n                </span>\n              </div>\n            </div>\n\n            <div ng-if="booleanCriterion[getCriterionName(queryParam.key)]"\n                 class="form-control-static">\n              <span class="glyphicon glyphicon-ok"></span>\n              <input type="hidden"\n                     name="queryParamValue"\n                     ng-model="queryParam.value" />\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n\n  </div>\n\n  <div ng-if="canIncludeAssignedTasks()"\n       class="row">\n    <div class="col-xs-10 col-xs-offset-2 checkbox">\n      <label>\n        <input type="checkbox"\n               class="form-control"\n               ng-model="filter.includeAssignedTasks" />\n        {{ \'FILTER_CRITERIA_INCLUDE_ASSIGNED_TASKS\' | translate }}\n      </label>\n      <div class="help-block"\n           translate="FILTER_CRITERIA_INCLUDE_ASSIGNED_TASKS_HINT"></div>\n    </div>\n  </div>\n\n  <div ng-if="query.length > 0"\n       class="row match-type">\n    <div class="col-xs-10 col-xs-offset-2">\n      <button ng-click="switchMatchType()"\n              class="btn btn-default btn-xs"\n              ng-disabled="query.length < 2"\n              type="button">\n        {{ (filter.matchType === \'all\' ? \'MATCH_TYPE_ALL\' : \'MATCH_TYPE_ANY\') | translate }}\n      </button>\n      <span ng-disabled="query.length < 2">{{ \'MATCH_TYPE\' | translate }}</span>\n    </div>\n  </div>\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("./cam-tasklist-filter-modal-criteria"),g=e.forEach,h=e.copy,i={},j={},k={},l={},m={},n=function(){return{valid:!0}};g(f,function(a){g(a.options,function(b){i[b.name]=b.includeAssignedTasksSupport,i[b.name]&&(i[b.name+"Expression"]=!0),b.bool&&(j[b.name]=!0),k[b.name]=b.expressionSupport,l[b.name]=b.help||a.help,m[b.name]=b.validate||a.validate||n})}),b.exports=[function(){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"="},template:d,link:function(a,b,c,d){a.switchMatchType=function(){"any"===a.filter.matchType?a.filter.matchType="all":a.filter.matchType="any"};var e={key:"",value:""};a.criteria=f,a.criteriaExpressionSupport=k,a.criteriaHelp=l,a.booleanCriterion=j,a.query=a.filter.query=a.filter.query||[],a.query=a.filter.query=a.query.filter(function(b){return"includeAssignedTasks"===b.key&&(a.includeAssignedTasks=a.filter.includeAssignedTasks=b.value),"includeAssignedTasks"!==b.key}),a.isQueryParameter=function(a){return"sorting"!==a.key},a.canIncludeAssignedTasks=function(){for(var b=0;b<a.query.length;b++)if(i[a.query[b].key])return!0;return!1},a.$watch("query",function(){a.includeAssignedTasks=a.filter.includeAssignedTasks=a.canIncludeAssignedTasks()&&a.filter.includeAssignedTasks},!0);var g=function(){for(var a,b=0;a=n[b];b++){var c=a.queryParamKey,d=a.queryParamValue;if(c.$dirty&&c.$invalid)return!0;if(d.$dirty&&d.$invalid)return!0}return!1};d.registerHintProvider("filterCriteriaForm",g);var n=[];a.addForm=function(a){n.push(a)},a.addCriterion=function(){var b=h(e);a.query.push(b)},a.removeCriterion=function(b){a.filter.query=a.query=d.removeArrayItem(a.query,b),n=d.removeArrayItem(n,b)},a.valueChanged=function(a,b){if(b.$setValidity("number",!0),b.$setValidity("date",!0),b.$setValidity("dateValue",!0),j[a.key])a.value=!0;else if(a.value){b.$pristine&&b.$setViewValue(a.value);var c=o(a.key),d=m[c](a.value);d.valid||b.$setValidity(d.error,!1)}},a.getQueryParamKeys=function(){for(var b,c=[],d=0;b=a.query[d];d++){var e=o(b.key);c.push(e),k[e]&&c.push(e+"Expression")}return c};var o=a.getCriterionName=function(a){if(!a)return a;var b=a.replace("Expression","");return b},p=a.getCriteriaHelp=function(a){return a=o(a),l[a]};a.isCriteriaHelpAvailable=function(a){return!!p(a)}}}}]},{"./cam-tasklist-filter-modal-criteria":184,"camunda-commons-ui/vendor/angular":119}],186:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" role="form" name="filterGeneralForm">\n\n  <div class="row">\n    <div class="col-xs-8">\n      <div class="form-group">\n\n        <label for="filterName"\n               class="col-xs-3 control-label"\n               translate="FILTER_NAME_LABEL">Name</label>\n\n        <div class="col-xs-9">\n          <input class="form-control"\n                 name="filterName"\n                 ng-model="filter.name"\n                 type="text"\n                 required\n                 placeholder="{{ \'FILTER_NAME_PLACEHOLDER\' | translate }}"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n\n          <span ng-if="this.filterGeneralForm.filterName.$invalid && this.filterGeneralForm.filterName.$dirty"\n                class="has-error">\n            <span ng-show="this.filterGeneralForm.filterName.$error.required" class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n          </span>\n\n        </div>\n\n      </div>\n    </div>\n\n    <div class="col-xs-4">\n\n      <div class="form-group">\n\n        <label for="filter-form-color"\n               class="col-xs-6 control-label"\n               translate="FILTER_COLOR_LABEL">Color</label>\n\n        <div class="col-xs-6">\n\n          <input class="form-control"\n                 name="filterColor"\n                 ng-model="filter.properties.color"\n                 ng-pattern="/^#([0-9a-f]{6}|[0-9a-f]{3})$/i"\n                 type="color"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n\n          <span ng-if="this.filterGeneralForm.filterColor.$invalid && this.filterGeneralForm.filterColor.$dirty"\n                class="has-error">\n            <span ng-show="this.filterGeneralForm.filterColor.$error.pattern" class="help-block">\n              {{ \'REQUIRED_HEX_COLOR_FIELD\' | translate }}\n            </span>\n          </span>\n\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-8">\n      <div class="form-group">\n\n        <label for="filter-form-description"\n               class="col-xs-3 control-label"\n               translate="FILTER_DESCRIPTION_LABEL">Description</label>\n\n        <div class="col-xs-9">\n          <input class="col-xs-9 form-control"\n                 name="filterDescription"\n                 ng-model="filter.properties.description"\n                 type="text"\n                 placeholder="{{ \'FILTER_DESCRIPTION_PLACEHOLDER\' | translate }}"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n        </div>\n\n      </div>\n    </div>\n\n    <div class="col-xs-4">\n      <div class="form-group">\n\n        <label for="filter-form-priority"\n               class="col-xs-6 control-label"\n               translate="FILTER_PRIORITY_LABEL">Priority</label>\n\n        <div class="col-xs-6">\n          <input class="form-control"\n                 name="filterPriority"\n                 ng-model="filter.properties.priority"\n                 ng-pattern="/^-?[\\d]+$/"\n                 type="text"\n                 ng-readonly="filter.id && !accesses.update"\n                 ng-disabled="filter.id && !accesses.update" />\n\n\n          <span ng-if="this.filterGeneralForm.filterPriority.$invalid && this.filterGeneralForm.filterPriority.$dirty"\n                class="has-error">\n            <span ng-show="this.filterGeneralForm.filterPriority.$error.pattern" class="help-block">\n              {{ \'REQUIRED_INTEGER_FIELD\' | translate }}\n            </span>\n          </span>\n\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-offset-2 col-md-offset-10 col-xs-4 col-md-2 checkbox">\n      <label>\n        <input class="form-control"\n               name="filterRefresh"\n               ng-model="filter.properties.refresh"\n               type="checkbox"\n               tooltip-append-to-body="false"\n               tooltip="{{ \'FILTER_REFRESH_TOOLTIP\' | translate }}"\n               ng-disabled="filter.id && !accesses.update" />\n        {{ \'FILTER_REFRESH_LABEL\' | translate }}\n      </label>\n    </div>\n  </div>\n\n</div>\n';b.exports=[function(){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"="},template:d,link:function(a,b,c,d){var e=a.filterGeneralForm,f=[];f.push(e.filterColor),f.push(e.filterName),f.push(e.filterPriority),f.push(e.filterDescription),f.push(e.filterRefresh);var g=function(){for(var a,b=0;a=f[b];b++)if(a.$dirty&&a.$invalid)return!0;return!1};d.registerHintProvider("filterGeneralForm",g)}}}]},{}],187:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" name="filterPermissionForm" role="form">\n\n  <div ng-show="!authorizationState.$loaded && !authorizationState.$error"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    {{ \'LOADING\' | translate }}\n  </div>\n\n  <div ng-show="authorizationState.$error" class="alert alert-danger" role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <strong class="status">{{ \'FAILURE\' | translate }}:</strong>\n    <span class="message">{{ \'FILTER_FORM_PERMISSIONS_LOADING_FAILURE\' | translate }}</span>\n  </div>\n\n  <div ng-show="authorizationState.$loaded && !authorizationState.$error">\n\n    <div class="alert alert-warning">\n      <span class="glyphicon glyphicon-exclamation-sign"></span>\n      <span>{{ \'FILTER_FORM_PERMISSIONS_EDIT_HINT\' | translate }}</span>\n    </div>\n\n    <div class="global-access checkbox form-control-static"\n         ng-show="!filter.id || (filter.id && accesses.update)">\n      <label>\n        <input type="checkbox"\n               class="form-control"\n               ng-model="isGlobalReadAuthorization"\n               ng-change="globalReadAuthorizationChanged()"\n               ng-disabled="filter.id && !accesses.update" />\n         {{ \'FILTER_FORM_PERMISSIONS_GLOBAL\' | translate }}\n      </label>\n    </div>\n\n    <div class="user-read-permissions"\n         ng-show="(!filter.id || (filter.id && accesses.update)) && !isGlobalReadAuthorization">\n      <div class="form-group labels-left">\n\n        <div class="col-xs-2 align-right">\n          <button class="btn btn-link"\n                  ng-click="addReadPermission()"\n                  type="button"\n                  ng-disabled="disableAddButton()">\n            <span class="hidden-sm hidden-xs">{{ \'ADD_PERMISSION\' | translate }}</span>\n            <span class="glyphicon glyphicon-plus-sign"></span>\n          </button>\n        </div>\n\n        <label class="col-xs-2 control-label">\n          {{ \'FILTER_FORM_PERMISSION_GROUP_USER\' | translate }}\n        </label>\n        <label class="col-xs-8 control-label">\n          {{ \'FILTER_FORM_PERMISSION_IDENTIFIER\' | translate }}\n        </label>\n      </div>\n\n\n\n\n\n\n\n      <div class="form-group"\n           ng-repeat="auth in getReadAuthorizations(authorizations)">\n        <div class="col-xs-2 row-action"\n             ng-show="!filter.id || (filter.id && accesses.update)">\n          <button class="btn btn-link btn-remove"\n                  ng-if="!isGlobalReadAuthorization"\n                  ng-click="removeReadPermission(auth)">\n            <span class="hidden-sm hidden-xs">\n              {{ \'FILTER_FORM_PERMISSIONS_REMOVE\' | translate }}\n            </span>\n            <span class="glyphicon glyphicon-remove-sign"></span>\n          </button>\n        </div>\n\n        <div class="col-xs-2">\n          <span class="fake-button">\n            <span class="glyphicon"\n                  ng-class="\'glyphicon-\' + (!!auth.userId ? \'user\' : \'th\')"></span>\n          </span>\n        </div>\n\n        <div class="form-control-static"\n             ng-class="{ \'col-xs-8\': !filter.id || (filter.id && accesses.update) , \'col-xs-10\': !(!filter.id || (filter.id && accesses.update)) }">\n\n          {{ (auth.userId || auth.groupId) }}\n        </div>\n      </div><!-- repeat auth -->\n\n      <div class="form-group new-permission"\n           ng-if="showNewPermissionFields">\n        <div class="col-xs-2 col-xs-offset-2">\n          <button class="btn btn-default"\n                  type="button"\n                  tooltip-append-to-body="false"\n                  tooltip="{{ \'FILTER_FORM_PERMISSIONS_IDENTITY_TYPE_TOOLTIP\' | translate }}: {{ (newPermission.type === \'user\' ? \'FILTER_FORM_PERMISSIONS_IDENTITY_TYPE_USER\' : \'FILTER_FORM_PERMISSIONS_IDENTITY_TYPE_GROUP\') | translate }}"\n                  ng-click="switchType()"\n                  ng-disabled="isGlobalReadAuthorization">\n            <span class="glyphicon"\n                  ng-class="newPermission.type === \'user\' ? \'glyphicon-user\' : \'glyphicon-th\'"></span>\n          </button>\n        </div>\n\n        <div class="col-xs-8">\n          <input type="text"\n                 name="newPermission"\n                 placeholder="{{ (newPermission.type === \'user\' ? \'FILTER_FORM_PERMISSIONS_USER_ID\' : \'FILTER_FORM_PERMISSIONS_GROUP_ID\') | translate }}"\n                 class="form-control"\n                 ng-model="newPermission.id"\n                 ng-change="validateNewPermission()"\n                 ng-keydown="keyPressed($event)"\n                 ng-readonly="isGlobalReadAuthorization"\n                 ng-disabled="filter.id && !accesses.update" />\n\n          <div ng-if="this.filterPermissionForm.newPermission.$invalid && this.filterPermissionForm.newPermission.$dirty"\n               class="has-error">\n            <span ng-show="this.filterPermissionForm.newPermission.$error.required"\n                  class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n            <span ng-show="this.filterPermissionForm.newPermission.$error.duplicate && newPermission.type === \'user\'"\n                  class="help-block">\n              {{ \'FILTER_FORM_PERMISSIONS_DUPLICATE_USER\' | translate }}\n            </span>\n            <span ng-show="this.filterPermissionForm.newPermission.$error.duplicate && newPermission.type === \'group\'"\n                  class="help-block">\n              {{ \'FILTER_FORM_PERMISSIONS_DUPLICATE_GROUP\' | translate }}\n            </span>\n          </div>\n        </div>\n      </div><!-- new perm -->\n    </div>\n\n  </div>\n\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=e.copy,g=5;b.exports=["camAPI","$q","$timeout",function(a,b,c){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"=",filterModalFormData:"=",isOpen:"="},template:d,link:function(d,h,i,j){function k(a,c){function d(a,b){var d=b.$permissions;delete b.$permissions,delete b.$$hashKey,b.resourceId=b.resourceId||c.id;var h=function(c,h){g-=1,c?(L.push({status:"FILTER_FORM_PERMISSIONS_SAVE_ERROR",error:c}),b.$permissions=d):"create"===a?(b.id=h.id,b.permissions=f(h.permissions||[]),b.$permissions=f(h.permissions||[])):("delete"===a&&(b.id=null),b.permissions=f(b.permissions||[]),b.$permissions=f(b.permissions||[])),0===g&&e.resolve()};"create"===a?y.create(b,h):"update"===a?y.update(b,h):"delete"===a&&y["delete"](b.id,h)}var e=b.defer();a=a||[];var g=a.length;0===g&&e.resolve();for(var h,i=0;h=a[i];i++){var j=h.type,k=h.authorization;d(j,k)}return e.promise}function l(a){for(var b,c=0;b=a[c];c++)b.$permissions=f(b.permissions||[])}function m(){return A.newPermission}function n(a){return a&&0===a.type}function o(a){return a&&1===a.type}function p(a){a=a||{};var b=a.userId||a.groupId;return"*"===b}function q(a,b){return!!a[b]}function r(a){if(a&&a.permissions)for(var b,c=a.permissions,d=0;b=c[d];d++)if("READ"===b||"ALL"===b)return!0;return!1}function s(a){for(var b,c=0;b=a[c];c++)if(n(b))return b}function t(a){for(var b,c=[],d=0;b=a[d];d++)o(b)&&!p(b)&&r(b)&&c.push(b);return c;
}function u(a,b){for(var c,d=v(a,b),e={},f=0;c=d[f];f++){var g=c[b];e[g]=c}return e}function v(a,b){for(var c,d=[],e=0;c=a[e];e++)o(c)&&q(c,b)&&!p(c)&&d.push(c);return d}function w(a){if(a){var b=a.permissions;b&&b.length?b&&1===b.length?a.permissions=a.permissions.concat(["READ"]):a.permissions=["ALL"]:a.permissions=["READ"]}}function x(a){if(a){var b=a.permissions;if(b&&1===b.length){var c=b[0];"ALL"===c?a.permissions=["UPDATE","DELETE"]:"READ"===c&&(a.permissions=[])}else{a.permissions=[];for(var d,e=0;d=b[e];e++)"READ"!==d&&a.permissions.push(d)}}}d.showNewPermissionFields=!1,d.$watch("isOpen",function(a,b){d.disableAddButton()||a||!b||d.addReadPermission(),d.showNewPermissionFields=!1}),d.$on("pre-submit",function(){d.disableAddButton()||d.addReadPermission(),d.showNewPermissionFields=!1});var y=a.resource("authorization"),z=d.filterModalFormData.newChild(d),A=d.filterPermissionForm,B=null,C=null,D=null,E=null,F={resourceType:g,permissions:["READ"]},G={type:"user",id:null},H=d.newPermission=f(G),I=function(){var a=m();return a&&a.$error&&a.$error.duplicate};j.registerHintProvider("filterPermissionForm",I),z.provide("authorizations",["filter",function(a){var c=b.defer();return a&&a.id?y.list({resourceType:g,resourceId:a.id},function(a,b){a?c.reject(a):c.resolve(b)}):c.resolve([]),c.promise}]),d.authorizationState=z.observe("authorizations",function(a){B=d.authorizations=f(a)||[],l(B),C=s(B),d.isGlobalReadAuthorization=r(C),D=u(B,"groupId"),E=u(B,"userId")}),d.globalReadAuthorizationChanged=function(){d.isGlobalReadAuthorization?(C?w(C):(C=e.extend({userId:"*",type:0},F),B.push(C)),H.id=null,J()):C&&x(C)},d.switchType=function(){H.type="user"===H.type?"group":"user",J()},d.getReadAuthorizations=function(a){if(a)return t(a)};var J=d.validateNewPermission=function(){var a=m();if(a){a.$setValidity("authorization",!0),a.$setValidity("duplicate",!0);var b=H.id;if(b){var c="user"===H.type?E:D,d=c[b];if(d&&r(d))return a.$setValidity("duplicate",!1)}}};d.disableAddButton=function(){if(!d.showNewPermissionFields)return!1;var a=m();return d.isGlobalReadAuthorization||!H.id||a&&a.$error&&a.$error.duplicate};var K=d.addReadPermission=function(){if(!d.showNewPermissionFields)return d.showNewPermissionFields=!0,void c(function(){var a=h[0].querySelector(".new-permission button");a&&a.focus()});var a=m(),b=H.id,f="user"===H.type?E:D,g=f[b];if(g){w(g);var i=B;B=d.authorizations=[];for(var j,k=0;j=i[k];k++)j!==g&&B.push(j);B.push(g)}else{g={type:1};var l="user"===H.type?"userId":"groupId";g[l]=b,e.extend(g,F),B.push(g),f[b]=g}H.id=null,a.$setValidity("authorization",!0),a.$setPristine(),c(function(){var a=h[0].querySelector(".new-permission button");a&&a.focus()})};d.keyPressed=function(a){var b=a.keyCode;if(13===b){a.preventDefault&&a.preventDefault();var c=m();return H.id&&c&&(!c.$error||!c.$error.duplicate)&&K()}},d.removeReadPermission=function(a){x(a),J(),h[0].querySelector(".global-access input").focus()};var L=[],M=function(a,b){var c=[];if(L=[],d.isGlobalReadAuthorization)for(var e,f=0;e=B[f];f++)o(e)&&r(e)&&x(e);for(var g,h=0;g=B[h];h++){var i=g.permissions,j=g.$permissions;(o(g)||n(g))&&(g.id?!i.length&&j.length?c.push({type:"delete",authorization:g}):i.length!==j.length&&c.push({type:"update",authorization:g}):i.length&&c.push({type:"create",authorization:g}))}k(c,a).then(function(){if(L&&L.length||(L=null),"function"==typeof b)return b(L)})};j.registerPostFilterSavedProvider(M)}}}]},{"camunda-commons-ui/vendor/angular":119}],188:[function(a,b,c){"use strict";var d='<div ng-form class="form-horizontal" name="filterVariableForm" role="form">\n\n  <div ng-show="variables.length > 5"\n       class="alert alert-warning"\n       role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    {{ \'FILTER_VARIABLES_AMOUNT_WARNING\' | translate }}\n  </div>\n\n\n  <div class="row labels-left">\n    <div class="col-xs-12">\n      <div class="undefined-variable checkbox">\n        <label>\n          <input type="checkbox"\n                 class="form-control"\n                 ng-model="filter.properties.showUndefinedVariable" />\n          {{ \'FILTER_FORM_VARIABLES_SHOW_UNDEFINED\' | translate }}\n        </label>\n      </div>\n    </div>\n\n    <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n      <a ng-click="addVariable()"\n         href>\n        <span class="hidden-sm hidden-xs">{{ \'FILTER_ADD_VARIABLE\' | translate }}</span>\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n    </div>\n\n    <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n      <div class="form-group" ng-show="variables.length">\n        <label class="col-xs-6 control-label"\n               translate="FILTER_VARIABLE_NAME">Name</label>\n        <label class="col-xs-6 control-label"\n               translate="FILTER_VARIABLE_LABEL">Label</label>\n      </div>\n    </div>\n  </div>\n\n  <div ng-repeat="(delta, variable) in variables" class="row">\n\n    <div ng-form name="variableFieldForm">\n      <div ng-init="addForm(this.variableFieldForm)"></div>\n\n      <div class="col-xs-2 row-action" ng-show="!filter.id || (filter.id && accesses.update)">\n        <a ng-click="removeVariable(delta)"\n           href>\n          <span class="hidden-sm hidden-xs">{{ \'FILTER_REMOVE_VARIABLE\' | translate }}</span>\n          <span class="glyphicon glyphicon-remove-sign"></span>\n        </a>\n      </div>\n\n\n      <div ng-class="{ \'col-xs-10\': !filter.id || (filter.id && accesses.update) , \'col-xs-12\': !(!filter.id || (filter.id && accesses.update)) }">\n        <div class="form-group">\n\n          <div class="col-xs-6">\n\n            <input class="form-control"\n                   type="text"\n                   name="variableName"\n                   ng-model="variable.name"\n                   placeholder="{{ \'FILTER_VARIABLE_NAME_PLACEHOLDER\' | translate }}"\n                   required\n                   ng-readonly="filter.id && !accesses.update"\n                   ng-disabled="filter.id && !accesses.update" />\n\n              <div ng-if="this.variableFieldForm.variableName.$invalid && this.variableFieldForm.variableName.$dirty"\n                    class="has-error">\n                <span ng-show="this.variableFieldForm.variableName.$error.required" class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n              </div>\n\n          </div>\n\n          <div class="col-xs-6">\n            <input class="form-control"\n                   type="text"\n                   name="variableLabel"\n                   ng-model="variable.label"\n                   placeholder="{{ \'FILTER_VARIABLE_LABEL_PLACEHOLDER\' | translate }}"\n                   required\n                   ng-readonly="filter.id && !accesses.update"\n                   ng-disabled="filter.id && !accesses.update" />\n              <div ng-if="this.variableFieldForm.variableLabel.$invalid && this.variableFieldForm.variableLabel.$dirty"\n                    class="has-error">\n                <span ng-show="this.variableFieldForm.variableLabel.$error.required" class="help-block">\n                  {{ \'REQUIRED_FIELD\' | translate }}\n                </span>\n              </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=e.copy;b.exports=[function(){return{restrict:"A",require:"^camTasklistFilterModalForm",scope:{filter:"=",accesses:"="},template:d,link:function(a,b,c,d){var e={name:"",label:""};a.filter.properties.showUndefinedVariable=a.filter.properties.showUndefinedVariable||!1,a.variables=a.filter.properties.variables=a.filter.properties.variables||[];var g=function(){for(var a,b=0;a=h[b];b++){var c=a.variableName,d=a.variableLabel;if(c.$dirty&&c.$invalid)return!0;if(d.$dirty&&d.$invalid)return!0}return!1};d.registerHintProvider("filterVariableForm",g);var h=[];a.addForm=function(a){h.push(a)},a.addVariable=function(){var b=f(e);a.variables.push(b)},a.removeVariable=function(b){a.filter.properties.variables=a.variables=d.removeArrayItem(a.variables,b),h=d.removeArrayItem(h,b)}}}}]},{"camunda-commons-ui/vendor/angular":119}],189:[function(a,b,c){"use strict";var d='<form name="filterForm" role="form">\n\n  <accordion close-others="true">\n\n    <accordion-group is-open="accordion.general">\n\n      <accordion-heading>\n        {{ \'FILTER_FORM_BASICS\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterGeneralForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_BASICS_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-general\n           filter="filter"\n           accesses="accesses">\n      </div>\n\n    </accordion-group>\n\n    <accordion-group is-open="accordion.criteria">\n      <accordion-heading>\n        {{ \'FILTER_FORM_CRITERIA\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterCriteriaForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_CRITERIA_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-criteria\n           filter="filter"\n           accesses="accesses">\n      </div>\n\n    </accordion-group>\n\n    <accordion-group is-open="accordion.permission">\n      <accordion-heading>\n        {{ \'FILTER_FORM_PERMISSIONS\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterPermissionForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_PERMISSIONS_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-permission\n           filter="filter"\n           accesses="accesses"\n           filter-modal-form-data="filterModalFormData"\n           is-open="accordion.permission">\n      </div>\n\n    </accordion-group>\n\n    <accordion-group is-open="accordion.variable">\n      <accordion-heading>\n        {{ \'FILTER_FORM_VARIABLES\' | translate }}\n        <span class="glyphicon glyphicon-exclamation-sign"\n              ng-show="showHint(\'filterVariableForm\')"></span>\n      </accordion-heading>\n\n      <div class="task-filter-hint text-help">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'FILTER_FORM_VARIABLES_HINT\' | translate }}\n      </div>\n\n      <div cam-tasklist-filter-modal-form-variable\n           filter="filter"\n           accesses="accesses">\n      </div>\n\n    </accordion-group>\n\n  </accordion>\n\n</form>\n\n',e=a("camunda-commons-ui/vendor/angular"),f=e.isArray,g=function(){},h="general",i="permission",j="criteria",k="variable";b.exports=[function(){return{restrict:"A",scope:{filter:"=",filterModalData:"=",registerIsValidProvider:"&",registerPostFilterSavedProvider:"&"},template:d,controller:["$scope",function(a){var b=a.filterModalFormData=a.filterModalData.newChild(a);a.registerIsValidProvider=a.registerIsValidProvider()||g,a.registerPostFilterSavedProvider=a.registerPostFilterSavedProvider()||g;var c=h;a.accordion={general:c===h,permission:c===i,criteria:c===j,variable:c===k},b.observe("accesses",function(b){a.accesses=b});var d=function(){return a.filterForm.$valid};a.registerIsValidProvider(d);var e={};this.registerHintProvider=function(a,b){b=b||g,e[a]=b},a.showHint=function(a){var b=e[a];return b&&b()};var l=[];this.registerPostFilterSavedProvider=function(a){l.push(a||function(a,b){return b()})};var m=function(a,b){var c=l.length;if(0===c)return b();for(var d,e=[],g=function(a){if(c-=1,a&&(f(a)?a.length&&(e=e.concat(a)):e.push(a)),0===c){if(1===e.length)return b(e[0]);if(e.length)return b(e);b()}},h=0;d=l[h];h++)d(a,g)};a.registerPostFilterSavedProvider(m),this.removeArrayItem=function(a,b){var c=[];for(var d in a)d!=b&&c.push(a[d]);return c}}]}}]},{"camunda-commons-ui/vendor/angular":119}],190:[function(a,b,c){"use strict";var d='<div ng-show="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-show="state.$error" class="alert alert-danger" role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">{{ \'FAILURE\' | translate }}:</strong>\n  <span class="message">{{ \'FILTERS_LOADING_FAILURE\' | translate }}</span>\n</div>\n\n<div ng-show="state.$loaded && !state.$error"\n     class="list-unstyled">\n\n  <div ng-hide="totalItems"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_AVAILABLE_FILTER\' | translate }}\n    <div class="add-initial-filter" ng-if="userCanCreateFilter">\n      <a class="filter-hint"\n         ng-click="addAllFilter()">\n        <span class="glyphicon glyphicon-plus"></span>\n        {{ \'ADD_FILTER_HINT\' | translate }}\n      </a>\n    </div>\n  </div>\n\n  <div ng-show="totalItems"\n       ng-repeat="(delta, filter) in filters | orderBy:\'properties.priority\'"\n       class="item task-filter cells-wrapper"\n       ng-class="{active: isFocused(filter)}"\n       ng-style="filter.style"\n       ng-click="focus(filter)">\n\n    <h4 class="name"\n        tooltip="{{ filter.properties.description }}"\n        tooltip-placement="top">\n      <a href\n         ng-style="{color: filter.properties.color}">\n        {{ filter.name }}\n\n        <span ng-show="isFocused(filter)"\n              class="counter">{{ filterCount }}</span>\n      </a>\n    </h4>\n\n    <div class="actions"\n         ng-style="{visibility: isFocused(filter) ? \'visible\' : \'hidden\'}">\n      <a ng-click="openModal($event, filter)"\n         tooltip="{{ \'FILTER_DETAILS\' | translate }}"\n         tooltip-placement="top"\n         href>\n        <span class="glyphicon glyphicon-pencil"></span>\n      </a>\n    </div>\n  </div>\n</div>\n',e=function(){};b.exports=[function(){return{restrict:"A",scope:{filtersData:"=",openModal:"&",userCanCreateFilter:"="},template:d,controller:["$scope","search","camAPI","Uri","Notifications","$translate",function(a,b,c,d,f,g){var h=a.filtersData=a.filtersData.newChild(a);a.openModal=a.openModal()||e;var i=c.resource("filter");h.observe("taskList",function(b){a.filterCount=b.count}),a.state=h.observe("filters",function(b){a.totalItems=b.length;for(var c,d=0;c=b[d];d++)c.style={"z-index":b.length+10-d};a.filters=b}),h.observe("currentFilter",function(b){a.currentFilter=b}),a.focus=function(c){a.filterCount=void 0,b.updateSilently({filter:c.id}),h.changed("currentFilter")},a.isFocused=function(b){return b.id===a.currentFilter.id},a.addAllFilter=function(){return g("ALL_TASKS").then(function(a){var b={name:a,resourceType:"Task",query:{},properties:{description:"Unfiltered Tasks",priority:1,color:"#555555",refresh:!1,howUndefinedVariable:!1}};return i.create(b)}).then(function(){a.filtersData.changed("filters")})["catch"](function(a){return g("FILTER_SAVE_ERROR").then(function(b){f.addError({status:b,message:a.message||""})})})}}]}}]},{}],191:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./directives/cam-tasklist-filters"),f=a("./directives/cam-tasklist-filter-modal-form"),g=a("./directives/cam-tasklist-filter-modal-form-general"),h=a("./directives/cam-tasklist-filter-modal-form-criteria"),i=a("./directives/cam-tasklist-filter-modal-form-variable"),j=a("./directives/cam-tasklist-filter-modal-form-permission"),k=a("./controllers/cam-tasklist-filters-ctrl"),l=a("./modals/cam-tasklist-filter-modal"),m=d.module("cam.tasklist.filter",["ui.bootstrap"]);m.directive("camTasklistFilters",e),m.directive("camTasklistFilterModalForm",f),m.directive("camTasklistFilterModalFormGeneral",g),m.directive("camTasklistFilterModalFormCriteria",h),m.directive("camTasklistFilterModalFormVariable",i),m.directive("camTasklistFilterModalFormPermission",j),m.controller("camFiltersCtrl",k),m.controller("camFilterModalCtrl",l),b.exports=m},{"./controllers/cam-tasklist-filters-ctrl":183,"./directives/cam-tasklist-filter-modal-form":189,"./directives/cam-tasklist-filter-modal-form-criteria":185,"./directives/cam-tasklist-filter-modal-form-general":186,"./directives/cam-tasklist-filter-modal-form-permission":187,"./directives/cam-tasklist-filter-modal-form-variable":188,"./directives/cam-tasklist-filters":190,"./modals/cam-tasklist-filter-modal":192,"camunda-commons-ui/vendor/angular":119}],192:[function(a,b,c){"use strict";function d(a,b){if(p.test(a)){"%"!==b[0]&&(b="%"+b);var c=b.length-1;"%"!==b[c]&&(b+="%")}return b}function e(a,b){return p.test(a)&&("%"===b[0]&&(b=b.slice(1,b.length)),"%"===b.slice(-1)&&(b=b.slice(0,-1))),b}function f(a){return t.test(a)}function g(a){return u.test(a)}function h(a){return k(Object.keys(a),function(b){"$"===b[0]||l(a[b])&&!a[b].length?delete a[b]:(m(a[b])||l(a[b]))&&(a[b]=h(a[b]))}),a}var i=a("camunda-commons-ui/vendor/angular"),j=i.copy,k=i.forEach,l=i.isArray,m=i.isObject,n="Task",o="#555555",p=/Like$/,q=["createdBefore","createdAfter","dueBefore","dueAfter","followUpBefore","followUpAfter"],r=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})([+-][0-9]{4}|Z)$/,s=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,t=/Variables$/,u=/^[\s]*(\#|\$)\{/;b.exports=["$scope","$translate","$q","Notifications","camAPI","filter","filtersData","fixDate","unfixDate",function(a,b,c,i,m,p,t,u,v){function w(c,d,e){b(c).then(function(b){i.addError({status:b,message:d?d.message:"",exclusive:e,scope:a})})}var x=m.resource("filter"),y=a.filterModalData=t.newChild(a);a.$on("$locationChangeStart",function(){a.$dismiss()}),a.deletion=!1,a.filter=j(p||{}),a.filter.name=a.filter.name,a.filter.matchType=a.filter.matchType,a.filter.properties=a.filter.properties||{},a.filter.properties.description=a.filter.properties.description,a.filter.properties.priority=parseInt(a.filter.properties.priority||0,10),a.filter.properties.color=a.filter.properties.color||o,a.filter.properties.refresh=a.filter.properties.refresh||!1,a.filter.properties.showUndefinedVariable=a.filter.properties.showUndefinedVariable||!1;var z=a.filter.id;a.filter.properties.variables=a.filter.properties.variables||[];var A=a.filter.query=a.filter.query||{};A.orQueries&&A.orQueries.length>0?(A=A.orQueries[0],a.filter.matchType="any"):(delete A.orQueries,a.filter.matchType="all");var B=[],C=[];for(var D in A){var E=A[D];f(D)?C.push({key:D,value:E}):(E=e(D,E),q.indexOf(D)!==-1&&r.test(E)&&(E=v(E)),B.push({key:D,value:E}))}a.filter.query=B,y.provide("filter",a.filter),y.provide("userFilterAccess",["filter",function(a){var b=c.defer();return a&&a.id?x.authorizations(a.id,function(a,c){a?b.reject(a):b.resolve(c)}):b.resolve({links:[]}),b.promise}]),y.provide("accesses",["userFilterAccess",function(a){var b={};return k(a.links,function(a){b[a.rel]=!0}),b}]),y.observe("accesses",function(b){a.accesses=b});var F=function(){return!1};a.isValid=F,a.registerValidationProvider=function(b){a.isValid=b||F};var G=function(a,b){return b()};a.registerPostFilterSavedProvider=function(a){G=a||G},a.submit=function(){a.$broadcast("pre-submit");for(var b,c=(a.filter.query||[]).concat(C),e={},i=0;b=c[i];i++){var j=b.key,k=b.value;if(!f(j)&&"sorting"!==j)if(k=d(j,k),q.indexOf(j)!==-1&&s.test(k)&&(k=u(k)),g(k)?j.indexOf("Expression")===-1&&(j+="Expression"):j.indexOf("Expression")!==-1&&(j=j.slice(0,j.indexOf("Expression"))),"candidateGroups"===j||"In"===j.slice(-2)){if("string"==typeof k){k=k.split(",");for(var m=0;m<k.length;m++)k[m]&&(k[m]=k[m].trim())}}else k=""+k;e[j]=k}a.filter.includeAssignedTasks&&(e.includeAssignedTasks=!0),"any"===a.filter.matchType&&(e={orQueries:[e]});var p={id:z,name:a.filter.name,resourceType:n,query:e,properties:{description:a.filter.properties.description,priority:parseInt(a.filter.properties.priority||0,10),color:a.filter.properties.color||o,refresh:a.filter.properties.refresh,variables:a.filter.properties.variables,showUndefinedVariable:a.filter.properties.showUndefinedVariable}};h(p),x.save(p,function(b,c){return b?w("FILTER_SAVE_ERROR",b,!0):(p.id=z=z||c.id,void G(p,function(b){if(b)if(l(b)&&b.length)for(var c,d=0;c=b[d];d++)w(c.status,c.error,0===d);else w(b.status,b.error,!0);else a.$close()}))})},a.abortDeletion=function(){a.deletion=!1},a.confirmDeletion=function(){a.deletion=!0},a["delete"]=function(){x["delete"](a.filter.id,function(b){return b?w("FILTER_DELETION_ERROR",b,!0):void a.$close()})}}]},{"camunda-commons-ui/vendor/angular":119}],193:[function(a,b,c){"use strict";var d='<div class="form-container" ng-keypress="formKeyPressed($event)">\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("jquery");b.exports=["CamForm","camAPI","$timeout","Uri",function(a,b,c,g){return{restrict:"A",require:"^camTasklistForm",scope:!0,template:d,link:function(d,h,i,j){function k(){var a=o.variableManager.variables;for(var b in a)o.variableManager.destroyVariable(b);o.variableManager.variables=e.copy(p)}function l(a){a&&a.loaded&&m(n,a,j.getParams()),a&&a.failure&&j.notifyFormInitializationFailed(a.error)}function m(c,f,h){var i=f.key;h=e.copy(h),delete h.processDefinitionKey,e.extend(h,{urlParams:{taskId:h.taskId||null,userId:d.$root.authentication.name,engineName:g.appUri(":engine")},containerElement:c,client:b,formUrl:i,done:r}),o=new a(h)}var n=f(h[0]).find(".form-container"),o=null,p=null,q=d.form={$valid:!1,$invalid:!0};d.$watch("asynchronousFormKey",l,!0),d.$watch(function(){return q&&q.$valid},function(a){j.notifyFormValidated(!a)}),d.$watch(function(){return q&&q.$dirty},function(a){j.notifyFormDirty(a)});var r=function(a,b){if(a)return j.notifyFormInitializationFailed(a);o=b,p=e.copy(o.variableManager.variables);var c=b.formElement.attr("name"),f=b.formElement.scope();f&&(q=f[c],q.$setPristine(),j.notifyFormInitialized(),d.$root.$broadcast("embedded.form.rendered"))};d.$on("shortcut:focusForm",function(){if(o){var a=o.formElement[0].querySelectorAll("input")[0];a&&a.focus()}}),d.formKeyPressed=function(a){if(a.ctrlKey&&(13===a.keyCode||10===a.keyCode))return j.attemptComplete()};var s=function(a){return function(b,c){return b&&k(),a(b,c)}},t=function(a){o.submit(s(a))},u=function(a){q.$setPristine(),o.store(),c(function(){e.element(a.target).triggerHandler(f.Event("mouseleave"))})};j.registerCompletionHandler(t),j.registerSaveHandler(u),d.$on("authentication.login.required",function(){u()})}}}]},{"camunda-commons-ui/vendor/angular":119,jquery:"jquery"}],194:[function(a,b,c){"use strict";var d='<div class="text-help">\n  <span class="glyphicon glyphicon-info-sign"></span>\n  {{ EXTERNAL_FORM_NOTE | translate }}\n</div>\n\n<a ng-href="{{ externalFormUrl  }}"\n   class="external-form">\n  {{ \'EXTERNAL_FORM_LINK\' |translate }}\n  <span class="glyphicon glyphicon-folder-open"></span>\n</a>\n';b.exports=["$location",function(a){return{restrict:"A",require:"^camTasklistForm",scope:!0,template:d,link:function(b,c,d,e){e.notifyFormValidated(!0),b.externalFormUrl=null,b.EXTERNAL_FORM_NOTE=null,b.$watch(function(){return e.getTasklistForm()&&e.getParams()},function(c){if(c){var d=e.getTasklistForm(),f=e.getParams(),g=d.key,h=f.taskId,i=f.processDefinitionKey,j=null;if(h)j="taskId="+h,b.EXTERNAL_FORM_NOTE="TASK_EXTERNAL_FORM_NOTE";else{if(!i)return e.notifyFormInitializationFailed({message:"INIT_EXTERNAL_FORM_FAILED"});j="processDefinitionKey="+i,b.EXTERNAL_FORM_NOTE="PROCESS_EXTERNAL_FORM_NOTE"}var k=a.absUrl(),l=a.url();k=k.replace(l,"/"),b.externalFormUrl=encodeURI(g+"?"+j+"&callbackUrl="+k),e.notifyFormInitialized()}}),b.$watch(function(){return e.getOptions()},function(a){a&&(a.hideCompleteButton=!0)})}}}]},{}],195:[function(a,b,c){"use strict";var d='<form name="generic-form"\n      class="form-horizontal">\n\n  <div class="form-group"\n       ng-if="showBusinessKey">\n    <label for="business-key-field"\n           translate="BUSINESS_KEY"\n           class="control-label col-xs-2">Business key</label>\n    <div class="col-xs-10">\n      <input type="text"\n            ng-readonly="readonly"\n            ng-model="businessKey"\n             id="business-key-field"\n             cam-business-key\n             class="form-control" />\n    </div>\n  </div>\n\n  <div class="form-group labels-left">\n    <div class="col-xs-2 row-action">\n      <a href\n         ng-click="addVariable()"\n         ng-disabled="options.disableAddVariableButton">\n        <span class="hidden-xs hidden-sm"\n              translate="ADD_VARIABLE">Add variable</span>\n        <span class="glyphicon glyphicon-plus-sign"></span>\n      </a>\n    </div>\n\n\n\n    <div class="col-xs-10"\n         ng-if="variables.length">\n      <div class="row">\n        <label class="control-label col-xs-4"\n               translate="NAME">Name</label>\n\n\n\n        <label class="control-label col-xs-4"\n               translate="TYPE">Type</label>\n\n\n\n        <label class="control-label col-xs-4"\n               translate="VALUE">Value</label>\n      </div>\n    </div>\n  </div>\n\n\n\n  <div ng-if="variables.length"\n       ng-repeat="(delta, variable) in variables"\n       class="form-group"\n       ng-form="repeatForm">\n\n    <div class="col-xs-2 row-action">\n      <a href\n         ng-click="removeVariable(delta)"\n         ng-if="!variable.fixedName">\n        <span class="hidden-sm hidden-xs"\n              translate="REMOVE">Remove</span>\n        <span class="glyphicon glyphicon-remove-sign"></span>\n      </a>\n    </div>\n\n\n\n    <div class="col-xs-10">\n      <div class="row">\n        <div class="col-xs-4">\n          <input required\n                 type="text"\n                 class="form-control"\n                 placeholder="{{ \'VARIABLE_NAME\' | translate }}"\n                 ng-model="variable.name"\n                 name="name"\n                 cam-unique-value="{{ getVariableNames() }}"\n                 ng-readonly="variable.fixedName" />\n          <span ng-if="repeatForm.name.$invalid && repeatForm.name.$dirty" class="has-error">\n            <span ng-if="repeatForm.name.$error.required"\n                  class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n            <span ng-if="repeatForm.name.$error.camUniqueValue"\n                  class="help-block">\n              {{ \'REQUIRE_UNIQUE_NAME\' | translate }}\n            </span>\n          </span>\n        </div>\n\n\n\n        <div class="col-xs-4">\n          <select required\n                  ng-disabled="!variable.name"\n                  class="form-control"\n                  ng-model="variable.type">\n\n            <option disabled\n                    value=""\n                    translate="VARIABLE_TYPE">Type</option>\n\n            <option value="Boolean">Boolean</option>\n            <option value="Short">Short</option>\n            <option value="Integer">Integer</option>\n            <option value="Long">Long</option>\n            <option value="Double">Double</option>\n            <option value="String">String</option>\n            <option value="Date">Date</option>\n          </select>\n        </div>\n\n\n\n        <div class="col-xs-4"\n             ng-switch="variable.type">\n          <input ng-switch-when=""\n                 readonly\n                 type="text"\n                 class="form-control"\n                 placeholder="{{ \'VARIABLE_VALUE\' | translate }}" />\n\n\n          <input ng-switch-when="Boolean"\n                 class="form-control"\n                 type="checkbox"\n                 ng-model="variable.value"\n                 ng-checked="variable.value"\n                 cam-variable-name="{{ variable.name }}"\n                 cam-variable-type="{{ variable.type }}" />\n\n\n          <input ng-switch-default\n                 class="form-control"\n                 type="{{ variableTypes[variable.type] }}"\n                 required\n                 ng-model="variable.value"\n                 name="value"\n                 cam-variable-name="{{ variable.name }}"\n                 cam-variable-type="{{ variable.type }}"\n                 placeholder="{{ \'VARIABLE_VALUE\' | translate }}" />\n\n          <span ng-if="repeatForm.value.$invalid && repeatForm.value.$dirty" class="has-error">\n            <span ng-if="repeatForm.value.$error.required"\n                  class="help-block">\n              {{ \'REQUIRED_FIELD\' | translate }}\n            </span>\n            <span ng-if="repeatForm.value.$error.camVariableType"\n                  class="help-block">\n              Only a {{ variable.type }} value is allowed\n            </span>\n          </span>\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="form-group"\n       ng-if="!options.hideLoadVariablesButton && !variablesLoaded">\n    <div class="col-xs-2 row-action">\n      <a href\n         ng-click="loadVariables()">\n        <span class="hidden-sm hidden-xs"\n              translate="LOAD_VARIABLES">Load Variables</span>\n        <span class="glyphicon glyphicon-download"></span>\n      </a>\n    </div>\n  </div>\n\n</form>\n',e=a("camunda-commons-ui/vendor/angular");b.exports=["camAPI","Notifications","$translate","unfixDate",function(a,b,c,f){return{restrict:"A",require:"^camTasklistForm",template:d,link:function(d,g,h,i){var j=a.resource("task"),k=a.resource("process-instance"),l=a.resource("case-instance");d.showBusinessKey=!1;var m={name:"",value:"",type:""},n=d.variableTypes={Boolean:"checkbox",Integer:"text",Long:"text",Short:"text",Double:"text",String:"text",Date:"text"},o=i.getParams(),p=o.processInstanceId||o.caseInstanceId;if(o.processDefinitionId||o.caseDefinitionId)if(p){d.readonly=!0;var q=o.processInstanceId?k:l;q.get(p).then(function(a){a.businessKey&&(d.showBusinessKey=!0,d.businessKey=a.businessKey)})}else d.showBusinessKey=!0;else d.showBusinessKey=!1;d.$watch("tasklistForm",function(){d.variablesLoaded=!1}),d.addVariable=function(){var a=e.copy(m);d.variables.push(a)},d.removeVariable=function(a){var b=[];e.forEach(d.variables,function(c,d){d!=a&&b.push(c)}),d.variables=b},d.getVariableNames=function(){return d.variables.map(function(a){return a.name})},d.loadVariables=function(){d.variablesLoaded=!0,j.formVariables({id:i.getParams().taskId,deserializeValues:!1},function(a,g){if(a)return d.variablesLoaded=!1,c("LOAD_VARIABLES_FAILURE").then(function(c){b.addError({status:c,message:a.message,scope:d})});var h=!1;e.forEach(g,function(a,b){if(n[a.type]){var c=a.value;"Date"===a.type&&(c=f(c)),d.variables.push({name:b,value:c,type:a.type,fixedName:!0}),h=!0}}),h||c("NO_TASK_VARIABLES").then(function(a){b.addMessage({duration:5e3,status:a,scope:d})})})}}}}]},{"camunda-commons-ui/vendor/angular":119}],196:[function(a,b,c){"use strict";var d='<div class="generic-form-fields">\n\n  <div class="text-help">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'USE_GENERIC_FORM\' | translate }}\n  </div>\n\n  <div cam-tasklist-form-generic-variables>\n  </div>\n\n</div>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("jquery");b.exports=["CamForm","camAPI","$timeout",function(a,b,c){return{restrict:"A",require:"^camTasklistForm",scope:!0,template:d,link:function(d,g,h,i){function j(c,d){d=e.copy(d),delete d.processDefinitionKey,e.extend(d,{client:b,formElement:m,done:q}),n=new a(d)}function k(){var a=n.variableManager.variables;for(var b in a)n.variableManager.destroyVariable(b)}function l(){n.fields=[]}var m=f(g[0]).find("form"),n=null,o={$valid:!1,$invalid:!0},p=!1;d.$watch(function(){return p},function(a){
a&&(j(a,i.getParams()),p=!1)}),d.$watch(function(){return i.getTasklistForm()},function(a){a&&(p=!0,d.variables=[])}),d.$watch(function(){return o&&o.$valid},function(a){i.notifyFormValidated(!a)});var q=function(a,b){if(a)return i.notifyFormInitializationFailed(a);n=b;var e=b.formElement.attr("name"),f=b.formElement.scope();f&&(o=f[e],i.notifyFormInitialized(),d.options.autoFocus&&c(function(){var a=b.formElement[0].querySelectorAll("input")[0];a&&a.focus()}))},r=function(a){function b(b,c){return k(),l(),a(b,c)}try{n.initializeFieldHandlers()}catch(c){return b(c)}var d=n.variableManager.variables;for(var e in d)d[e].value=null;n.submit(b)};i.registerCompletionHandler(r)}}}]},{"camunda-commons-ui/vendor/angular":119,jquery:"jquery"}],197:[function(a,b,c){"use strict";function d(a){var b=[];for(var c in a)a[c]&&b.push(a[c]);return b}var e='<div ng-show="tasklistForm && !$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-if="tasklistForm.type"\n     ng-show="tasklistForm && $loaded"\n     ng-class="{ \'disabled-form\': options.disableForm, \'task-removed\': taskRemoved}">\n\n  <div ng-show="tasklistForm.$error" class="alert alert-danger" role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <strong class="status">{{ \'FORM_FAILURE\' | translate }}</strong>\n    <span class="message">{{ tasklistForm.$error.message | translate }}</span>\n  </div>\n\n  <div ng-switch="tasklistForm.type"\n       ng-show="!tasklistForm.$error">\n\n    <div ng-switch-when="embedded">\n      <div cam-tasklist-form-embedded>\n      </div>\n    </div>\n\n    <div ng-switch-when="external">\n      <div cam-tasklist-form-external>\n      </div>\n    </div>\n\n    <div ng-switch-default>\n      <div cam-tasklist-form-generic>\n      </div>\n    </div>\n\n  </div>\n\n  <div class="form-actions" ng-show="showCompleteButton()">\n    <button class="btn btn-default"\n            type="submit"\n            ng-click="save($event)"\n            ng-hide="tasklistForm.type === \'generic\'"\n            tooltip-placement="top"\n            tooltip="{{ \'SAVE_HINT\' | translate }}"\n            ng-disabled="!$dirty">\n      {{ \'SAVE\' | translate }}\n    </button>\n    <button class="btn btn-primary"\n            type="submit"\n            ng-click="complete()"\n            ng-disabled="disableCompleteButton()">\n      {{ \'COMPLETE\' | translate }}\n    </button>\n  </div>\n\n</div>\n',f="embedded:",g="app:",h="engine:",i="deployment:",j=function(){};b.exports=function(){return{restrict:"A",scope:{tasklistForm:"=",options:"=",params:"=",onFormCompletionCallback:"&",onFormCompletion:"&",onFormValidation:"&"},template:e,controller:["$scope","Uri",function(a,b){function c(b){a.asynchronousFormKey.key=b,a.asynchronousFormKey.loaded=!0}function e(e){var j=e.key,l=e.contextPath;return j?(0===j.indexOf(f)?(j=j.substring(f.length),e.type="embedded"):e.type="external",0===j.indexOf(g)?l?(j=d([l,j.substring(g.length)]).join("/").replace(/\/([\/]+)/,"/"),c(j)):k.notifyFormInitializationFailed({message:"EMPTY_CONTEXT_PATH"}):0===j.indexOf(i)?(j=a.params.taskId?b.appUri("engine://engine/:engine/task/"+a.params.taskId+"/deployed-form"):b.appUri("engine://engine/:engine/process-definition/"+a.params.processDefinitionId+"/deployed-start-form"),c(j)):0===j.indexOf(h)?(j=b.appUri(j),c(j)):c(j),void(e.key=j)):void(e.type="generic")}a.taskRemoved=!1,a.$on("taskremoved",function(){a.taskRemoved=!0}),a.onFormCompletionCallback=a.onFormCompletionCallback()||j,a.onFormCompletion=a.onFormCompletion()||j,a.onFormValidation=a.onFormValidation()||j,a.completionHandler=j,a.saveHandler=j,a.$loaded=!1,a.completeInProgress=!1,a.$watch("tasklistForm",function(b){a.$loaded=!1,b&&(e(b),a.taskRemoved=!1)}),a.asynchronousFormKey={loaded:!1,failure:!1};var k=this,l=function(b,c){a.onFormCompletionCallback(b,c),a.completeInProgress=!1},m=a.complete=function(){a.completeInProgress=!0,a.completionHandler(l)};a.onFormCompletion(m),a.showCompleteButton=function(){return a.options&&!a.options.hideCompleteButton&&a.$loaded};var n=a.disableCompleteButton=function(){return a.taskRemoved||a.completeInProgress||a.$invalid||a.options&&a.options.disableCompleteButton},o=function(){var a=!n();return a&&m()};a.save=function(b){a.saveHandler(b)},this.notifyFormInitialized=function(){a.$loaded=!0},this.notifyFormInitializationFailed=function(b){a.tasklistForm.$error=b,this.notifyFormInitialized(),this.notifyFormValidated(!0)},this.notifyFormCompleted=function(b){a.onFormCompletion(b)},this.notifyFormValidated=function(b){a.$invalid=b,a.onFormValidation(b)},this.notifyFormDirty=function(b){a.$dirty=b},this.getOptions=function(){return a.options||{}},this.getTasklistForm=function(){return a.tasklistForm},this.getParams=function(){return a.params||{}},this.registerCompletionHandler=function(b){a.completionHandler=b||j},this.registerSaveHandler=function(b){a.saveHandler=b||j},this.attemptComplete=o}]}}},{}],198:[function(a,b,c){"use strict";b.exports=[function(){return{require:"ngModel",link:function(a,b,c,d){var e=function(a){var e=JSON.parse(c.camUniqueValue);if(d.$setValidity("camUniqueValue",!0),a){d.$pristine&&(d.$pristine=!1,d.$dirty=!0,b.addClass("ng-dirty"),b.removeClass("ng-pristine"));for(var f=!1,g=0;g<e.length;g++)if(e[g]===a){if(f){d.$setValidity("camUniqueValue",!1);break}f=!0}}return a};d.$parsers.unshift(e),d.$formatters.push(e),c.$observe("camUniqueValue",function(){return e(d.$viewValue)})}}}]},{}],199:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./directives/cam-tasklist-form"),f=a("./directives/cam-tasklist-form-generic"),g=a("./directives/cam-tasklist-form-generic-variables"),h=a("./directives/cam-tasklist-form-embedded"),i=a("./directives/cam-tasklist-form-external"),j=a("./directives/cam-tasklist-unique-value"),k=d.module("cam.tasklist.form",["ui.bootstrap"]);k.directive("camTasklistForm",e),k.directive("camTasklistFormGeneric",f),k.directive("camTasklistFormGenericVariables",g),k.directive("camTasklistFormEmbedded",h),k.directive("camTasklistFormExternal",i),k.directive("camUniqueValue",j),b.exports=k},{"./directives/cam-tasklist-form":197,"./directives/cam-tasklist-form-embedded":193,"./directives/cam-tasklist-form-external":194,"./directives/cam-tasklist-form-generic":196,"./directives/cam-tasklist-form-generic-variables":195,"./directives/cam-tasklist-unique-value":198,"camunda-commons-ui/vendor/angular":119}],200:[function(a,b,c){"use strict";b.exports=["$scope","Views",function(a,b){a.navbarVars={read:["tasklistApp"]},a.navbarActions=b.getProviders({component:"tasklist.navbar.action"})}]},{}],201:[function(a,b,c){"use strict";var d=a("jquery"),e=d("body");b.exports=["$scope","$timeout",function(a,b){function c(a){return d(a.currentTarget).attr("data-region")}function f(a){return e.hasClass(a+"-column-close")}function g(a){return e.removeClass(a+"-column-close")}function h(a){return e.addClass(a+"-column-close")}a.toggleVariableSearch=function(a){a&&a.preventDefault&&a.preventDefault(),d(".tasks-list").toggleClass("show-search")},a.toggleRegion=function(d){d&&d.preventDefault&&d.preventDefault();var h=c(d);"task"===h?f("list")&&!f("task")&&g("list"):"list"===h&&f("task")&&!f("list")&&g("task"),e.toggleClass(h+"-column-close"),b(function(){a.$root.$broadcast("layout:change")},600)},a.maximizeRegion=function(a){a&&a.preventDefault&&a.preventDefault(),h("filters"),h("list"),g("task"),document.querySelector(".reset-regions").focus()},a.resetRegions=function(a){a&&a.preventDefault&&a.preventDefault(),g("filters"),g("list"),g("task"),document.querySelector(".maximize").focus()}}]},{jquery:"jquery"}],202:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controllers/cam-layout-ctrl"),f=a("./controllers/cam-header-views-ctrl");a("camunda-commons-ui/lib/util/index");var g=d.module("cam.tasklist.navigation",[a("camunda-commons-ui/lib/util/index").name,"ui.bootstrap"]);g.controller("camHeaderViewsCtrl",f),g.controller("camLayoutCtrl",e),b.exports=g},{"./controllers/cam-header-views-ctrl":200,"./controllers/cam-layout-ctrl":201,"camunda-commons-ui/lib/util/index":93,"camunda-commons-ui/vendor/angular":119}],203:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./plugins/action/cam-tasklist-navbar-action-start-process-plugin"),f=a("./plugins/action/modals/cam-tasklist-process-start-modal"),g=d.module("cam.tasklist.process",["cam.tasklist.client","cam.tasklist.form","ui.bootstrap"]);g.config(e),g.controller("camProcessStartModalCtrl",f),b.exports=g},{"./plugins/action/cam-tasklist-navbar-action-start-process-plugin":204,"./plugins/action/modals/cam-tasklist-process-start-modal":205,"camunda-commons-ui/vendor/angular":119}],204:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e='<a ng-click="open()"\n   href>\n  <span class="glyphicon glyphicon-list-alt"></span>\n  {{ \'START_PROCESS\' | translate }}\n</a>\n',f='<div class="modal-header">\n  <div class="row">\n    <div class="col-xs-6">\n      <h3 class="modal-title">{{ \'START_PROCESS\' | translate }}</h3>\n    </div>\n\n    <div class="col-xs-6">\n      <form>\n        <div class="form-group has-feedback"\n             ng-if="!PROCESS_TO_START_SELECTED">\n          <input type="text"\n                 ng-model="page.searchValue"\n                 placeholder="{{ \'SEARCH_PROCESS_BY_NAME\' | translate }}"\n                 ng-change="lookupProcessDefinitionByName()"\n                 class="form-control">\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div class="modal-body">\n\n  <div notifications-panel></div>\n\n  <div ng-if="!PROCESS_TO_START_SELECTED">\n\n    <div ng-if="!processDefinitionState.$loaded || lookupProcessDefinitionByName.$loading"\n       class="loader">\n      <span class="animate-spin glyphicon glyphicon-refresh"></span>\n      {{ \'LOADING\' | translate }}\n    </div>\n\n    <div ng-hide="!processDefinitionState.$loaded || lookupProcessDefinitionByName.$loading">\n\n      <div ng-hide="page.total"\n           class="well">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'NO_PROCESS_DEFINITION_AVAILABLE\' | translate }}\n      </div>\n\n      <div ng-if="page.total" class="available-processes">\n\n        <div class="text-help">\n          <span class="glyphicon glyphicon-info-sign"></span>\n          {{ \'CLICK_PROCESS_TO_START\' | translate }}\n        </div>\n\n        <ul class="processes">\n          <li ng-repeat="processDefinition in processDefinitions">\n            <a href\n               ng-click="selectProcessDefinition(processDefinition)">\n              {{ processDefinition.name || processDefinition.key }}\n            </a>\n            <span ng-if="processDefinition.tenantId"\n                  class="tenant-id">\n              {{ processDefinition.tenantId }}\n            </span>\n          </li>\n        </ul>\n\n      </div>\n\n      <pagination ng-if="page.total > page.size"\n                  total-items="page.total"\n                  items-per-page="page.size"\n                  max-size="5"\n                  class="pagination-sm"\n                  boundary-links="true"\n                  ng-model="page.current"\n                  ng-change="pageChange()"\n                  next-text="&rsaquo;"\n                  last-text="&raquo;"\n                  previous-text="&lsaquo;"\n                  first-text="&laquo;"></pagination>\n    </div>\n  </div>\n\n  <div ng-if="PROCESS_TO_START_SELECTED">\n\n    <div ng-if="startFormState.$error" class="alert alert-danger" role="alert">\n      <span class="glyphicon glyphicon-exclamation-sign"></span>\n      <strong class="status">{{ \'FORM_FAILURE\' | translate }}</strong>\n      <span class="message">{{ startFormState.$error.message }}</span>\n    </div>\n\n    <div ng-if="startFormState.$loaded && !startFormState.$error"\n         cam-tasklist-form\n         tasklist-form="startForm"\n         on-form-completion-callback="completionCallback"\n         on-form-completion="registerCompletionHandler"\n         on-form-validation="notifyFormValidation"\n         options="options"\n         params="params" >\n    </div>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <div ng-if="!PROCESS_TO_START_SELECTED"\n       class="row row-action">\n\n    <div class="col-xs-12">\n      <button class="btn btn-link"\n              type="button"\n              ng-click="$dismiss()">\n        {{ \'CLOSE\' | translate }}\n      </button>\n    </div>\n  </div>\n\n  <div ng-if="PROCESS_TO_START_SELECTED"\n       class="row">\n\n    <div class="col-xs-4 align-left">\n      <button class="btn btn-link"\n              type="button"\n              ng-click="back()">\n        {{ \'BACK\' | translate }}\n      </button>\n    </div>\n\n    <div class="col-xs-8">\n      <button class="btn btn-link"\n              type="button"\n              ng-click="$dismiss()">\n        {{ \'CLOSE\' | translate }}\n      </button>\n\n      <button class="btn btn-primary"\n              type="submit"\n              ng-disabled="$invalid || requestInProgress"\n              ng-click="startProcessInstance()">\n        {{ \'START\' | translate }}\n      </button>\n    </div>\n\n  </div>\n\n</div>\n',g=["$scope","$modal","$q","camAPI","dataDepend",function(a,b,c,e,g){var h=e.resource("process-definition"),i=a.processData=g.create(a),j={latest:!0,active:!0,startableInTasklist:!0,startablePermissionCheck:!0,firstResult:0,maxResults:15};i.provide("processDefinitionQuery",j),i.provide("processDefinitions",["processDefinitionQuery",function(a){var b=c.defer();return h.list(a,function(a,c){a?b.reject(a):b.resolve(c)}),b.promise}]),i.provide("currentProcessDefinitionId",{id:null}),i.provide("startForm",["currentProcessDefinitionId",function(a){var b=c.defer();return a.id?h.startForm(a,function(a,c){a?b.reject(a):b.resolve(c)}):b.resolve(null),b.promise}]),a.open=function(){i.set("processDefinitionQuery",d.copy(j));var c=b.open({size:"lg",controller:"camProcessStartModalCtrl",template:f,resolve:{processData:function(){return i}}});c.result.then(function(){a.$root.$broadcast("refresh"),document.querySelector(".start-process-action a").focus()},function(){document.querySelector(".start-process-action a").focus()})},a.$on("shortcut:startProcess",a.open)}],h=function(a){a.registerDefaultView("tasklist.navbar.action",{id:"start-process-action",template:e,controller:g,priority:100})};h.$inject=["ViewsProvider"],b.exports=h},{"camunda-commons-ui/vendor/angular":119}],205:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular");b.exports=["$rootScope","$scope","$translate","$timeout","debounce","Notifications","processData","assignNotification",function(a,b,c,e,f,g,h,i){function j(a,d){c(a).then(function(a){g.addError({status:a,message:d?d.message:"",scope:b})})}function k(a){c(a).then(function(a){g.addMessage({duration:3e3,status:a})})}b.$on("$locationChangeSuccess",function(){b.$dismiss()});var l=h.newChild(b);l.set("currentProcessDefinitionId",{id:null});var m=b.options={hideCompleteButton:!0,hideLoadVariablesButton:!0,autoFocus:!0,disableForm:!1,disableAddVariableButton:!1};b.PROCESS_TO_START_SELECTED=!1;var n=null,o=b.page={total:0,current:1,searchValue:null};b.triggerOnStart=function(){},l.observe("processDefinitionQuery",function(a){n=d.copy(a),o.size=a.maxResults,o.current=a.firstResult/o.size+1}),b.startFormState=l.observe("startForm",function(a){b.startForm=d.copy(a)}),b.processDefinitionState=l.observe("processDefinitions",function(a){o.total=a.count,b.processDefinitions=a.items.sort(function(a,b){var c=(a.name||a.key).toLowerCase(),d=(b.name||b.key).toLowerCase(),e=a.tenantId?a.tenantId.toLowerCase():"",f=b.tenantId?b.tenantId.toLowerCase():"";return c<d?-1:c>d?1:e<f?-1:e>f?1:0}),o.total>0&&e(function(){var a=document.querySelectorAll("div.modal-content ul.processes a")[0];a&&a.focus()})}),b.pageChange=function(){n.firstResult=o.size*(o.current-1),l.set("processDefinitionQuery",n)},b.lookupProcessDefinitionByName=f(function(){var a=o.searchValue;a?n.nameLike="%"+a+"%":delete n.nameLike,n.firstResult=0,l.set("processDefinitionQuery",n)},2e3),b.selectProcessDefinition=function(a){b.PROCESS_TO_START_SELECTED=!0;var c=a.id,e=a.key,f=a.deploymentId;b.options=d.copy(m),b.params={processDefinitionId:c,processDefinitionKey:e,deploymentId:f},l.set("currentProcessDefinitionId",{id:c})},b.$invalid=!0,b.requestInProgress=!1,b.$on("embedded.form.rendered",function(){e(function(){var a=document.querySelectorAll(".modal-body .form-container input")[0];a&&a.focus()})}),b.back=function(){b.$invalid=!0,b.requestInProgress=!1,b.PROCESS_TO_START_SELECTED=!1,b.options=m,l.set("currentProcessDefinitionId",{id:null}),e(function(){var a=document.querySelectorAll("div.modal-content ul.processes a")[0];a&&a.focus()})};var p=[];b.$on("$destroy",function(){for(var a;a=p.pop();)"function"==typeof a&&a()}),b.completionCallback=function(c,d){return c?(b.requestInProgress=!1,j("PROCESS_START_ERROR",c)):(p.push(function(){k("PROCESS_START_OK"),i({assignee:a.authentication.name,processInstanceId:d.id})}),void b.$close())},b.registerCompletionHandler=function(a){b.triggerOnStart=a||function(){}},b.startProcessInstance=function(){b.requestInProgress=!0,b.triggerOnStart()},b.notifyFormValidation=function(a){b.$invalid=a}}]},{"camunda-commons-ui/vendor/angular":119}],206:[function(a,b,c){"use strict";b.exports=["camAPI","Notifications","$translate",function(a,b,c){var d=a.resource("task");return function(a){a.assignee&&(a.processInstanceId||a.caseInstanceId)&&d.list(a,function(d,e){if(e._embedded.task.length>0){for(var f,g="",h=0;f=e._embedded.task[h];h++)g+='<a ng-href="#/?forceDisplayTask=true&task='+f.id+'" ng-click="removeNotification(notification)">'+f.name+"</a>, ";c(a.processInstanceId?"ASSIGN_NOTE_PROCESS":"ASSIGN_NOTE_CASE").then(function(a){b.addMessage({duration:16e3,status:a,unsafe:!0,message:g.slice(0,-2)})})}})}}]},{}],207:[function(a,b,c){"use strict";a("mousetrap");var d='<a href\n   class="showShortcutHelp"\n   ng-click="showHelp()">\n  {{ \'SHORTCUT_HELP\' | translate }}\n</a>\n',e='<div class="modal-header">\n  <h3 class="modal-title">\n    {{ \'SHORTCUT_HELP\' | translate }}\n  </h3>\n</div>\n\n<div class="modal-body">\n    <table class="cam-table">\n      <thead>\n        <tr>\n          <th>{{ \'SHORTCUT\' | translate }}</th>\n          <th>{{ \'DESCRIPTION\' | translate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="shortcut in shortcuts">\n          <td>{{shortcut.key}}</td>\n          <td>{{shortcut.description}}</td>\n        </tr>\n      </tbody>\n    </table>\n</div>\n\n<div class="modal-footer">\n  <div class="row row-action">\n    <div class="col-xs-12">\n      <button class="btn btn-xs btn-link"\n              type="button"\n              ng-click="$dismiss()"\n              translate="CLOSE">Close</button>\n    </div>\n  </div>\n</div>\n',f=["$scope","$modal",function(b,c){var d=a("mousetrap");if("undefined"!=typeof window.camTasklistConf&&window.camTasklistConf.shortcuts){b.shortcuts=window.camTasklistConf.shortcuts;for(var f in window.camTasklistConf.shortcuts){var g=window.camTasklistConf.shortcuts[f];d.bind(g.key,function(a){return function(){b.$root.$broadcast("shortcut:"+a)}}(f))}}b.showHelp=function(){var a=c.open({scope:b,windowClass:"shortcut-modal",size:"lg",template:e});a.result.then(function(){document.querySelector("a.showShortcutHelp").focus()},function(){document.querySelector("a.showShortcutHelp").focus()})}}],g=function(a){a.registerDefaultView("tasklist.navbar.action",{id:"shortcut-help",template:d,controller:f,priority:300})};g.$inject=["ViewsProvider"],b.exports=g},{mousetrap:129}],208:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./action/cam-tasklist-shortcut-help-plugin"),f=d.module("cam.tasklist.shortcuts",[]);f.config(e),b.exports=f},{"./action/cam-tasklist-shortcut-help-plugin":207,"camunda-commons-ui/vendor/angular":119}],209:[function(a,b,c){"use strict";b.exports=["$scope","Views","CamForm",function(a,b,c){var d=a.taskData=a.tasklistData.newChild(a);d.observe("task",function(b){a.task=b}),c.cleanLocalStorage(Date.now()-6048e5),a.taskVars={read:["task","taskData"]},a.taskActions=b.getProviders({component:"tasklist.task.action"})}]},{}],210:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e="candidate";b.exports=["$scope","$translate","$q","Notifications","camAPI",function(a,b,c,f,g){var h=g.resource("task"),i=null,j={groupId:null,type:e},k=a.newGroup=d.copy(j),l=a.taskGroupsData,m=a.groupsChanged,n=a.errorHandler();a._groups=[];var o={};b(["FAILURE","INIT_GROUPS_FAILURE","ADD_GROUP_FAILED","REMOVE_GROUP_FAILED"]).then(function(a){o.failure=a.FAILURE,o.initGroupsFailed=a.INIT_GROUPS_FAILURE,o.addGroupFailed=a.ADD_GROUP_FAILED,o.removeGroupFailed=a.REMOVE_GROUP_FAILED}),a.modalGroupsState=l.observe("groups",function(b){a._groups=d.copy(b)||[],a.validateNewGroup()}),l.observe("task",function(a){i=a}),a.$watch("modalGroupsState.$error",function(b){b&&f.addError({status:o.failure,message:o.initGroupsFailed,exclusive:!0,scope:a})}),a.addGroup=function(){var b=i.id;m(),delete k.error,h.identityLinksAdd(b,k,function(b){return b?n("TASK_UPDATE_ERROR",b):(a.taskGroupForm.$setPristine(),a._groups.push({id:k.groupId}),void(k=a.newGroup=d.copy(j)))})},a.removeGroup=function(b,c){var d=i.id;m(),h.identityLinksDelete(d,{type:e,groupId:b.id},function(b){return b?f.addError({status:o.failure,message:o.removeGroupFailed,exclusive:!0,scope:a}):void a._groups.splice(c,1)})},a.validateNewGroup=function(){if(delete k.error,a.taskGroupForm&&a.taskGroupForm.newGroup){a.taskGroupForm.newGroup.$setValidity("duplicate",!0);var b=k.groupId;if(b)for(var c,d=0;c=a._groups[d];d++)b===c.id&&(k.error={message:"DUPLICATE_GROUP"},a.taskGroupForm.newGroup.$setValidity("duplicate",!1))}},a.isValid=function(){return!(!k.groupId||k.error)}}]},{"camunda-commons-ui/vendor/angular":119}],211:[function(a,b,c){"use strict";var d='<ul class="meta list-inline dates times">\n\n  <li>\n\n    <span cam-widget-inline-field\n          tabindex="0"\n          ng-keydown="openDatepicker($event)"\n          class="followup-date"\n          ng-class="{overdue: task.followUp && (task.followUp < now) }"\n          type="datetime"\n          change="saveFollowUpDate(this)"\n          on-start-editing="startEditingFollowUpDate(this)"\n          on-cancel-editing="cancelEditingFollowUpDate(this)"\n          value="task.followUp">\n      <span tooltip-placement="top"\n            tooltip="{{ \'FOLLOW_UP_DATE\' | translate }}"\n            class="glyphicon glyphicon-calendar"></span>\n\n      <span ng-if="task.followUp"\n            tooltip-placement="top"\n            tooltip="{{ task.followUp | camDate:\'long\' }}"\n            am-time-ago="task.followUp">{{ task.followUp }}</span>\n      <a ng-if="!task.followUp"\n         translate="SET_FOLLOW_UP_DATE">Set follow up</a>\n    </span>\n\n    <a href\n       ng-if="task.followUp && !editingState.followUp"\n       tooltip-placement="top"\n       tooltip="{{ \'RESET_FOLLOW_UP_DATE\' | translate }}"\n       ng-click="resetFollowUpDate()"\n       class="reset-follow-up-date glyphicon glyphicon-remove">\n    </a>\n\n  </li>\n\n  <li>\n\n    <span cam-widget-inline-field\n          tabindex="0"\n          ng-keydown="openDatepicker($event)"\n          class="due-date"\n          ng-class="{overdue: task.due && (task.due < now) }"\n          type="datetime"\n          change="saveDueDate(this)"\n          on-start-editing="startEditingDueDate(this)"\n          on-cancel-editing="cancelEditingDueDate(this)"\n          value="task.due">\n\n      <span tooltip-placement="top"\n            tooltip="{{ \'DUE_DATE\' | translate }}"\n            class="glyphicon glyphicon-bell"></span>\n\n      <span ng-if="task.due"\n            tooltip-placement="top"\n            tooltip="{{ task.due | camDate:\'long\' }}"\n            am-time-ago="task.due">{{ task.due }}</span>\n\n      <a ng-if="!task.due"\n         translate="SET_DUE_DATE">Set due date</a>\n    </span>\n\n    <a href\n       ng-if="task.due && !editingState.due"\n       tooltip-placement="top"\n       tooltip="{{ \'RESET_DUE_DATE\' | translate }}"\n       ng-click="resetDueDate()"\n       class="reset-due-date glyphicon glyphicon-remove">\n    </a>\n  </li>\n</ul>\n\n\n<ul class="meta list-inline actors">\n  <li class="groups">\n    <span ng-click="editGroups()">\n      <span tooltip-placement="top"\n            tooltip="{{ \'GROUPS\' | translate }}"\n            class="glyphicon glyphicon-th"></span>\n\n      <a href ng-if="groupNames.length > 0">\n        {{ groupNames.join(\', \') }}\n      </a>\n\n      <a href ng-if="groupNames.length === 0"\n         translate="ADD_GROUPS">\n        Add groups\n      </a>\n    </span>\n  </li>\n\n  <li class="assignee set-value"\n      ng-if="!task.assignee">\n    <span tooltip-placement="top"\n          tooltip="{{ \'ASSIGNEE\' | translate }}"\n          class="glyphicon glyphicon-user"></span>\n\n    <a href\n       class="claim"\n       ng-click="claim()"\n       translate="CLAIM_TASK">Claim</a>\n  </li>\n\n  <li class="assignee"\n      ng-if="task.assignee">\n    <span cam-widget-inline-field\n          tabindex="0"\n          ng-keydown="editAssignee($event)"\n          ng-paste="editAssignee($event)"\n          ng-class="{\'has-error\': !validAssignee, \'validating\': validationInProgress}"\n          class="set-value"\n          type="text"\n          validate="isInvalidUser(this)"\n          change="assign(this)"\n          on-start-editing="startEditingAssignee(this)"\n          on-cancel-editing="cancelEditingAssignee(this)"\n          value="assignee.id">\n\n      <span tooltip-placement="top"\n            tooltip="{{ \'ASSIGNEE\' | translate }}"\n            class="glyphicon glyphicon-user"></span>\n      <span ng-if="assignee.firstName || assignee.lastName">{{ assignee.firstName }} {{ assignee.lastName }}</span>\n      <span ng-if="!(assignee.firstName || assignee.lastName)">{{ assignee.id }}</span>\n    </span>\n\n    <a href\n       ng-if="isAssignee && !editingState.assignee"\n       tooltip-placement="top"\n       tooltip="{{ \'UNCLAIM_TASK\' | translate }}"\n       ng-click="unclaim()"\n       class="unclaim glyphicon glyphicon-remove">\n    </a>\n\n    <a href\n       ng-if="!isAssignee && !editingState.assignee"\n       tooltip-placement="top"\n       tooltip="{{ \'RESET_TASK_ASSIGNEE\' | translate }}"\n       ng-click="resetAssignee()"\n       class="reset-assignee glyphicon glyphicon-remove">\n    </a>\n\n  </li>\n\n</ul>\n',e='<div class="modal-header">\n  <h3 class="modal-title">\n    {{ \'MANAGE_GROUPS\' | translate }}\n  </h3>\n</div>\n\n<div class="modal-body groups-modal">\n\n  <div notifications-panel></div>\n\n  <form name="taskGroupForm"\n        class="form-horizontal"\n        ng-controller="camTaskGroupsCtrl"\n        ng-hide="!modalGroupsState.$loaded || modalGroupsState.$error"\n        ng-submit="(isValid() && addGroup())">\n\n  <div ng-show="!modalGroupsState.$loaded && !modalGroupsState.$error"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    {{ \'LOADING\' | translate }}\n  </div>\n\n  <div class="text-help">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'USE_ADD_GROUP\' | translate }}\n  </div>\n\n    <div class="form-group">\n      <div class="col-xs-4 align-right">\n        <button class="btn btn-link"\n                ng-click="addGroup()"\n                type="button"\n                ng-disabled="!isValid()">\n          <span class="hidden-sm hidden-xs">{{ \'GROUP_ADD\' | translate }}</span>\n          <span class="glyphicon glyphicon-plus-sign"></span>\n        </button>\n      </div>\n\n      <div class="col-xs-8"\n           ng-class="{\'has-error\': newGroup.error }">\n        <input type="text"\n               name="newGroup"\n               required\n               placeholder="{{ \'GROUP_ID\' | translate }}"\n               class="form-control"\n               ng-model="newGroup.groupId"\n               ng-change="validateNewGroup()"/>\n\n        <span ng-if="newGroup.error"\n              class="help-block">\n          {{ newGroup.error.message | translate }}\n        </span>\n      </div>\n    </div>\n\n    <div class="form-group values"\n         ng-repeat="group in _groups">\n      <div class="col-xs-4 row-action">\n        <a href\n           ng-click="removeGroup(group, $index)"\n           class="glyphicon glyphicon-remove-sign"></a>\n      </div>\n\n      <div class="col-xs-8 value">\n        {{ group.id }}\n      </div>\n    </div>\n\n  </form>\n\n</div>\n\n<div class="modal-footer">\n  <div class="row row-action">\n    <div class="col-xs-12">\n      <button class="btn btn-xs btn-link"\n              type="button"\n              ng-click="$dismiss()"\n              translate="CLOSE">Close</button>\n    </div>\n  </div>\n</div>\n',f=a("camunda-commons-ui/vendor/angular");b.exports=["$modal","$timeout","camAPI","fixDate","unfixDate",function(a,b,c,g,h){var i=c.resource("task");return{scope:{taskData:"=",successHandler:"&",errorHandler:"&"},template:d,link:function(d,j){function k(){u.changed("task"),u.changed("taskList")}function l(a){return function(b){r(a,!1),d.task[a]=b.varValue,n(),document.querySelector("[cam-widget-inline-field]."+a.toLowerCase()+"-date").focus()}}function m(a){return function(){d.task[a]=null,n(),document.querySelector("[cam-widget-inline-field]."+a.toLowerCase()+"-date").focus()}}function n(){var a=d.task;delete a._embedded,delete a._links,a.due=g(a.due),a.followUp=g(a.followUp),i.update(a,function(a){if(k(),a)return v("TASK_UPDATE_ERROR",a)})}function o(){var a=document.querySelector('[cam-tasklist-task-meta] [cam-widget-inline-field][value="assignee.id"]');a?a.focus():(a=document.querySelector("[cam-tasklist-task-meta] .claim"),a&&a.focus())}function p(a){return function(){return"assignee"===a?s(d.assignee.id,function(){r(a,!0)}):void r(a,!0)}}function q(a){return function(){var b;r(a,!1),b="assignee"===a?document.querySelector('[cam-tasklist-task-meta] [cam-widget-inline-field][value="assignee.id"]'):document.querySelector("[cam-widget-inline-field]."+a.toLowerCase()+"-date"),b&&b.focus()}}function r(a,b){d.editingState[a]=b}function s(a,b){b=b||f.noop;var c=a.value;return d.validationInProgress||x===c?b():c?(x=c,d.validAssignee=!1,d.validationInProgress=!0,void w.list({maxResults:1,id:c},function(e,f){return c!==a.value?(d.validationInProgress=!1,s(a,b)):(d.validAssignee=!e&&f.length,d.validationInProgress=!1,void b())})):(d.validAssignee=!0,d.validationInProgress=!1,b())}function t(a){var b=y[a];return function(a){return a?v(b.error,a):void k()}}var u=d.taskData.newChild(d);d.successHandler()||function(){};var v=d.errorHandler()||function(){};u.observe("task",function(a){d.task=f.copy(a),d.task&&(d.task.followUp=h(d.task.followUp),d.task.due=h(d.task.due))}),u.observe("assignee",function(a){d.assignee=f.copy(a)}),u.observe("isAssignee",function(a){d.isAssignee=a}),u.observe("groups",function(a){a=a||[];for(var b,c=[],e=0;b=a[e];e++)c.push(b.name||b.id);d.groupNames=c}),d.saveFollowUpDate=l("followUp"),d.resetFollowUpDate=m("followUp"),d.startEditingFollowUpDate=p("followUp"),d.cancelEditingFollowUpDate=q("followUp"),d.saveDueDate=l("due"),d.resetDueDate=m("due"),d.startEditingDueDate=p("due"),d.cancelEditingDueDate=q("due"),d.editingState={followUp:!1,due:!1,assignee:!1},d.now=(new Date).toJSON(),d.openDatepicker=function(a){13===a.keyCode&&a.target===a.currentTarget&&b(function(){a.target.firstChild.click()})};var w=c.resource("user");d.validAssignee=!0,d.validationInProgress=!1;var x;d.isInvalidUser=function(){return d.validationInProgress||!d.validAssignee},d.editAssignee=function(a){b(function(){s(a.target,function(){13===a.keyCode&&a.target===a.currentTarget&&a.target.firstChild.click();
})})};var y={assigned:{error:"ASSIGNED_ERROR"},assigneeReseted:{error:"ASSIGNEE_RESET_ERROR"},claimed:{error:"CLAIM_ERROR"},unclaimed:{error:"UNCLAIM_ERROR"}};d.startEditingAssignee=p("assignee"),d.cancelEditingAssignee=q("assignee"),d.assign=function(a){var b=d.assignee?d.assignee.id:"";s(j.find(".assignee input")[0],function(){if(!d.validAssignee)return a.varValue=b,void(d.validAssignee=!0);r("assignee",!1);var c=a.varValue.trim();c?B(c):d.isAssignee?A():C()})};var z=d.claim=function(){var a=d.$root.authentication.name;i.claim(d.task.id,a,function(a){E.push(o),t("claimed")(a)})};d.$on("shortcut:claimTask",z);var A=d.unclaim=function(){i.unclaim(d.task.id,function(a){E.push(o),t("unclaimed")(a)})},B=d.setAssignee=function(a){i.assignee(d.task.id,a,function(a){E.push(o),t("assigned")(a)})},C=d.resetAssignee=function(){i.assignee(d.task.id,null,function(a){E.push(o),t("assigneeReseted")(a)})};d.editGroups=function(){function c(){f?(u.set("taskId",{taskId:d.task.id}),u.changed("taskList"),D.push(function(){b(function(){document.querySelector(".meta .groups a").focus()})})):document.querySelector(".meta .groups a").focus()}var f;a.open({scope:d,windowClass:"filter-edit-modal",template:e,controller:"camGroupEditModalCtrl",resolve:{taskMetaData:function(){return u},groupsChanged:function(){return function(){f=!0}},errorHandler:function(){return d.errorHandler}}}).result.then(c,c)};var D=[];d.$watch("groupNames",function(){D.forEach(function(a){a()}),D=[]});var E=[];d.$watch("assignee",function(){E.forEach(function(a){b(a)}),E=[]})}}}]},{"camunda-commons-ui/vendor/angular":119}],212:[function(a,b,c){"use strict";var d='<div ng-show="!taskState.$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-show="taskState.$loaded">\n  <div ng-hide="task">\n    <div class="no-task well">\n      <span class="glyphicon glyphicon-info-sign"></span>\n      {{ \'SELECT_TASK_IN_LIST\' | translate }}\n    </div>\n  </div>\n\n  <section ng-if="task"\n           class="task-card"\n           ng-class="{\'task-removed\': !taskExists}">\n    <header class="row">\n      <div class="col-xs-12">\n        <div class="tenant-id"\n             ng-if="task.tenantId"\n             tooltip="{{ task.tenantId }}">\n          {{ task.tenantId }}\n        </div>\n\n        <div class="names">\n          <h2 class="task">{{ task.name || task.taskDefinitionKey || task.id }} </h2>\n          <div class="definition-name">\n          <h4 class="process-definition"\n              ng-if="task.processDefinitionId">\n            {{ task._embedded.processDefinition[0].name || task._embedded.processDefinition[0].key }}\n            </h4>\n          <h4 class="case-definition"\n              ng-if="task.caseDefinitionId">\n            {{ task._embedded.caseDefinition[0].name || task._embedded.caseDefinition[0].key }}\n          </h4>\n          <a class="instance-link"  ng-if="instanceLink"\n            ng-href="{{instanceLink}}" class="ng-binding" href="{{instanceLink}}">\n            <span tooltip-placement="top"\n                  tooltip="{{ \'INSTANCE_LINK\' | translate }}"\n                  class="glyphicon glyphicon-new-window">\n              </span>\n          </a>\n          </div>\n        </div>\n\n        <div cam-tasklist-task-meta\n             task-data="taskData"\n             error-handler="errorHandler"></div>\n      </div>\n    </header>\n\n    <div class="task-removed-alert">\n      <div class="alert alert-info row">\n        <div class="col-xs-8 text-padded">\n          {{ \'TASK_HAS_BEEN_REMOVED\' | translate }}\n        </div>\n        <div class="col-xs-4 text-right">\n          <button class="btn btn-default"\n                  ng-click="dismissTask()">{{ \'CLOSE_TASK\' | translate }}</button>\n        </div>\n      </div>\n    </div>\n\n    <div class="row tabbed-content">\n\n      <div ng-show="taskDetailTabs.length" class="col-xs-12">\n        <ul class="nav nav-tabs">\n          <li ng-class="{ active: selectedTaskDetailTab == taskDetailTab }" ng-repeat="taskDetailTab in taskDetailTabs">\n            <a href ng-click="selectTaskDetailTab(taskDetailTab)">{{ taskDetailTab.label | translate }}</a>\n          </li>\n        </ul>\n\n        <div class="tab-content">\n          <view provider="selectedTaskDetailTab" vars="taskVars"></view>\n        </div>\n\n      </div>\n    </div>\n\n  </section>\n\n</div>\n\n\n',e=a("camunda-commons-ui/vendor/angular");b.exports=[function(){return{restrict:"A",scope:{tasklistData:"="},template:d,controller:["$scope","$q","$location","$translate","$interval","camAPI","Notifications","Views","search","Uri",function(a,b,c,d,f,g,h,i,j,k){function l(b){var c="",d="";if(b.processInstanceId)c="process-instance",d=b.processInstanceId;else{if(!b.caseInstanceId)return void(a.instanceLink=void 0);c="case-instance",d=b.caseInstanceId}a.instanceLink=k.appUri("cockpitbase://:engine/#/"+c+"/"+d)}function m(b,c){d(b).then(function(b){h.addError({status:b,message:c?c.message:"",exclusive:!0,scope:a})})}function n(a){if(a){if(a.indexOf("task is null")!==-1||a.indexOf("No matching task")!==-1)return"TASK_NOT_EXIST";if(a.indexOf("is suspended")!==-1)return"INSTANCE_SUSPENDED";if(a.indexOf("submission prevented")!==-1)return"SUBMISSION_PREVENTED"}return a}function o(a){if(a){var b=c.search()||{};delete b.task,delete b.detailsTab,c.search(e.copy(b))}else q.set("taskId",{taskId:null});q.changed("taskList")}function p(b){var c=j().detailsTab;if(b&&b.length){if(c){var d=i.getProvider({component:"tasklist.task.detail",id:c});if(d&&b.indexOf(d)!=-1)return void(a.selectedTaskDetailTab=d)}j.updateSilently({detailsTab:null}),a.selectedTaskDetailTab=b[0]}}var q=a.taskData=a.tasklistData.newChild(a);a.errorHandler=function(a,b){var c=n(b.message);return"TASK_NOT_EXIST"===c||"INSTANCE_SUSPENDED"===c?d(c).then(function(c){b.message=c,m(a,b),o(!0)}):void("SUBMISSION_PREVENTED"!==c&&m(a,b))},a.$watch("taskState.$error",function(a){if(a){var b=n(a.message);m(b,a),o(!1)}}),q.provide("assignee",["task",function(a){if(a&&a._embedded&&a._embedded.identityLink)for(var b=0;b<a._embedded.identityLink.length;b++)if("assignee"===a._embedded.identityLink[b].type)return a._embedded.identityLink[b]._embedded.user?a._embedded.identityLink[b]._embedded.user[0]:{id:a._embedded.identityLink[b].userId};return null}]),q.provide("groups",["task",function(a){var b=[];if(a&&a._embedded&&a._embedded.identityLink)for(var c=0;c<a._embedded.identityLink.length;c++)"candidate"===a._embedded.identityLink[c].type&&null!==a._embedded.identityLink[c].groupId&&(a._embedded.identityLink[c]._embedded.group?b.push(a._embedded.identityLink[c]._embedded.group[0]):b.push({id:a._embedded.identityLink[c].groupId}));return b}]),q.provide("isAssignee",["assignee",function(b){return!!b&&b.id===a.$root.authentication.name}]),q.provide("processDefinition",["task",function(a){return a&&a._embedded&&a._embedded.processDefinition?a._embedded.processDefinition[0]:null}]),q.provide("caseDefinition",["task",function(a){return a&&a._embedded&&a._embedded.caseDefinition?a._embedded.caseDefinition[0]:null}]),a.taskState=q.observe("task",function(b){a.task=b,b&&l(b)}),q.observe("isAssignee",function(b){a.isAssignee=b}),a.taskVars={read:["task","taskData","errorHandler"]},a.taskDetailTabs=i.getProviders({component:"tasklist.task.detail"}),a.selectedTaskDetailTab=a.taskDetailTabs[0],a.selectTaskDetailTab=function(b){a.taskExists&&(a.selectedTaskDetailTab=b,j.updateSilently({detailsTab:b.id}))},p(a.taskDetailTabs),a.$on("$routeChanged",function(){p(a.taskDetailTabs)});var r=g.resource("task");a.taskExists=!1,a.$watch("task.id",function(b){a.taskExists=!!b}),a.dismissTask=function(){o(!0)},a.$on("refresh",function(){a.task&&a.taskExists&&r.get(a.task.id,function(b){b&&404===b.status&&(a.taskExists=!1,a.$broadcast("taskremoved"))})})}]}}]},{"camunda-commons-ui/vendor/angular":119}],213:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./directives/cam-tasklist-task"),f=a("./directives/cam-tasklist-task-meta"),g=a("./controller/cam-tasklist-task-action-ctrl"),h=a("./controller/cam-tasklist-task-groups-ctrl"),i=a("./plugins/detail/cam-tasklist-task-detail-form-plugin"),j=a("./plugins/detail/cam-tasklist-task-detail-history-plugin"),k=a("./plugins/detail/cam-tasklist-task-detail-diagram-plugin"),l=a("./plugins/detail/cam-tasklist-task-detail-description-plugin"),m=a("./plugins/action/cam-tasklist-task-action-comment-plugin"),n=a("./plugins/action/modals/cam-tasklist-comment-form"),o=a("./modals/cam-tasklist-groups-modal"),p=a("../api/index");a("camunda-commons-ui/vendor/ui-bootstrap-tpls-0.11.2-camunda"),a("angular-moment");var q=d.module("cam.tasklist.task",[p.name,"ui.bootstrap","cam.tasklist.form","angularMoment"]);q.directive("camTasklistTask",e),q.directive("camTasklistTaskMeta",f),q.controller("camTaskActionCtrl",g),q.controller("camTaskGroupsCtrl",h),q.config(i),q.config(j),q.config(k),q.config(l),q.config(m),q.controller("camCommentCreateModalCtrl",n),q.controller("camGroupEditModalCtrl",o),b.exports=q},{"../api/index":175,"./controller/cam-tasklist-task-action-ctrl":209,"./controller/cam-tasklist-task-groups-ctrl":210,"./directives/cam-tasklist-task":212,"./directives/cam-tasklist-task-meta":211,"./modals/cam-tasklist-groups-modal":214,"./plugins/action/cam-tasklist-task-action-comment-plugin":215,"./plugins/action/modals/cam-tasklist-comment-form":216,"./plugins/detail/cam-tasklist-task-detail-description-plugin":217,"./plugins/detail/cam-tasklist-task-detail-diagram-plugin":218,"./plugins/detail/cam-tasklist-task-detail-form-plugin":219,"./plugins/detail/cam-tasklist-task-detail-history-plugin":220,"angular-moment":"angular-moment","camunda-commons-ui/vendor/angular":119,"camunda-commons-ui/vendor/ui-bootstrap-tpls-0.11.2-camunda":123}],214:[function(a,b,c){"use strict";b.exports=["$scope","taskMetaData","groupsChanged",function(a,b,c){a.taskGroupsData=b.newChild(a),a.groupsChanged=c||function(){},a.$on("$locationChangeSuccess",function(){a.$dismiss()})}]},{}],215:[function(a,b,c){"use strict";var d='<a href\n   class="createCommentLink"\n   ng-click="createComment()">\n  {{ \'COMMENT_CREATE\' | translate }}\n  <span class="glyphicon glyphicon-plus-sign"></span>\n</a>\n',e='<form class="form form-horizontal"\n      name="newComment"\n      role="form">\n\n  <div class="modal-header">\n    <h3 class="modal-title">\n      {{ \'COMMENT_CREATE\' | translate }}\n    </h3>\n  </div>\n\n  <div class="modal-body">\n      <textarea class="form-control"\n             id="comment-form-message"\n             ng-model="comment.message"\n             placeholder="{{ \'COMMENT_MESSAGE_PLACEHOLDER\' | translate }}">\n      </textarea>\n  </div>\n\n  <div class="modal-footer">\n    <div class="row row-action">\n      <div class="col-xs-12">\n        <button class="btn btn-xs btn-link"\n                type="button"\n                ng-click="$dismiss()"\n                translate="CLOSE">Close</button>\n\n        <button class="btn btn-primary"\n                type="submit"\n                ng-disabled="!comment.message"\n                ng-click="submit()"\n                translate="SAVE">Save</button>\n\n      </div>\n    </div>\n  </div>\n</form>\n',f=["$scope","$modal",function(a,b){var c=a.taskData.newChild(a);c.observe("task",function(b){a.task=b}),a.createComment=function(){b.open({scope:a,windowClass:"filter-edit-modal",size:"lg",template:e,controller:"camCommentCreateModalCtrl",resolve:{task:function(){return a.task}}}).result.then(function(){c.changed("task"),document.querySelector(".createCommentLink").focus()},function(){document.querySelector(".createCommentLink").focus()})}}],g=function(a){a.registerDefaultView("tasklist.task.action",{id:"task-action-comment",template:d,controller:f,priority:100})};g.$inject=["ViewsProvider"],b.exports=g},{}],216:[function(a,b,c){"use strict";b.exports=["$scope","$translate","Notifications","camAPI","task",function(a,b,c,d,e){function f(d,e){b(d).then(function(b){c.addError({status:b,message:e?e.message:"",exclusive:!0,scope:a})})}var g=d.resource("task");a.comment={message:""},a.$on("$locationChangeSuccess",function(){a.$dismiss()}),a.submit=function(){g.createComment(e.id,a.comment.message,function(b){return b?f("COMMENT_SAVE_ERROR",b):void a.$close()})}}]},{}],217:[function(a,b,c){"use strict";var d='<div class="description-pane">\n  <div ng-hide="task.description"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_DESCRIPTION\' | translate }}\n  </div>\n  <div ng-show="task.description">\n    {{ task.description }}\n  </div>\n</div>\n',e=["$scope",function(){}],f=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-description",label:"DESCRIPTION",template:d,controller:e,priority:100})};f.$inject=["ViewsProvider"],b.exports=f},{}],218:[function(a,b,c){"use strict";function d(a,b,c){var d=a.defer();return b.xml(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise}var e='<div ng-show="!diagramState.$loaded"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-if="diagramState.$loaded">\n  <div ng-hide="diagram.definition && diagram.xml"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_DIAGRAM\' | translate }}\n  </div>\n\n  <div ng-if="processDefinition && diagram.xml">\n    <div class="diagram-pane"\n         cam-widget-bpmn-viewer\n         diagram-data="diagram.xml"\n         on-load="highlightTask()"\n         control="control">\n    </div>\n  </div>\n\n  <div ng-if="caseDefinition && diagram.xml">\n    <div class="diagram-pane"\n         cam-widget-cmmn-viewer\n         diagram-data="diagram.xml"\n         on-load="highlightTask()"\n         control="control">\n    </div>\n  </div>\n\n</div>\n',f=["$scope","$q","camAPI",function(a,b,c){var e=c.resource("process-definition"),f=c.resource("case-definition"),g=a.taskData.newChild(a);g.provide("xml",["processDefinition","caseDefinition",function(a,c){return a||c?a?d(b,e,a).then(function(a){return a.bpmn20Xml}):d(b,f,c).then(function(a){return a.cmmnXml}):b.when(null)}]),g.provide("diagram",["xml","task","caseDefinition","processDefinition",function(a,b,c,d){return{xml:a,task:b,definition:d||c}}]),g.observe("processDefinition",function(b){a.processDefinition=b}),g.observe("caseDefinition",function(b){a.caseDefinition=b}),a.diagramState=g.observe("diagram",function(b){a.diagram=b}),a.control={},a.highlightTask=function(){a.control.highlight(a.diagram.task.taskDefinitionKey)}}],g=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-diagram",label:"DIAGRAM",template:e,controller:f,priority:600})};g.$inject=["ViewsProvider"],b.exports=g},{}],219:[function(a,b,c){"use strict";var d='<div class="form-pane">\n\n  <div ng-if="taskFormState.$error" class="alert alert-danger" role="alert">\n    <span class="glyphicon glyphicon-exclamation-sign"></span>\n    <strong class="status">{{ \'FORM_FAILURE\' | translate }}</strong>\n    <span class="message">{{ taskFormState.$error.message }}</span>\n  </div>\n\n  <div ng-if="taskFormState.$loaded && !taskFormState.$error"\n       cam-tasklist-form\n       tasklist-form="taskForm"\n       on-form-completion-callback="completionCallback"\n       options="options"\n       params="params" >\n  </div>\n\n</div>',e=a("camunda-commons-ui/vendor/angular"),f=["$scope","$location","$q","camAPI","assignNotification",function(a,b,c,d,f){function g(){var a=b.search();delete a.task,delete a.detailsTab,b.search(a),k.changed("taskList")}var h=d.resource("task"),i=a.errorHandler,j=a.options={hideCompleteButton:!1,hideLoadVariablesButton:!1,disableCompleteButton:!1,disableForm:!1,disableAddVariableButton:!1},k=a.taskData.newChild(a);k.provide("taskForm",["task",function(a){var b=c.defer();return a&&a.id?(h.form(a.id,function(a,c){a?b.reject(a):b.resolve(c)}),b.promise):b.resolve(null)}]),k.observe(["task","isAssignee",function(b,c){a.options=e.copy(j),b&&b.id?a.params={taskId:b.id,caseDefinitionId:b.caseDefinitionId,caseInstanceId:b.caseInstanceId,processDefinitionId:b.processDefinitionId,processInstanceId:b.processInstanceId}:a.params=null,a.options.disableCompleteButton=!c,a.options.disableForm=!c,a.options.disableAddVariableButton=!c}]),a.taskFormState=k.observe("taskForm",function(b){a.taskForm=e.copy(b)}),a.completionCallback=function(b){return b?i("COMPLETE_ERROR",b):(a.task.processInstanceId?f({assignee:a.task.assignee,processInstanceId:a.task.processInstanceId}):a.task.caseInstanceId&&f({assignee:a.task.assignee,caseInstanceId:a.task.caseInstanceId}),void g())}}],g=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-form",label:"FORM",template:d,controller:f,priority:1e3})};g.$inject=["ViewsProvider"],b.exports=g},{"camunda-commons-ui/vendor/angular":119}],220:[function(a,b,c){"use strict";function d(a){return["dueDate","followUpDate"].indexOf(a)!==-1}var e='<div class="history-pane">\n\n  <div ng-show="!state.$loaded"\n       class="loader">\n    <span class="animate-spin glyphicon glyphicon-refresh"></span>\n    {{ \'LOADING\' | translate }}\n  </div>\n\n  <div ng-hide="!state.$loaded">\n    <div ng-if="!days.length">\n      <div class="well">\n        <span class="glyphicon glyphicon-info-sign"></span>\n        {{ \'NO_HISTORY\' | translate }}\n      </div>\n    </div>\n\n    <div ng-if="days.length"\n         class="day row"\n         ng-repeat="day in days | orderBy:\'-date\'">\n      <div class="col-xs-2">\n        <div class="date-badge">\n          <div>\n            <span class="day">{{ day.date | camDate:\'day\' }}</span>\n            <span class="month">{{ day.date | camDate:\'monthName\' }}</span>\n            <span class="year">{{ day.date | date:\'yyyy\' }}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-xs-10">\n        <div class="instant row"\n             ng-repeat="event in day.events | orderBy:\'-time\'">\n          <div class="col-xs-2 operation-meta">\n            <div class="operation-time"\n                 tooltip-placement="left"\n                 tooltip="{{ event.time | camDate:\'long\' }}">{{ event.time | date:\'HH:mm\' }}</div>\n            <div class="operation-user"\n                 tooltip-placement="top"\n                 tooltip="{{ event.userId }}">{{ event.userId }}</div>\n          </div>\n\n          <div class="col-xs-10 operation-detail">\n            <div class="row">\n              <h4 class="col-xs-12">{{ event.type | translate }}</h4>\n            </div>\n\n            <div class="row event-body">\n              <div class="line"\n                   ng-repeat="subEvent in event.subEvents"\n                   ng-if="event.type !== \'Comment\'">\n                <h5 class="col-sm-12 col-md-3 event-property">{{ subEvent.property | translate }}</h5>\n\n                <div class="col-sm-12 col-md-9">\n                  <div class="new-value" ng-if="subEvent.newValue">\n                    <span ng-if="subEvent.propertyIsDate">{{ subEvent.newValue | camDate }}</span>\n                    <span ng-if="!subEvent.propertyIsDate">{{ subEvent.newValue }}</span>\n                  </div>\n\n                  <div class="original-value"\n                       ng-if="subEvent.orgValue">\n                    <span ng-if="subEvent.propertyIsDate">{{ subEvent.orgValue | camDate }}</span>\n                    <span ng-if="!subEvent.propertyIsDate">{{ subEvent.orgValue }}</span>\n                  </div>\n                </div>\n              </div>\n              <div class="col-xs-12"\n                   ng-if="event.type === \'Comment\'"\n                   nl2br="event.message"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',f=a("jquery"),g=a("camunda-commons-ui/vendor/moment"),h=function(a,b){var c=f.grep(a,function(a){return g(a.date).format("YYYY-MM-DD")===g(b).format("YYYY-MM-DD")});return c.length>0?c[0]:(c={date:b,events:[]},a.push(c),c)},i=function(a,b){var c=f.grep(a,function(a){return a.operationId===b.operationId});return c.length>0?c[0]:(c={time:b.timestamp,type:b.operationType,operationId:b.operationId,userId:b.userId,subEvents:[]},a.push(c),c)},j=["$scope","camAPI","$q",function(a,b,c){var e=b.resource("history"),f=b.resource("task"),g=a.taskData.newChild(a);g.provide("history",["task",function(a){var b=c.defer();return a?(e.userOperation({taskId:a.id},function(a,c){a?b.reject(a):b.resolve(c)}),b.promise):b.resolve(null)}]),g.provide("comments",["task",function(a){var b=c.defer();return a?f.comments(a.id)["catch"](function(){}):b.resolve(null)}]),g.provide("orderedHistoryAndCommentsByDay",["history","comments",function(a,b){a=a||{},b=b||{};for(var c,e,f=[],g=0;e=a[g];g++){c=h(f,e.timestamp);var j=i(c.events,e);d(e.property)&&(e.propertyIsDate=!0,e.newValue=e.newValue?parseInt(e.newValue,10):null,e.orgValue=e.orgValue?parseInt(e.orgValue,10):null),j.subEvents.push(e)}g=0,c=null;for(var k;k=b[g];g++)c=h(f,k.time),k.type="Comment",c.events.push(k);return f}]),a.state=g.observe("orderedHistoryAndCommentsByDay",function(b){a.days=b})}],k=function(a){a.registerDefaultView("tasklist.task.detail",{id:"task-detail-history",label:"HISTORY",template:e,controller:j,priority:800})};k.$inject=["ViewsProvider"],b.exports=k},{"camunda-commons-ui/vendor/moment":122,jquery:"jquery"}],221:[function(a,b,c){"use strict";b.exports=["$scope","Views",function(a,b){a.tasklistVars={read:["tasklistData"]},a.tasklistPlugins=b.getProviders({component:"tasklist.list"}),a.tasklistHeaderPlugins=b.getProviders({component:"tasklist.header"})}]},{}],222:[function(a,b,c){"use strict";var d='<div ng-show="!state.$loaded && !state.$error"\n     class="loader">\n  <span class="animate-spin glyphicon glyphicon-refresh"></span>\n  {{ \'LOADING\' | translate }}\n</div>\n\n<div ng-show="state.$error"\n     class="alert alert-danger"\n     role="alert">\n  <span class="glyphicon glyphicon-exclamation-sign"></span>\n  <strong class="status">{{ \'FAILURE\' | translate }}:</strong>\n  <span class="message">{{ \'TASK_LIST_LOADING_FAILURE\' | translate }}</span>\n</div>\n\n<div ng-if="state.$loaded && !state.$error">\n  <div ng-if="!totalItems"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'NO_MATCHING_TASK\' | translate }}\n  </div>\n\n  <div ng-if="totalItems && !tasks"\n       class="well">\n    <span class="glyphicon glyphicon-info-sign"></span>\n    {{ \'RESTRICTION_NOTICE\' | translate }}\n    <a ng-click="resetPage()">{{ \'RESET_PAGE\' | translate }}</a>\n  </div>\n\n  <div ng-if="totalItems"\n       ng-keydown="handleKeydown($event)">\n    <ol class="tasks-list list-unstyled">\n      <li class="task"\n          ng-repeat="(delta, task) in tasks"\n          ng-class="{active: currentTaskId === task.id}">\n\n        <div class="clickable"\n             ng-click="focus($event, task)">\n          <div class="names">\n            <h4 class="task">\n              <a ng-href="{{ getHrefUrl(task) }}"\n                 ng-click="focus($event, task)">\n                {{ task.name || task.taskDefinitionKey || task.id }}\n              </a>\n            </h4>\n\n            <h6 class="process-definition"\n                ng-if="task.processDefinitionId">\n              {{ task._embedded.processDefinition[0].name || task._embedded.processDefinition[0].key }}\n            </h6>\n\n            <h6 class="case-definition"\n                ng-if="task.caseDefinitionId">\n              {{ task._embedded.caseDefinition[0].name || task._embedded.caseDefinition[0].key }}\n            </h6>\n\n            <h5 class="assignee"\n                ng-if="task.assignee"\n                tooltip="task.assignee">\n              {{ assigneeDisplayedName(task); }}\n            </h5>\n          </div>\n\n          <div class="cells-wrapper">\n            <div class="dates"\n                 ng-click="focus($event, task)">\n              <span class="due-date"\n                    ng-if="!!task.due"\n                    ng-class="{overdue: task.due && (task.due < now) }">\n                {{ \'DUE\' | translate }}\n                <span tooltip-placement="top"\n                      tooltip="{{ task.due | camDate:\'long\' }}"\n                      am-time-ago="task.due">{{ task.due }}</span>\n              </span>\n\n              <span class="followup-date"\n                    ng-if="!!task.followUp"\n                    ng-class="{overdue: task.followUp && (task.followUp < now) }">\n                {{ \'FOLLOW_UP\' | translate }}\n                <span tooltip-placement="top"\n                      tooltip="{{ task.followUp | camDate:\'long\' }}"\n                      am-time-ago="task.followUp">{{ task.followUp }}</span>\n              </span>\n\n              <span class="creation-date">\n                {{ \'CREATION\' | translate }}\n                <span tooltip-placement="top"\n                      tooltip="{{ task.created | camDate:\'long\' }}"\n                      am-time-ago="task.created">{{ task.created }}</span>\n              </span>\n            </div>\n\n            <div class="priority"\n                 tooltip-placement="right"\n                 tooltip="{{ \'PRIORITY\' | translate }}">\n              {{ task.priority }}\n            </div>\n          </div>\n\n          <div class="task-card-details"\n               ng-class="{expanded: !!expanded[delta]}">\n            <view ng-repeat="plugin in cardPlugins"\n                  data-plugin-id="{{ plugin.id }}"\n                  class="tasklist-card-plugin"\n                  vars="cardPluginVars"\n                  provider="plugin"></view>\n\n            <div class="shutter actions"\n                 ng-click="toggle(delta, $event)"\n                 tooltip-placement="bottom"\n                 tooltip="{{ (!!expanded[delta] ? \'SHOW_LESS\' : \'SHOW_MORE\') | translate }}">\n              <a class="glyphicon"\n                 ng-class="{\'glyphicon-menu-up\': expanded[delta], \'glyphicon-menu-down\': !expanded[delta]}"\n                 href>\n              </a>\n            </div>\n          </div><!-- / details -->\n        </div>\n      </li>\n    </ol>\n  </div>\n</div>\n\n<pagination ng-show="state.$loaded && totalItems > pageSize"\n            total-items="totalItems"\n            items-per-page="pageSize"\n            max-size="5"\n            class="pagination-sm"\n            boundary-links="true"\n            ng-model="pageNum"\n            ng-change="pageChange()"\n            next-text="&rsaquo;"\n            last-text="&raquo;"\n            previous-text="&lsaquo;"\n            first-text="&laquo;"></pagination>\n',e=a("camunda-commons-ui/vendor/angular"),f=a("jquery");b.exports=[function(){return{restrict:"A",scope:{tasklistData:"="},template:d,controller:["$element","$scope","$location","search","Views","$timeout",function(a,b,c,d,g,h){function i(a){d.updateSilently(a)}function j(){l.set("taskId",{taskId:null});var a=c.search()||{};a.task=null,i(a)}function k(){f(".task-card-details").each(function(){var a=0;f("view",this).each(function(){a+=this.clientHeight}),a<=20&&f(this).addClass("no-shutter")})}b.expanded={},b.toggle=function(a,c){b.expanded[a]=!b.expanded[a],c&&c.preventDefault&&c.preventDefault(),c.stopPropagation()},b.pageNum=1,b.pageSize=null,b.totalItems=0,b.now=(new Date).toJSON(),b.filterProperties=null;var l=b.tasklistData.newChild(b);b.query={};var m=b.assignees={},n=function(a){for(var c=0;c<a.length;c++)b.assignees[a[c].id]=a[c]},o=[],p=function(){o.push(function(){h(k)}),o.forEach(function(a){a()}),o=[],b.expanded={}};b.state=l.observe("taskList",function(a){b.totalItems=a.count,b.tasks=a._embedded.task,a._embedded.assignee&&n(a._embedded.assignee),p()}),b.$on("shortcut:focusList",function(){var a=document.querySelector("[cam-tasks] .tasks-list li:first-child a");a&&a.focus()}),b.assigneeDisplayedName=function(a){var b=m[a.assignee]||{},c=b.firstName||b.lastName;return c?(b.firstName||"")+" "+(b.lastName||""):m[a.assignee]&&c?"&lt;nobody&gt;":a.assignee},l.observe("taskListQuery",function(a){if(a){var f=b.query,g=c.search()||{},h=g.forceDisplayTask;if(b.query=e.copy(a),b.pageSize=b.query.maxResults,b.pageNum=b.query.firstResult/b.pageSize+1,h)return delete g.forceDisplayTask,d.updateSilently(g);f.id&&f.id!==a.id&&j()}else j()}),l.observe("taskId",function(a){b.currentTaskId=a.taskId}),l.observe(["currentFilter",function(a){a&&(b.filterProperties=null!==a?a.properties:null)}]),b.focus=function(a,d){a&&a.preventDefault();var e=d.id;l.set("taskId",{taskId:e}),b.currentTaskId=e;var f=c.search()||{};f.task=e,i(f);var g=document.querySelector('[cam-tasks] .tasks-list .task [href*="#/?task='+e+'"]');g&&g.focus()};var q=function(){for(var a=0;a<b.tasks.length-1;a++)if(b.tasks[a].id===b.currentTaskId)return b.focus(null,b.tasks[a+1]);b.pageNum<Math.ceil(b.totalItems/b.pageSize)&&(b.pageNum++,b.pageChange(),o.push(function(){h(function(){b.focus(null,b.tasks[0])})}))},r=function(){for(var a=1;a<b.tasks.length;a++)if(b.tasks[a].id===b.currentTaskId)return b.focus(null,b.tasks[a-1]);b.pageNum>1&&(b.pageNum--,b.pageChange(),o.push(function(){h(function(){b.focus(null,b.tasks[b.tasks.length-1])})}))};b.handleKeydown=function(a){40===a.keyCode?(a.preventDefault(),q(a)):38===a.keyCode&&(a.preventDefault(),r()),h(function(){var b=f(a.target).find("li.active")[0];b&&b.scrollIntoView(!1)})},b.getHrefUrl=function(a){var b="#/?task="+a.id,d=c.search().detailsTab;return d&&(b=b+"&detailsTab="+d),b},b.cardPluginVars={read:["task","filterProperties"]},b.cardPlugins=g.getProviders({component:"tasklist.card"}),b.pageChange=function(){i({page:b.pageNum}),l.changed("taskListQuery")},b.resetPage=function(){i({page:1}),l.changed("taskListQuery")}}]}}]},{"camunda-commons-ui/vendor/angular":119,jquery:"jquery"}],223:[function(a,b,c){"use strict";var d=a("camunda-commons-ui/vendor/angular"),e=a("./controller/cam-tasklist-list-ctrl"),f=a("./directives/cam-tasklist-tasks"),g=a("./plugins/cam-tasklist-search-plugin"),h=d.module("cam.tasklist.tasklist",["ui.bootstrap"]);h.controller("camListCtrl",e),h.directive("camTasks",f),h.config(g),b.exports=h},{"./controller/cam-tasklist-list-ctrl":221,"./directives/cam-tasklist-tasks":222,"./plugins/cam-tasklist-search-plugin":224,"camunda-commons-ui/vendor/angular":119}],224:[function(a,b,c){"use strict";var d='<div cam-widget-search\n     cam-widget-search-total="totalItems"\n     cam-widget-search-valid-searches="searches"\n     cam-widget-search-match-any="matchAny"\n     cam-widget-search-translations="translations"\n     cam-widget-search-types="types"\n     cam-widget-search-operators="operators"\n     cam-widget-search-mode="filter"\n     cam-widget-search-storage-group="\'TLT\'"\n     class="multiline-pills"></div>\n',e='{\n  "types": [\n    {\n      "id": {\n        "key": "processVariables",\n        "value": "PROCESS_VARIABLE"\n      },\n      "extended": true,\n      "allowDates": true\n    },\n    {\n      "id": {\n        "key": "taskVariables",\n        "value": "TASK_VARIABLE"\n      },\n      "extended": true,\n      "allowDates": true\n    },\n    {\n      "id": {\n        "key": "caseInstanceVariables",\n        "value": "CASE_VARIABLE"\n      },\n      "extended": true,\n      "allowDates": true\n    },\n    {\n      "id": {\n        "key": "processInstanceId",\n        "value": "PROCESS_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "processInstanceBusinessKey",\n        "value": "PROCESS_INSTANCE_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ],\n      "enforceString" : true\n    },    {\n      "id": {\n        "key": "processDefinitionId",\n        "value": "PROCESS_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "processDefinitionKey",\n        "value": "PROCESS_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "processDefinitionName",\n        "value": "PROCESS_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "executionId",\n        "value": "EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseInstanceId",\n        "value": "CASE_INSTANCE_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseInstanceBusinessKey",\n        "value": "CASE_INSTANCE_BUSINESS_KEY"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "caseDefinitionId",\n        "value": "CASE_DEFINITION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseDefinitionKey",\n        "value": "CASE_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "caseDefinitionName",\n        "value": "CASE_DEFINITION_NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "caseExecutionId",\n        "value": "CASE_EXECUTION_ID"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "assignee",\n        "value": "ASSIGNEE"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "owner",\n        "value": "OWNER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "candidateGroup",\n        "value": "CANDIDATE_GROUP"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "candidateUser",\n        "value": "CANDIDATE_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "involvedUser",\n        "value": "INVOLVED_USER"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "taskDefinitionKey",\n        "value": "TASK_DEFINITION_KEY"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "name",\n        "value": "NAME"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ],\n      "default": true\n    },    {\n      "id": {\n        "key": "description",\n        "value": "DESCRIPTION"\n      },\n      "operators": [\n        {\n          "key": "Like",\n          "value": "LIKE"\n        },{\n          "key": "eq",\n          "value": "="\n        }\n\n      ]\n    },    {\n      "id": {\n        "key": "priority",\n        "value": "PRIORITY"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        },\n        {\n          "key": "max",\n          "value": "<="\n        },\n        {\n          "key": "min",\n          "value": ">="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "due",\n        "value": "DUE_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },    {\n      "id": {\n        "key": "followUp",\n        "value": "FOLLOW_UP_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },    {\n      "id": {\n        "key": "created",\n        "value": "CREATION_DATE"\n      },\n      "operators": [\n        {\n          "key": "Before",\n          "value": "BEFORE"\n        },\n        {\n          "key": "After",\n          "value": "AFTER"\n        }\n      ],\n      "allowDates": true,\n      "enforceDates": true\n    },    {\n      "id": {\n        "key": "delegationState",\n        "value": "DELEGATION_STATE"\n      },\n      "operators": [\n        {\n          "key": "eq",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "tenantIdIn",\n        "value": "TENANT_ID"\n      },\n      "operators": [\n        {\n          "key": "in",\n          "value": "="\n        }\n      ]\n    },    {\n      "id": {\n        "key": "withoutTenantId",\n        "value": "WITHOUT_TENANT_ID"\n      },\n      "basic": true\n    }\n  ],\n  "operators": {\n    "date": [\n      {\n        "key": "lteq",\n        "value": "BEFORE"\n      },\n      {\n        "key": "gteq",\n        "value": "AFTER"\n      }\n    ],\n    "boolean": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "object": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      }\n    ],\n    "number": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      }\n    ],\n    "string": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ],\n    "undefined": [\n      {\n        "key": "eq",\n        "value": "="\n      },\n      {\n        "key": "neq",\n        "value": "!="\n      },\n      {\n        "key": "gt",\n        "value": ">"\n      },\n      {\n        "key": "gteq",\n        "value": ">="\n      },\n      {\n        "key": "lt",\n        "value": "<"\n      },\n      {\n        "key": "lteq",\n        "value": "<="\n      },\n      {\n        "key": "like",\n        "value": "like"\n      }\n    ]\n  },\n  "tooltips": {\n    "inputPlaceholder": "SEARCH_PLACEHOLDER",\n    "invalid": "INVALID_SEARCH",\n    "deleteSearch": "DELETE_SEARCH",\n    "type": "TYPE",\n    "name": "PROPERTY",\n    "operator": "OPERATOR",\n    "value": "VALUE"\n  }\n}\n',f=a("camunda-commons-ui/vendor/angular"),g=a("camunda-commons-ui/vendor/moment"),h=/^[\s]*(\#|\$)\{/,i=/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(|\.[0-9]{0,4})$/,j=JSON.parse(e),k=function(a,b){
return b?""+a:isNaN(a)||""===a.trim()?"true"===a||"false"!==a&&("NULL"===a?null:0===a.indexOf("'")&&a.lastIndexOf("'")===a.length-1?a.substr(1,a.length-2):a):+a},l=function(a,b,c){var d=/(\\%)|(\\_)/g,e=/(\%)|(\_)/;return"like"!==b.toLowerCase()||e.test(a.replace(d,""))?"in"==b?a.split(","):c.allowDates&&i.test(a)?g(a).format("YYYY-MM-DDTHH:mm:ss.SSSZZ"):a:"%"+a+"%"},m=function(a){return!!a.basic||l(k(a.value.value,a.enforceString),a.operator.value.key,a)},n=function(a,b,c,d){var e=b;return["Like","Before","After"].indexOf(c)!==-1&&(e+=c),h.test(d)&&["assignee","owner","candidateGroup","candidateUser","involvedUser","processInstanceBusinessKey"].indexOf(b)!==-1&&(e+="Expression"),"priority"===b&&"eq"!==c&&(e=c+"Priority"),e},o=["$scope","$translate","$location",function(a,b,c){a.searches=[],a.translations={},a.matchAny=c.search().searchOrQuery||!1,f.forEach(j.tooltips,function(c,d){a.translations[d]=b.instant(c)}),a.types=j.types.map(function(a){return a.id.value=b.instant(a.id.value),a.operators&&(a.operators=a.operators.map(function(a){return a.value=b.instant(a.value),a})),a}),a.operators=j.operators,f.forEach(a.operators.date,function(a){a.value=b.instant(a.value)});var d=a.tasklistData.newChild(a);a.$watch("[searches, matchAny]",function(){var b,c={};a.matchAny===!0?(c.orQueries=[{}],b=c.orQueries[0],b.processVariables=[],b.taskVariables=[],b.caseInstanceVariables=[]):(c.processVariables=[],c.taskVariables=[],c.caseInstanceVariables=[],b=c),f.forEach(a.searches,function(a){"object"==typeof b[a.type.value.key]?b[a.type.value.key].push({name:"object"==typeof a.name.value?a.name.value.key:a.name.value,operator:a.operator.value.key,value:m(a)}):b[n(a,a.type.value.key,a.operator.value.key,a.value.value)]=m(a)}),a.matchAny===!1&&delete c.orQueries,d.set("searchQuery",c)},!0),d.observe("currentFilter",function(b){f.forEach(a.types,function(a){a.potentialNames=[];for(var c=0;c<(b&&b.properties&&b.properties.variables&&b.properties.variables.length);c++){var d=b.properties.variables[c];a.potentialNames.push({key:d.name,value:d.label+" ("+d.name+")"})}}),f.forEach(a.searches,function(b){b.potentialNames=a.types.filter(function(a){return a.id.key===b.type.value.key})[0].potentialNames})}),d.observe("taskList",function(b){a.totalItems=b.count})}],p=function(a){a.registerDefaultView("tasklist.list",{id:"task-search",template:d,controller:o,priority:100})};p.$inject=["ViewsProvider"],b.exports=p},{"camunda-commons-ui/vendor/angular":119,"camunda-commons-ui/vendor/moment":122}]},{},[176])(176)});